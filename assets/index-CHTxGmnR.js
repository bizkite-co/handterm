import{p as wl,B as Dm,e as CC,s as wC,a as kC,_ as bC}from"./monaco-DqPxU1OT.js";function xC(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();const Bm=globalThis||void 0||self;function EC(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Fm(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var Nm={exports:{}},yu={},$m={exports:{}},De={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oa=Symbol.for("react.element"),RC=Symbol.for("react.portal"),TC=Symbol.for("react.fragment"),LC=Symbol.for("react.strict_mode"),AC=Symbol.for("react.profiler"),MC=Symbol.for("react.provider"),PC=Symbol.for("react.context"),OC=Symbol.for("react.forward_ref"),IC=Symbol.for("react.suspense"),DC=Symbol.for("react.memo"),BC=Symbol.for("react.lazy"),Up=Symbol.iterator;function FC(e){return e===null||typeof e!="object"?null:(e=Up&&e[Up]||e["@@iterator"],typeof e=="function"?e:null)}var Hm={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Um=Object.assign,jm={};function $s(e,t,r){this.props=e,this.context=t,this.refs=jm,this.updater=r||Hm}$s.prototype.isReactComponent={};$s.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};$s.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Wm(){}Wm.prototype=$s.prototype;function Pf(e,t,r){this.props=e,this.context=t,this.refs=jm,this.updater=r||Hm}var Of=Pf.prototype=new Wm;Of.constructor=Pf;Um(Of,$s.prototype);Of.isPureReactComponent=!0;var jp=Array.isArray,zm=Object.prototype.hasOwnProperty,If={current:null},Km={key:!0,ref:!0,__self:!0,__source:!0};function Vm(e,t,r){var n,i={},s=null,a=null;if(t!=null)for(n in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(s=""+t.key),t)zm.call(t,n)&&!Km.hasOwnProperty(n)&&(i[n]=t[n]);var o=arguments.length-2;if(o===1)i.children=r;else if(1<o){for(var l=Array(o),h=0;h<o;h++)l[h]=arguments[h+2];i.children=l}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)i[n]===void 0&&(i[n]=o[n]);return{$$typeof:oa,type:e,key:s,ref:a,props:i,_owner:If.current}}function NC(e,t){return{$$typeof:oa,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Df(e){return typeof e=="object"&&e!==null&&e.$$typeof===oa}function $C(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Wp=/\/+/g;function gc(e,t){return typeof e=="object"&&e!==null&&e.key!=null?$C(""+e.key):t.toString(36)}function Ka(e,t,r,n,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case oa:case RC:a=!0}}if(a)return a=e,i=i(a),e=n===""?"."+gc(a,0):n,jp(i)?(r="",e!=null&&(r=e.replace(Wp,"$&/")+"/"),Ka(i,t,r,"",function(h){return h})):i!=null&&(Df(i)&&(i=NC(i,r+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(Wp,"$&/")+"/")+e)),t.push(i)),1;if(a=0,n=n===""?".":n+":",jp(e))for(var o=0;o<e.length;o++){s=e[o];var l=n+gc(s,o);a+=Ka(s,t,r,l,i)}else if(l=FC(e),typeof l=="function")for(e=l.call(e),o=0;!(s=e.next()).done;)s=s.value,l=n+gc(s,o++),a+=Ka(s,t,r,l,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function Ca(e,t,r){if(e==null)return e;var n=[],i=0;return Ka(e,n,"","",function(s){return t.call(r,s,i++)}),n}function HC(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var er={current:null},Va={transition:null},UC={ReactCurrentDispatcher:er,ReactCurrentBatchConfig:Va,ReactCurrentOwner:If};function Gm(){throw Error("act(...) is not supported in production builds of React.")}De.Children={map:Ca,forEach:function(e,t,r){Ca(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Ca(e,function(){t++}),t},toArray:function(e){return Ca(e,function(t){return t})||[]},only:function(e){if(!Df(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};De.Component=$s;De.Fragment=TC;De.Profiler=AC;De.PureComponent=Pf;De.StrictMode=LC;De.Suspense=IC;De.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=UC;De.act=Gm;De.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Um({},e.props),i=e.key,s=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,a=If.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(l in t)zm.call(t,l)&&!Km.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&o!==void 0?o[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var h=0;h<l;h++)o[h]=arguments[h+2];n.children=o}return{$$typeof:oa,type:e.type,key:i,ref:s,props:n,_owner:a}};De.createContext=function(e){return e={$$typeof:PC,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:MC,_context:e},e.Consumer=e};De.createElement=Vm;De.createFactory=function(e){var t=Vm.bind(null,e);return t.type=e,t};De.createRef=function(){return{current:null}};De.forwardRef=function(e){return{$$typeof:OC,render:e}};De.isValidElement=Df;De.lazy=function(e){return{$$typeof:BC,_payload:{_status:-1,_result:e},_init:HC}};De.memo=function(e,t){return{$$typeof:DC,type:e,compare:t===void 0?null:t}};De.startTransition=function(e){var t=Va.transition;Va.transition={};try{e()}finally{Va.transition=t}};De.unstable_act=Gm;De.useCallback=function(e,t){return er.current.useCallback(e,t)};De.useContext=function(e){return er.current.useContext(e)};De.useDebugValue=function(){};De.useDeferredValue=function(e){return er.current.useDeferredValue(e)};De.useEffect=function(e,t){return er.current.useEffect(e,t)};De.useId=function(){return er.current.useId()};De.useImperativeHandle=function(e,t,r){return er.current.useImperativeHandle(e,t,r)};De.useInsertionEffect=function(e,t){return er.current.useInsertionEffect(e,t)};De.useLayoutEffect=function(e,t){return er.current.useLayoutEffect(e,t)};De.useMemo=function(e,t){return er.current.useMemo(e,t)};De.useReducer=function(e,t,r){return er.current.useReducer(e,t,r)};De.useRef=function(e){return er.current.useRef(e)};De.useState=function(e){return er.current.useState(e)};De.useSyncExternalStore=function(e,t,r){return er.current.useSyncExternalStore(e,t,r)};De.useTransition=function(){return er.current.useTransition()};De.version="18.3.1";$m.exports=De;var G=$m.exports;const qm=EC(G),oh=xC({__proto__:null,default:qm},[G]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jC=G,WC=Symbol.for("react.element"),zC=Symbol.for("react.fragment"),KC=Object.prototype.hasOwnProperty,VC=jC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,GC={key:!0,ref:!0,__self:!0,__source:!0};function Qm(e,t,r){var n,i={},s=null,a=null;r!==void 0&&(s=""+r),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(a=t.ref);for(n in t)KC.call(t,n)&&!GC.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:WC,type:e,key:s,ref:a,props:i,_owner:VC.current}}yu.Fragment=zC;yu.jsx=Qm;yu.jsxs=Qm;Nm.exports=yu;var Ts=Nm.exports;function qC(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function QC(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var XC=function(){function e(r){var n=this;this._insertTag=function(i){var s;n.tags.length===0?n.insertionPoint?s=n.insertionPoint.nextSibling:n.prepend?s=n.container.firstChild:s=n.before:s=n.tags[n.tags.length-1].nextSibling,n.container.insertBefore(i,s),n.tags.push(i)},this.isSpeedy=r.speedy===void 0?!0:r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.prepend=r.prepend,this.insertionPoint=r.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(n){n.forEach(this._insertTag)},t.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(QC(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=qC(i);try{s.insertRule(n,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(n));this.ctr++},t.flush=function(){this.tags.forEach(function(n){var i;return(i=n.parentNode)==null?void 0:i.removeChild(n)}),this.tags=[],this.ctr=0},e}(),Ht="-ms-",kl="-moz-",He="-webkit-",Xm="comm",Bf="rule",Ff="decl",JC="@import",Jm="@keyframes",YC="@layer",ZC=Math.abs,_u=String.fromCharCode,ew=Object.assign;function tw(e,t){return Mt(e,0)^45?(((t<<2^Mt(e,0))<<2^Mt(e,1))<<2^Mt(e,2))<<2^Mt(e,3):0}function Ym(e){return e.trim()}function rw(e,t){return(e=t.exec(e))?e[0]:e}function Ue(e,t,r){return e.replace(t,r)}function ah(e,t){return e.indexOf(t)}function Mt(e,t){return e.charCodeAt(t)|0}function Oo(e,t,r){return e.slice(t,r)}function yn(e){return e.length}function Nf(e){return e.length}function wa(e,t){return t.push(e),e}function nw(e,t){return e.map(t).join("")}var Su=1,Ls=1,Zm=0,gr=0,_t=0,Hs="";function Cu(e,t,r,n,i,s,a){return{value:e,root:t,parent:r,type:n,props:i,children:s,line:Su,column:Ls,length:a,return:""}}function Zs(e,t){return ew(Cu("",null,null,"",null,null,0),e,{length:-e.length},t)}function iw(){return _t}function sw(){return _t=gr>0?Mt(Hs,--gr):0,Ls--,_t===10&&(Ls=1,Su--),_t}function Lr(){return _t=gr<Zm?Mt(Hs,gr++):0,Ls++,_t===10&&(Ls=1,Su++),_t}function wn(){return Mt(Hs,gr)}function Ga(){return gr}function aa(e,t){return Oo(Hs,e,t)}function Io(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function ey(e){return Su=Ls=1,Zm=yn(Hs=e),gr=0,[]}function ty(e){return Hs="",e}function qa(e){return Ym(aa(gr-1,lh(e===91?e+2:e===40?e+1:e)))}function ow(e){for(;(_t=wn())&&_t<33;)Lr();return Io(e)>2||Io(_t)>3?"":" "}function aw(e,t){for(;--t&&Lr()&&!(_t<48||_t>102||_t>57&&_t<65||_t>70&&_t<97););return aa(e,Ga()+(t<6&&wn()==32&&Lr()==32))}function lh(e){for(;Lr();)switch(_t){case e:return gr;case 34:case 39:e!==34&&e!==39&&lh(_t);break;case 40:e===41&&lh(e);break;case 92:Lr();break}return gr}function lw(e,t){for(;Lr()&&e+_t!==57;)if(e+_t===84&&wn()===47)break;return"/*"+aa(t,gr-1)+"*"+_u(e===47?e:Lr())}function uw(e){for(;!Io(wn());)Lr();return aa(e,gr)}function cw(e){return ty(Qa("",null,null,null,[""],e=ey(e),0,[0],e))}function Qa(e,t,r,n,i,s,a,o,l){for(var h=0,g=0,p=a,m=0,w=0,C=0,y=1,v=1,f=1,u=0,d="",_=i,R=s,E=n,L=d;v;)switch(C=u,u=Lr()){case 40:if(C!=108&&Mt(L,p-1)==58){ah(L+=Ue(qa(u),"&","&\f"),"&\f")!=-1&&(f=-1);break}case 34:case 39:case 91:L+=qa(u);break;case 9:case 10:case 13:case 32:L+=ow(C);break;case 92:L+=aw(Ga()-1,7);continue;case 47:switch(wn()){case 42:case 47:wa(hw(lw(Lr(),Ga()),t,r),l);break;default:L+="/"}break;case 123*y:o[h++]=yn(L)*f;case 125*y:case 59:case 0:switch(u){case 0:case 125:v=0;case 59+g:f==-1&&(L=Ue(L,/\f/g,"")),w>0&&yn(L)-p&&wa(w>32?Kp(L+";",n,r,p-1):Kp(Ue(L," ","")+";",n,r,p-2),l);break;case 59:L+=";";default:if(wa(E=zp(L,t,r,h,g,i,o,d,_=[],R=[],p),s),u===123)if(g===0)Qa(L,t,E,E,_,s,p,o,R);else switch(m===99&&Mt(L,3)===110?100:m){case 100:case 108:case 109:case 115:Qa(e,E,E,n&&wa(zp(e,E,E,0,0,i,o,d,i,_=[],p),R),i,R,p,o,n?_:R);break;default:Qa(L,E,E,E,[""],R,0,o,R)}}h=g=w=0,y=f=1,d=L="",p=a;break;case 58:p=1+yn(L),w=C;default:if(y<1){if(u==123)--y;else if(u==125&&y++==0&&sw()==125)continue}switch(L+=_u(u),u*y){case 38:f=g>0?1:(L+="\f",-1);break;case 44:o[h++]=(yn(L)-1)*f,f=1;break;case 64:wn()===45&&(L+=qa(Lr())),m=wn(),g=p=yn(d=L+=uw(Ga())),u++;break;case 45:C===45&&yn(L)==2&&(y=0)}}return s}function zp(e,t,r,n,i,s,a,o,l,h,g){for(var p=i-1,m=i===0?s:[""],w=Nf(m),C=0,y=0,v=0;C<n;++C)for(var f=0,u=Oo(e,p+1,p=ZC(y=a[C])),d=e;f<w;++f)(d=Ym(y>0?m[f]+" "+u:Ue(u,/&\f/g,m[f])))&&(l[v++]=d);return Cu(e,t,r,i===0?Bf:o,l,h,g)}function hw(e,t,r){return Cu(e,t,r,Xm,_u(iw()),Oo(e,2,-2),0)}function Kp(e,t,r,n){return Cu(e,t,r,Ff,Oo(e,0,n),Oo(e,n+1,-1),n)}function gs(e,t){for(var r="",n=Nf(e),i=0;i<n;i++)r+=t(e[i],i,e,t)||"";return r}function fw(e,t,r,n){switch(e.type){case YC:if(e.children.length)break;case JC:case Ff:return e.return=e.return||e.value;case Xm:return"";case Jm:return e.return=e.value+"{"+gs(e.children,n)+"}";case Bf:e.value=e.props.join(",")}return yn(r=gs(e.children,n))?e.return=e.value+"{"+r+"}":""}function dw(e){var t=Nf(e);return function(r,n,i,s){for(var a="",o=0;o<t;o++)a+=e[o](r,n,i,s)||"";return a}}function pw(e){return function(t){t.root||(t=t.return)&&e(t)}}function vw(e){var t=Object.create(null);return function(r){return t[r]===void 0&&(t[r]=e(r)),t[r]}}var gw=function(t,r,n){for(var i=0,s=0;i=s,s=wn(),i===38&&s===12&&(r[n]=1),!Io(s);)Lr();return aa(t,gr)},mw=function(t,r){var n=-1,i=44;do switch(Io(i)){case 0:i===38&&wn()===12&&(r[n]=1),t[n]+=gw(gr-1,r,n);break;case 2:t[n]+=qa(i);break;case 4:if(i===44){t[++n]=wn()===58?"&\f":"",r[n]=t[n].length;break}default:t[n]+=_u(i)}while(i=Lr());return t},yw=function(t,r){return ty(mw(ey(t),r))},Vp=new WeakMap,_w=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var r=t.value,n=t.parent,i=t.column===n.column&&t.line===n.line;n.type!=="rule";)if(n=n.parent,!n)return;if(!(t.props.length===1&&r.charCodeAt(0)!==58&&!Vp.get(n))&&!i){Vp.set(t,!0);for(var s=[],a=yw(r,s),o=n.props,l=0,h=0;l<a.length;l++)for(var g=0;g<o.length;g++,h++)t.props[h]=s[l]?a[l].replace(/&\f/g,o[g]):o[g]+" "+a[l]}}},Sw=function(t){if(t.type==="decl"){var r=t.value;r.charCodeAt(0)===108&&r.charCodeAt(2)===98&&(t.return="",t.value="")}};function ry(e,t){switch(tw(e,t)){case 5103:return He+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return He+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return He+e+kl+e+Ht+e+e;case 6828:case 4268:return He+e+Ht+e+e;case 6165:return He+e+Ht+"flex-"+e+e;case 5187:return He+e+Ue(e,/(\w+).+(:[^]+)/,He+"box-$1$2"+Ht+"flex-$1$2")+e;case 5443:return He+e+Ht+"flex-item-"+Ue(e,/flex-|-self/,"")+e;case 4675:return He+e+Ht+"flex-line-pack"+Ue(e,/align-content|flex-|-self/,"")+e;case 5548:return He+e+Ht+Ue(e,"shrink","negative")+e;case 5292:return He+e+Ht+Ue(e,"basis","preferred-size")+e;case 6060:return He+"box-"+Ue(e,"-grow","")+He+e+Ht+Ue(e,"grow","positive")+e;case 4554:return He+Ue(e,/([^-])(transform)/g,"$1"+He+"$2")+e;case 6187:return Ue(Ue(Ue(e,/(zoom-|grab)/,He+"$1"),/(image-set)/,He+"$1"),e,"")+e;case 5495:case 3959:return Ue(e,/(image-set\([^]*)/,He+"$1$`$1");case 4968:return Ue(Ue(e,/(.+:)(flex-)?(.*)/,He+"box-pack:$3"+Ht+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+He+e+e;case 4095:case 3583:case 4068:case 2532:return Ue(e,/(.+)-inline(.+)/,He+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(yn(e)-1-t>6)switch(Mt(e,t+1)){case 109:if(Mt(e,t+4)!==45)break;case 102:return Ue(e,/(.+:)(.+)-([^]+)/,"$1"+He+"$2-$3$1"+kl+(Mt(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~ah(e,"stretch")?ry(Ue(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(Mt(e,t+1)!==115)break;case 6444:switch(Mt(e,yn(e)-3-(~ah(e,"!important")&&10))){case 107:return Ue(e,":",":"+He)+e;case 101:return Ue(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+He+(Mt(e,14)===45?"inline-":"")+"box$3$1"+He+"$2$3$1"+Ht+"$2box$3")+e}break;case 5936:switch(Mt(e,t+11)){case 114:return He+e+Ht+Ue(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return He+e+Ht+Ue(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return He+e+Ht+Ue(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return He+e+Ht+e+e}return e}var Cw=function(t,r,n,i){if(t.length>-1&&!t.return)switch(t.type){case Ff:t.return=ry(t.value,t.length);break;case Jm:return gs([Zs(t,{value:Ue(t.value,"@","@"+He)})],i);case Bf:if(t.length)return nw(t.props,function(s){switch(rw(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return gs([Zs(t,{props:[Ue(s,/:(read-\w+)/,":"+kl+"$1")]})],i);case"::placeholder":return gs([Zs(t,{props:[Ue(s,/:(plac\w+)/,":"+He+"input-$1")]}),Zs(t,{props:[Ue(s,/:(plac\w+)/,":"+kl+"$1")]}),Zs(t,{props:[Ue(s,/:(plac\w+)/,Ht+"input-$1")]})],i)}return""})}},ww=[Cw],kw=function(t){var r=t.key;if(r==="css"){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(y){var v=y.getAttribute("data-emotion");v.indexOf(" ")!==-1&&(document.head.appendChild(y),y.setAttribute("data-s",""))})}var i=t.stylisPlugins||ww,s={},a,o=[];a=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+r+' "]'),function(y){for(var v=y.getAttribute("data-emotion").split(" "),f=1;f<v.length;f++)s[v[f]]=!0;o.push(y)});var l,h=[_w,Sw];{var g,p=[fw,pw(function(y){g.insert(y)})],m=dw(h.concat(i,p)),w=function(v){return gs(cw(v),m)};l=function(v,f,u,d){g=u,w(v?v+"{"+f.styles+"}":f.styles),d&&(C.inserted[f.name]=!0)}}var C={key:r,sheet:new XC({key:r,container:a,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:s,registered:{},insert:l};return C.sheet.hydrate(o),C},ny={exports:{}},Ke={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tt=typeof Symbol=="function"&&Symbol.for,$f=Tt?Symbol.for("react.element"):60103,Hf=Tt?Symbol.for("react.portal"):60106,wu=Tt?Symbol.for("react.fragment"):60107,ku=Tt?Symbol.for("react.strict_mode"):60108,bu=Tt?Symbol.for("react.profiler"):60114,xu=Tt?Symbol.for("react.provider"):60109,Eu=Tt?Symbol.for("react.context"):60110,Uf=Tt?Symbol.for("react.async_mode"):60111,Ru=Tt?Symbol.for("react.concurrent_mode"):60111,Tu=Tt?Symbol.for("react.forward_ref"):60112,Lu=Tt?Symbol.for("react.suspense"):60113,bw=Tt?Symbol.for("react.suspense_list"):60120,Au=Tt?Symbol.for("react.memo"):60115,Mu=Tt?Symbol.for("react.lazy"):60116,xw=Tt?Symbol.for("react.block"):60121,Ew=Tt?Symbol.for("react.fundamental"):60117,Rw=Tt?Symbol.for("react.responder"):60118,Tw=Tt?Symbol.for("react.scope"):60119;function Or(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case $f:switch(e=e.type,e){case Uf:case Ru:case wu:case bu:case ku:case Lu:return e;default:switch(e=e&&e.$$typeof,e){case Eu:case Tu:case Mu:case Au:case xu:return e;default:return t}}case Hf:return t}}}function iy(e){return Or(e)===Ru}Ke.AsyncMode=Uf;Ke.ConcurrentMode=Ru;Ke.ContextConsumer=Eu;Ke.ContextProvider=xu;Ke.Element=$f;Ke.ForwardRef=Tu;Ke.Fragment=wu;Ke.Lazy=Mu;Ke.Memo=Au;Ke.Portal=Hf;Ke.Profiler=bu;Ke.StrictMode=ku;Ke.Suspense=Lu;Ke.isAsyncMode=function(e){return iy(e)||Or(e)===Uf};Ke.isConcurrentMode=iy;Ke.isContextConsumer=function(e){return Or(e)===Eu};Ke.isContextProvider=function(e){return Or(e)===xu};Ke.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===$f};Ke.isForwardRef=function(e){return Or(e)===Tu};Ke.isFragment=function(e){return Or(e)===wu};Ke.isLazy=function(e){return Or(e)===Mu};Ke.isMemo=function(e){return Or(e)===Au};Ke.isPortal=function(e){return Or(e)===Hf};Ke.isProfiler=function(e){return Or(e)===bu};Ke.isStrictMode=function(e){return Or(e)===ku};Ke.isSuspense=function(e){return Or(e)===Lu};Ke.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===wu||e===Ru||e===bu||e===ku||e===Lu||e===bw||typeof e=="object"&&e!==null&&(e.$$typeof===Mu||e.$$typeof===Au||e.$$typeof===xu||e.$$typeof===Eu||e.$$typeof===Tu||e.$$typeof===Ew||e.$$typeof===Rw||e.$$typeof===Tw||e.$$typeof===xw)};Ke.typeOf=Or;ny.exports=Ke;var Lw=ny.exports,sy=Lw,Aw={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Mw={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},oy={};oy[sy.ForwardRef]=Aw;oy[sy.Memo]=Mw;var Pw=!0;function Ow(e,t,r){var n="";return r.split(" ").forEach(function(i){e[i]!==void 0?t.push(e[i]+";"):i&&(n+=i+" ")}),n}var ay=function(t,r,n){var i=t.key+"-"+r.name;(n===!1||Pw===!1)&&t.registered[i]===void 0&&(t.registered[i]=r.styles)},Iw=function(t,r,n){ay(t,r,n);var i=t.key+"-"+r.name;if(t.inserted[r.name]===void 0){var s=r;do t.insert(r===s?"."+i:"",s,t.sheet,!0),s=s.next;while(s!==void 0)}};function Dw(e){for(var t=0,r,n=0,i=e.length;i>=4;++n,i-=4)r=e.charCodeAt(n)&255|(e.charCodeAt(++n)&255)<<8|(e.charCodeAt(++n)&255)<<16|(e.charCodeAt(++n)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,t=(r&65535)*1540483477+((r>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(i){case 3:t^=(e.charCodeAt(n+2)&255)<<16;case 2:t^=(e.charCodeAt(n+1)&255)<<8;case 1:t^=e.charCodeAt(n)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var Bw={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Fw=/[A-Z]|^ms/g,Nw=/_EMO_([^_]+?)_([^]*?)_EMO_/g,ly=function(t){return t.charCodeAt(1)===45},Gp=function(t){return t!=null&&typeof t!="boolean"},mc=vw(function(e){return ly(e)?e:e.replace(Fw,"-$&").toLowerCase()}),qp=function(t,r){switch(t){case"animation":case"animationName":if(typeof r=="string")return r.replace(Nw,function(n,i,s){return _n={name:i,styles:s,next:_n},i})}return Bw[t]!==1&&!ly(t)&&typeof r=="number"&&r!==0?r+"px":r};function Do(e,t,r){if(r==null)return"";var n=r;if(n.__emotion_styles!==void 0)return n;switch(typeof r){case"boolean":return"";case"object":{var i=r;if(i.anim===1)return _n={name:i.name,styles:i.styles,next:_n},i.name;var s=r;if(s.styles!==void 0){var a=s.next;if(a!==void 0)for(;a!==void 0;)_n={name:a.name,styles:a.styles,next:_n},a=a.next;var o=s.styles+";";return o}return $w(e,t,r)}case"function":{if(e!==void 0){var l=_n,h=r(e);return _n=l,Do(e,t,h)}break}}var g=r;return g}function $w(e,t,r){var n="";if(Array.isArray(r))for(var i=0;i<r.length;i++)n+=Do(e,t,r[i])+";";else for(var s in r){var a=r[s];if(typeof a!="object"){var o=a;Gp(o)&&(n+=mc(s)+":"+qp(s,o)+";")}else if(Array.isArray(a)&&typeof a[0]=="string"&&t==null)for(var l=0;l<a.length;l++)Gp(a[l])&&(n+=mc(s)+":"+qp(s,a[l])+";");else{var h=Do(e,t,a);switch(s){case"animation":case"animationName":{n+=mc(s)+":"+h+";";break}default:n+=s+"{"+h+"}"}}}return n}var Qp=/label:\s*([^\s;{]+)\s*(;|$)/g,_n;function Hw(e,t,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var n=!0,i="";_n=void 0;var s=e[0];if(s==null||s.raw===void 0)n=!1,i+=Do(r,t,s);else{var a=s;i+=a[0]}for(var o=1;o<e.length;o++)if(i+=Do(r,t,e[o]),n){var l=s;i+=l[o]}Qp.lastIndex=0;for(var h="",g;(g=Qp.exec(i))!==null;)h+="-"+g[1];var p=Dw(i)+h;return{name:p,styles:i,next:_n}}var Uw=function(t){return t()},jw=oh.useInsertionEffect?oh.useInsertionEffect:!1,Ww=jw||Uw,uy=G.createContext(typeof HTMLElement<"u"?kw({key:"css"}):null);uy.Provider;var zw=function(t){return G.forwardRef(function(r,n){var i=G.useContext(uy);return t(r,i,n)})},Kw=G.createContext({}),Pu={}.hasOwnProperty,uh="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",cy=function(t,r){var n={};for(var i in r)Pu.call(r,i)&&(n[i]=r[i]);return n[uh]=t,n},Vw=function(t){var r=t.cache,n=t.serialized,i=t.isStringTag;return ay(r,n,i),Ww(function(){return Iw(r,n,i)}),null},Gw=zw(function(e,t,r){var n=e.css;typeof n=="string"&&t.registered[n]!==void 0&&(n=t.registered[n]);var i=e[uh],s=[n],a="";typeof e.className=="string"?a=Ow(t.registered,s,e.className):e.className!=null&&(a=e.className+" ");var o=Hw(s,void 0,G.useContext(Kw));a+=t.key+"-"+o.name;var l={};for(var h in e)Pu.call(e,h)&&h!=="css"&&h!==uh&&(l[h]=e[h]);return l.className=a,r&&(l.ref=r),G.createElement(G.Fragment,null,G.createElement(Vw,{cache:t,serialized:o,isStringTag:typeof i=="string"}),G.createElement(i,l))}),hy=Gw,qw=Ts.Fragment,de=function(t,r,n){return Pu.call(r,"css")?Ts.jsx(hy,cy(t,r),n):Ts.jsx(t,r,n)},pt=function(t,r,n){return Pu.call(r,"css")?Ts.jsxs(hy,cy(t,r),n):Ts.jsxs(t,r,n)};const Ce={NORMAL:"normal",EDIT:"edit",GITHUB:"github",TREE:"tree",TUTORIAL:"tutorial",GAME:"game"},rs={terminal:"terminal",promptHeader:"prompt-header"},Et={charTime:"char-time",command:"command",commandHistory:"commandHistory",editContent:"editContent",completedTutorials:"completed-tutorials"},Je=[{value:`The most important key is the Return (ENTER) key. Press the thumb tip and release. You'll use this key to enter every command.

NOTE: Press enter to reset and redo any tutorial steps.`,displayAs:"Tutorial",key:"\r"},{value:"Type `fdsa` & Enter. Notice that it requires only a finger-pinch and release for each character.",displayAs:"Tutorial",key:"fdsa"},{value:"Type `jkl;`. Notice that it requires only a finger-grasp followed by a release.",displayAs:"Tutorial",key:"jkl;",tutorialGroup:"single-click"},{key:"first-eight",displayAs:"Game",value:"all sad lads ask dad; alas fads fall",tutorialGroup:"single-click"},{value:"Press the thumb tip followed by a finger tip to type numbers 0-4",displayAs:"Tutorial",key:"01234"},{value:"Press the thumb tip followed by a finger tip to type numbers 5-9",displayAs:"Tutorial",key:"56789",tutorialGroup:"numbers"},{key:"numbers",displayAs:"Game",value:"0123 4567 8901 2345 6789 0987",tutorialGroup:"numbers"},{value:`Characters are only entered when the keys are released. For example, when you grasp the thumb and release it a space is entered.

However, when you HOLD a grasp of your thumb it activates the shift key. Use Shift to type FDSA in uppercase letters. Remember to release your grip after each character.`,displayAs:"Tutorial",key:"FDSA"},{value:`These two characters complete the traditional home-row keys, but require two finger keystrokes similar to numbers. 

Notice that both actions start from the middle finger and end on the index finger. G uses 2 pinches. H uses 2 grasps, like their home-row counterparts.`,displayAs:"Tutorial",key:"gh",tutorialGroup:"home-row"},{key:"ask",displayAs:"Game",value:"All lads had flasks as glad gals ask halls; all had a glass",tutorialGroup:"home-row"},{key:"gallant",displayAs:"Game",value:"A gallant lad; a glass",tutorialGroup:"home-row"}],Qw=Je.filter(e=>e.displayAs==="Tutorial").map(e=>e.key),xe={AccessToken:"AccessToken",RefreshToken:"RefreshToken",IdToken:"IdToken",ExpiresAt:"ExpiresAt",ExpiresIn:"ExpiresIn",GithubUsername:"githubUsername"};function jt(e=window.location.toString()){const t=new URL(e);return{activityKey:Xw(t.searchParams.get("activity")??""),contentKey:decodeURIComponent(t.searchParams.get("key")??""),groupKey:t.searchParams.get("group")??null,clearParams:t.searchParams.has("clearParams")}}function Xw(e){const t=(e??"").toUpperCase();return Ce[t]??Ce.NORMAL}function Jw(){const e=jt();e.activityKey&&e.activityKey!==Ce.NORMAL&&window.dispatchEvent(new CustomEvent("locationchange",{detail:{activity:e.activityKey,key:e.contentKey,group:e.groupKey}}))}function Ut(e,t=!1){const r=typeof t=="boolean"?t:t.forceClear??!1,n=typeof t=="boolean"?!1:t.replace??!1,i=typeof t=="boolean"?!1:t.skipTutorial??!1,s=e.activityKey??Ce.NORMAL,a=e.contentKey!=null?e.contentKey:null,o=e.groupKey??null,l=e.clearParams??!1,h=window.location.pathname.replace(/\/+/g,"/").replace(/\/+$/,""),g=window.location.origin+(h||"/"),p=new URL(g);if(s===Ce.NORMAL||l||r||i){p.search="",window.history.replaceState({},"",p.toString()),window.dispatchEvent(new CustomEvent("locationchange",{detail:{activity:Ce.NORMAL,key:null,group:null,clearParams:!0}})),window.location.search&&window.location.reload();return}else p.searchParams.set("activity",s.toLowerCase()),a!=null?p.searchParams.set("key",encodeURIComponent(a)):p.searchParams.delete("key"),o!=null?p.searchParams.set("group",o):p.searchParams.delete("group"),l?p.searchParams.set("clearParams","true"):p.searchParams.delete("clearParams");const m=l||r||i||n?"replaceState":"pushState";window.history[m]({},"",p.toString()),window.dispatchEvent(new CustomEvent("locationchange",{detail:{activity:s,key:a,group:o,clearParams:l}}))}var mi=(e=>(e[e.DEBUG=0]="DEBUG",e[e.INFO=1]="INFO",e[e.WARN=2]="WARN",e[e.ERROR=3]="ERROR",e[e.SILENT=4]="SILENT",e))(mi||{});class Yw{config;constructor(t={}){this.config={level:t.level??1,prefix:t.prefix??"HandTerm",logToConsole:t.logToConsole??!0,logToFile:t.logToFile??!1}}log(t,r,...n){if(this.config.level!==void 0&&t<this.config.level)return;const s=`[${new Date().toISOString()}] [${this.config.prefix}] [${mi[t]}] ${r}`;this.config.logToConsole===!0&&this.safeConsoleLog(t,s,...n),this.config.logToFile===!0&&this.writeToLogFile(s,...n)}safeConsoleLog(t,r,...n){if(typeof window<"u"&&window.console)switch(t){case 0:window.console.log(r,...n);break;case 1:window.console.info(r,...n);break;case 2:window.console.warn(r,...n);break;case 3:window.console.error(r,...n);break}}writeToLogFile(t,...r){}debug(t,...r){this.log(0,t,...r)}info(t,...r){this.log(1,t,...r)}warn(t,...r){this.log(2,t,...r)}error(t,...r){this.log(3,t,...r)}}function Vt(e){return new Yw(e)}var Zw=Symbol.for("preact-signals");function jf(){if(ms>1)ms--;else{for(var e,t=!1;Co!==void 0;){var r=Co;for(Co=void 0,ch++;r!==void 0;){var n=r.o;if(r.o=void 0,r.f&=-3,!(8&r.f)&&dy(r))try{r.c()}catch(i){t||(e=i,t=!0)}r=n}}if(ch=0,ms--,t)throw e}}var qe=void 0,Co=void 0,ms=0,ch=0,bl=0;function fy(e){if(qe!==void 0){var t=e.n;if(t===void 0||t.t!==qe)return t={i:0,S:e,p:qe.s,n:void 0,t:qe,e:void 0,x:void 0,r:t},qe.s!==void 0&&(qe.s.n=t),qe.s=t,e.n=t,32&qe.f&&e.S(t),t;if(t.i===-1)return t.i=0,t.n!==void 0&&(t.n.p=t.p,t.p!==void 0&&(t.p.n=t.n),t.p=qe.s,t.n=void 0,qe.s.n=t,qe.s=t),t}}function Gt(e){this.v=e,this.i=0,this.n=void 0,this.t=void 0}Gt.prototype.brand=Zw;Gt.prototype.h=function(){return!0};Gt.prototype.S=function(e){this.t!==e&&e.e===void 0&&(e.x=this.t,this.t!==void 0&&(this.t.e=e),this.t=e)};Gt.prototype.U=function(e){if(this.t!==void 0){var t=e.e,r=e.x;t!==void 0&&(t.x=r,e.e=void 0),r!==void 0&&(r.e=t,e.x=void 0),e===this.t&&(this.t=r)}};Gt.prototype.subscribe=function(e){var t=this;return zf(function(){var r=t.value,n=qe;qe=void 0;try{e(r)}finally{qe=n}})};Gt.prototype.valueOf=function(){return this.value};Gt.prototype.toString=function(){return this.value+""};Gt.prototype.toJSON=function(){return this.value};Gt.prototype.peek=function(){var e=qe;qe=void 0;try{return this.value}finally{qe=e}};Object.defineProperty(Gt.prototype,"value",{get:function(){var e=fy(this);return e!==void 0&&(e.i=this.i),this.v},set:function(e){if(e!==this.v){if(ch>100)throw new Error("Cycle detected");this.v=e,this.i++,bl++,ms++;try{for(var t=this.t;t!==void 0;t=t.x)t.t.N()}finally{jf()}}}});function gt(e){return new Gt(e)}function dy(e){for(var t=e.s;t!==void 0;t=t.n)if(t.S.i!==t.i||!t.S.h()||t.S.i!==t.i)return!0;return!1}function py(e){for(var t=e.s;t!==void 0;t=t.n){var r=t.S.n;if(r!==void 0&&(t.r=r),t.S.n=t,t.i=-1,t.n===void 0){e.s=t;break}}}function vy(e){for(var t=e.s,r=void 0;t!==void 0;){var n=t.p;t.i===-1?(t.S.U(t),n!==void 0&&(n.n=t.n),t.n!==void 0&&(t.n.p=n)):r=t,t.S.n=t.r,t.r!==void 0&&(t.r=void 0),t=n}e.s=r}function Us(e){Gt.call(this,void 0),this.x=e,this.s=void 0,this.g=bl-1,this.f=4}(Us.prototype=new Gt).h=function(){if(this.f&=-3,1&this.f)return!1;if((36&this.f)==32||(this.f&=-5,this.g===bl))return!0;if(this.g=bl,this.f|=1,this.i>0&&!dy(this))return this.f&=-2,!0;var e=qe;try{py(this),qe=this;var t=this.x();(16&this.f||this.v!==t||this.i===0)&&(this.v=t,this.f&=-17,this.i++)}catch(r){this.v=r,this.f|=16,this.i++}return qe=e,vy(this),this.f&=-2,!0};Us.prototype.S=function(e){if(this.t===void 0){this.f|=36;for(var t=this.s;t!==void 0;t=t.n)t.S.S(t)}Gt.prototype.S.call(this,e)};Us.prototype.U=function(e){if(this.t!==void 0&&(Gt.prototype.U.call(this,e),this.t===void 0)){this.f&=-33;for(var t=this.s;t!==void 0;t=t.n)t.S.U(t)}};Us.prototype.N=function(){if(!(2&this.f)){this.f|=6;for(var e=this.t;e!==void 0;e=e.x)e.t.N()}};Object.defineProperty(Us.prototype,"value",{get:function(){if(1&this.f)throw new Error("Cycle detected");var e=fy(this);if(this.h(),e!==void 0&&(e.i=this.i),16&this.f)throw this.v;return this.v}});function Ou(e){return new Us(e)}function gy(e){var t=e.u;if(e.u=void 0,typeof t=="function"){ms++;var r=qe;qe=void 0;try{t()}catch(n){throw e.f&=-2,e.f|=8,Wf(e),n}finally{qe=r,jf()}}}function Wf(e){for(var t=e.s;t!==void 0;t=t.n)t.S.U(t);e.x=void 0,e.s=void 0,gy(e)}function ek(e){if(qe!==this)throw new Error("Out-of-order effect");vy(this),qe=e,this.f&=-2,8&this.f&&Wf(this),jf()}function la(e){this.x=e,this.u=void 0,this.s=void 0,this.o=void 0,this.f=32}la.prototype.c=function(){var e=this.S();try{if(8&this.f||this.x===void 0)return;var t=this.x();typeof t=="function"&&(this.u=t)}finally{e()}};la.prototype.S=function(){if(1&this.f)throw new Error("Cycle detected");this.f|=1,this.f&=-9,gy(this),py(this),ms++;var e=qe;return qe=this,ek.bind(this,e)};la.prototype.N=function(){2&this.f||(this.f|=2,this.o=Co,Co=this)};la.prototype.d=function(){this.f|=8,1&this.f||Wf(this)};function zf(e){var t=new la(e);try{t.c()}catch(r){throw t.d(),r}return t.d.bind(t)}var my={exports:{}},yy={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var As=G;function tk(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var rk=typeof Object.is=="function"?Object.is:tk,nk=As.useState,ik=As.useEffect,sk=As.useLayoutEffect,ok=As.useDebugValue;function ak(e,t){var r=t(),n=nk({inst:{value:r,getSnapshot:t}}),i=n[0].inst,s=n[1];return sk(function(){i.value=r,i.getSnapshot=t,yc(i)&&s({inst:i})},[e,r,t]),ik(function(){return yc(i)&&s({inst:i}),e(function(){yc(i)&&s({inst:i})})},[e]),ok(r),r}function yc(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!rk(e,r)}catch{return!0}}function lk(e,t){return t()}var uk=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?lk:ak;yy.useSyncExternalStore=As.useSyncExternalStore!==void 0?As.useSyncExternalStore:uk;my.exports=yy;var ck=my.exports,_y={};/**
 * @license React
 * react-jsx-dev-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hk=Symbol.for("react.fragment");_y.Fragment=hk;_y.jsxDEV=void 0;var fk=G.version.split(".").map(Number),Sy=[],dk=Symbol.for(fk[0]>=19?"react.transitional.element":"react.element"),Xp=function(){},Pi,Cy=Symbol.dispose||Symbol.for("Symbol.dispose");function _c(e,t){var r=t.effect.S();return Pi=t,pk.bind(t,e,r)}function pk(e,t){t(),Pi=e}var Jp,hh;(Jp={u:0,effect:{s:void 0,c:function(){},S:function(){return Xp},d:function(){}},subscribe:function(){return Xp},getSnapshot:function(){return 0},S:function(){},f:function(){}})[Cy]=function(){};var vk=Promise.prototype.then.bind(Promise.resolve());function gk(){hh||(hh=vk(mk))}function mk(){var e;hh=void 0,(e=Pi)==null||e.f()}function yk(e){gk();var t=G.useRef();t.current==null&&(t.current=function(n){var i,s,a,o,l=0,h=zf(function(){s=this});return s.c=function(){l=l+1|0,o&&o()},(i={u:n,effect:s,subscribe:function(g){return o=g,function(){l=l+1|0,o=void 0,h()}},getSnapshot:function(){return l},S:function(){if(Pi!=null){var g=Pi.u,p=this.u;g==0&&p==0||g==0&&p==1?(Pi.f(),a=_c(void 0,this)):g==1&&p==0||g==2&&p==0||(a=_c(Pi,this))}else a=_c(void 0,this)},f:function(){var g=a;a=void 0,g?.()}})[Cy]=function(){this.f()},i}(e));var r=t.current;return ck.useSyncExternalStore(r.subscribe,r.getSnapshot,r.getSnapshot),r.S(),r}Object.defineProperties(Gt.prototype,{$$typeof:{configurable:!0,value:dk},type:{configurable:!0,value:function(e){var t=e.data,r=yk(1);try{return t.value}finally{r.f()}}},props:{configurable:!0,get:function(){return{data:this}}},ref:{configurable:!0,value:null}});function xn(e){var t=G.useRef(e);return t.current=e,G.useMemo(function(){return Ou(function(){return t.current()})},Sy)}function Kf(e){var t=G.useRef(e);t.current=e,G.useEffect(function(){return zf(function(){return t.current()})},Sy)}function Vf({key:e,signal:t,serialize:r=JSON.stringify,deserialize:n=JSON.parse}){const i=()=>{try{const l=(typeof localStorage<"u"?localStorage:typeof window<"u"&&window.localStorage?window.localStorage:{getItem:()=>null,setItem:()=>{}}).getItem(e);l!=null&&(t.value=n(l))}catch(o){console.warn("Failed to access storage:",o)}},s=o=>{queueMicrotask(()=>{(typeof localStorage<"u"?localStorage:typeof window<"u"&&window.localStorage?window.localStorage:{getItem:()=>null,setItem:()=>{}}).setItem(e,r(o))})};return i(),{signal:t,update:o=>{typeof o=="function"?t.value=o(t.value):t.value=o,s(t.value)}}}const jr=Vt({prefix:"tutorialSignals"}),wy="completed-tutorials",{signal:oi,update:Gf}=Vf({key:wy,signal:gt(new Set),serialize:e=>JSON.stringify([...e]),deserialize:e=>new Set(JSON.parse(e))}),Sn=gt(null),Xr=()=>{const e=Je.filter(t=>t.displayAs==="Tutorial").find(t=>!oi.value.has(t.key));return jr.debug("Getting next tutorial:",{nextTutorial:e,completedTutorials:[...oi.value]}),e??null},Ms=e=>{jr.debug("Setting next tutorial:",e),Sn.value=e},_k=()=>{try{jr.debug("Loading initial tutorial state");const e=localStorage.getItem(wy);e!=null?(jr.debug("Found stored tutorials:",e),oi.value=new Set(JSON.parse(e))):(jr.debug("No stored tutorials found - initializing new state"),oi.value=new Set);const t=Xr();jr.debug("Initial tutorial state:",{nextTutorial:t,completedTutorials:[...oi.value]}),t!=null&&Ms(t)}catch(e){jr.error("Error loading tutorial state:",e),fh()}};setTimeout(_k,100);Ou(()=>[...oi.value]);const Yp=e=>{jr.debug("Setting completed tutorial:",{tutorialKey:e,currentTutorial:Sn.value}),Gf(r=>new Set(r).add(e));const t=Xr();jr.debug("Next tutorial after completion:",t),Ms(t)},fh=()=>{jr.debug("Resetting completed tutorials"),Gf(new Set);const e=Xr();jr.debug("First tutorial after reset:",e),Ms(e)},Sk=()=>{jr.debug("Completing all tutorials"),Gf(new Set(Qw)),Ms(null)},Ck=Vt({prefix:"CompleteCommand"}),wk={name:"complete",description:"Mark tutorials as completed",switches:{},execute:async(e,t)=>{try{return Sk(),Ut({activityKey:Ce.NORMAL,contentKey:null,groupKey:null}),Promise.resolve({status:200,message:"Tutorial completion status saved successfully"})}catch(r){return Ck.error("Complete command error:",r),Promise.resolve({status:500,message:"Failed to save tutorial completion status"})}}},kk=Object.freeze(Object.defineProperty({__proto__:null,CompleteCommand:wk},Symbol.toStringTag,{value:"Module"}));function ky(e,t){return function(){return e.apply(t,arguments)}}const{toString:bk}=Object.prototype,{getPrototypeOf:qf}=Object,Iu=(e=>t=>{const r=bk.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),sn=e=>(e=e.toLowerCase(),t=>Iu(t)===e),Du=e=>t=>typeof t===e,{isArray:js}=Array,Bo=Du("undefined");function xk(e){return e!==null&&!Bo(e)&&e.constructor!==null&&!Bo(e.constructor)&&Ar(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const by=sn("ArrayBuffer");function Ek(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&by(e.buffer),t}const Rk=Du("string"),Ar=Du("function"),xy=Du("number"),Bu=e=>e!==null&&typeof e=="object",Tk=e=>e===!0||e===!1,Xa=e=>{if(Iu(e)!=="object")return!1;const t=qf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Lk=sn("Date"),Ak=sn("File"),Mk=sn("Blob"),Pk=sn("FileList"),Ok=e=>Bu(e)&&Ar(e.pipe),Ik=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Ar(e.append)&&((t=Iu(e))==="formdata"||t==="object"&&Ar(e.toString)&&e.toString()==="[object FormData]"))},Dk=sn("URLSearchParams"),[Bk,Fk,Nk,$k]=["ReadableStream","Request","Response","Headers"].map(sn),Hk=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ua(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,i;if(typeof e!="object"&&(e=[e]),js(e))for(n=0,i=e.length;n<i;n++)t.call(null,e[n],n,e);else{const s=r?Object.getOwnPropertyNames(e):Object.keys(e),a=s.length;let o;for(n=0;n<a;n++)o=s[n],t.call(null,e[o],o,e)}}function Ey(e,t){t=t.toLowerCase();const r=Object.keys(e);let n=r.length,i;for(;n-- >0;)if(i=r[n],t===i.toLowerCase())return i;return null}const Oi=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:Bm,Ry=e=>!Bo(e)&&e!==Oi;function dh(){const{caseless:e}=Ry(this)&&this||{},t={},r=(n,i)=>{const s=e&&Ey(t,i)||i;Xa(t[s])&&Xa(n)?t[s]=dh(t[s],n):Xa(n)?t[s]=dh({},n):js(n)?t[s]=n.slice():t[s]=n};for(let n=0,i=arguments.length;n<i;n++)arguments[n]&&ua(arguments[n],r);return t}const Uk=(e,t,r,{allOwnKeys:n}={})=>(ua(t,(i,s)=>{r&&Ar(i)?e[s]=ky(i,r):e[s]=i},{allOwnKeys:n}),e),jk=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Wk=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},zk=(e,t,r,n)=>{let i,s,a;const o={};if(t=t||{},e==null)return t;do{for(i=Object.getOwnPropertyNames(e),s=i.length;s-- >0;)a=i[s],(!n||n(a,e,t))&&!o[a]&&(t[a]=e[a],o[a]=!0);e=r!==!1&&qf(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},Kk=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},Vk=e=>{if(!e)return null;if(js(e))return e;let t=e.length;if(!xy(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},Gk=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&qf(Uint8Array)),qk=(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let i;for(;(i=n.next())&&!i.done;){const s=i.value;t.call(e,s[0],s[1])}},Qk=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},Xk=sn("HTMLFormElement"),Jk=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,i){return n.toUpperCase()+i}),Zp=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),Yk=sn("RegExp"),Ty=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};ua(r,(i,s)=>{let a;(a=t(i,s,e))!==!1&&(n[s]=a||i)}),Object.defineProperties(e,n)},Zk=e=>{Ty(e,(t,r)=>{if(Ar(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(Ar(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},eb=(e,t)=>{const r={},n=i=>{i.forEach(s=>{r[s]=!0})};return js(e)?n(e):n(String(e).split(t)),r},tb=()=>{},rb=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t,Sc="abcdefghijklmnopqrstuvwxyz",ev="0123456789",Ly={DIGIT:ev,ALPHA:Sc,ALPHA_DIGIT:Sc+Sc.toUpperCase()+ev},nb=(e=16,t=Ly.ALPHA_DIGIT)=>{let r="";const{length:n}=t;for(;e--;)r+=t[Math.random()*n|0];return r};function ib(e){return!!(e&&Ar(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const sb=e=>{const t=new Array(10),r=(n,i)=>{if(Bu(n)){if(t.indexOf(n)>=0)return;if(!("toJSON"in n)){t[i]=n;const s=js(n)?[]:{};return ua(n,(a,o)=>{const l=r(a,i+1);!Bo(l)&&(s[o]=l)}),t[i]=void 0,s}}return n};return r(e,0)},ob=sn("AsyncFunction"),ab=e=>e&&(Bu(e)||Ar(e))&&Ar(e.then)&&Ar(e.catch),Ay=((e,t)=>e?setImmediate:t?((r,n)=>(Oi.addEventListener("message",({source:i,data:s})=>{i===Oi&&s===r&&n.length&&n.shift()()},!1),i=>{n.push(i),Oi.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Ar(Oi.postMessage)),lb=typeof queueMicrotask<"u"?queueMicrotask.bind(Oi):typeof wl<"u"&&wl.nextTick||Ay,ne={isArray:js,isArrayBuffer:by,isBuffer:xk,isFormData:Ik,isArrayBufferView:Ek,isString:Rk,isNumber:xy,isBoolean:Tk,isObject:Bu,isPlainObject:Xa,isReadableStream:Bk,isRequest:Fk,isResponse:Nk,isHeaders:$k,isUndefined:Bo,isDate:Lk,isFile:Ak,isBlob:Mk,isRegExp:Yk,isFunction:Ar,isStream:Ok,isURLSearchParams:Dk,isTypedArray:Gk,isFileList:Pk,forEach:ua,merge:dh,extend:Uk,trim:Hk,stripBOM:jk,inherits:Wk,toFlatObject:zk,kindOf:Iu,kindOfTest:sn,endsWith:Kk,toArray:Vk,forEachEntry:qk,matchAll:Qk,isHTMLForm:Xk,hasOwnProperty:Zp,hasOwnProp:Zp,reduceDescriptors:Ty,freezeMethods:Zk,toObjectSet:eb,toCamelCase:Jk,noop:tb,toFiniteNumber:rb,findKey:Ey,global:Oi,isContextDefined:Ry,ALPHABET:Ly,generateString:nb,isSpecCompliantForm:ib,toJSONObject:sb,isAsyncFn:ob,isThenable:ab,setImmediate:Ay,asap:lb};function Ae(e,t,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i,this.status=i.status?i.status:null)}ne.inherits(Ae,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ne.toJSONObject(this.config),code:this.code,status:this.status}}});const My=Ae.prototype,Py={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Py[e]={value:e}});Object.defineProperties(Ae,Py);Object.defineProperty(My,"isAxiosError",{value:!0});Ae.from=(e,t,r,n,i,s)=>{const a=Object.create(My);return ne.toFlatObject(e,a,function(l){return l!==Error.prototype},o=>o!=="isAxiosError"),Ae.call(a,e.message,t,r,n,i),a.cause=e,a.name=e.name,s&&Object.assign(a,s),a};const ub=null;function ph(e){return ne.isPlainObject(e)||ne.isArray(e)}function Oy(e){return ne.endsWith(e,"[]")?e.slice(0,-2):e}function tv(e,t,r){return e?e.concat(t).map(function(i,s){return i=Oy(i),!r&&s?"["+i+"]":i}).join(r?".":""):t}function cb(e){return ne.isArray(e)&&!e.some(ph)}const hb=ne.toFlatObject(ne,{},null,function(t){return/^is[A-Z]/.test(t)});function Fu(e,t,r){if(!ne.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=ne.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,v){return!ne.isUndefined(v[y])});const n=r.metaTokens,i=r.visitor||g,s=r.dots,a=r.indexes,l=(r.Blob||typeof Blob<"u"&&Blob)&&ne.isSpecCompliantForm(t);if(!ne.isFunction(i))throw new TypeError("visitor must be a function");function h(C){if(C===null)return"";if(ne.isDate(C))return C.toISOString();if(!l&&ne.isBlob(C))throw new Ae("Blob is not supported. Use a Buffer instead.");return ne.isArrayBuffer(C)||ne.isTypedArray(C)?l&&typeof Blob=="function"?new Blob([C]):Dm.from(C):C}function g(C,y,v){let f=C;if(C&&!v&&typeof C=="object"){if(ne.endsWith(y,"{}"))y=n?y:y.slice(0,-2),C=JSON.stringify(C);else if(ne.isArray(C)&&cb(C)||(ne.isFileList(C)||ne.endsWith(y,"[]"))&&(f=ne.toArray(C)))return y=Oy(y),f.forEach(function(d,_){!(ne.isUndefined(d)||d===null)&&t.append(a===!0?tv([y],_,s):a===null?y:y+"[]",h(d))}),!1}return ph(C)?!0:(t.append(tv(v,y,s),h(C)),!1)}const p=[],m=Object.assign(hb,{defaultVisitor:g,convertValue:h,isVisitable:ph});function w(C,y){if(!ne.isUndefined(C)){if(p.indexOf(C)!==-1)throw Error("Circular reference detected in "+y.join("."));p.push(C),ne.forEach(C,function(f,u){(!(ne.isUndefined(f)||f===null)&&i.call(t,f,ne.isString(u)?u.trim():u,y,m))===!0&&w(f,y?y.concat(u):[u])}),p.pop()}}if(!ne.isObject(e))throw new TypeError("data must be an object");return w(e),t}function rv(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function Qf(e,t){this._pairs=[],e&&Fu(e,this,t)}const Iy=Qf.prototype;Iy.append=function(t,r){this._pairs.push([t,r])};Iy.toString=function(t){const r=t?function(n){return t.call(this,n,rv)}:rv;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};function fb(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Dy(e,t,r){if(!t)return e;const n=r&&r.encode||fb;ne.isFunction(r)&&(r={serialize:r});const i=r&&r.serialize;let s;if(i?s=i(t,r):s=ne.isURLSearchParams(t)?t.toString():new Qf(t,r).toString(n),s){const a=e.indexOf("#");a!==-1&&(e=e.slice(0,a)),e+=(e.indexOf("?")===-1?"?":"&")+s}return e}class nv{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){ne.forEach(this.handlers,function(n){n!==null&&t(n)})}}const By={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},db=typeof URLSearchParams<"u"?URLSearchParams:Qf,pb=typeof FormData<"u"?FormData:null,vb=typeof Blob<"u"?Blob:null,gb={isBrowser:!0,classes:{URLSearchParams:db,FormData:pb,Blob:vb},protocols:["http","https","file","blob","url","data"]},Xf=typeof window<"u"&&typeof document<"u",vh=typeof navigator=="object"&&navigator||void 0,mb=Xf&&(!vh||["ReactNative","NativeScript","NS"].indexOf(vh.product)<0),yb=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",_b=Xf&&window.location.href||"http://localhost",Sb=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Xf,hasStandardBrowserEnv:mb,hasStandardBrowserWebWorkerEnv:yb,navigator:vh,origin:_b},Symbol.toStringTag,{value:"Module"})),zt={...Sb,...gb};function Cb(e,t){return Fu(e,new zt.classes.URLSearchParams,Object.assign({visitor:function(r,n,i,s){return zt.isNode&&ne.isBuffer(r)?(this.append(n,r.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},t))}function wb(e){return ne.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function kb(e){const t={},r=Object.keys(e);let n;const i=r.length;let s;for(n=0;n<i;n++)s=r[n],t[s]=e[s];return t}function Fy(e){function t(r,n,i,s){let a=r[s++];if(a==="__proto__")return!0;const o=Number.isFinite(+a),l=s>=r.length;return a=!a&&ne.isArray(i)?i.length:a,l?(ne.hasOwnProp(i,a)?i[a]=[i[a],n]:i[a]=n,!o):((!i[a]||!ne.isObject(i[a]))&&(i[a]=[]),t(r,n,i[a],s)&&ne.isArray(i[a])&&(i[a]=kb(i[a])),!o)}if(ne.isFormData(e)&&ne.isFunction(e.entries)){const r={};return ne.forEachEntry(e,(n,i)=>{t(wb(n),i,r,0)}),r}return null}function bb(e,t,r){if(ne.isString(e))try{return(t||JSON.parse)(e),ne.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const ca={transitional:By,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",i=n.indexOf("application/json")>-1,s=ne.isObject(t);if(s&&ne.isHTMLForm(t)&&(t=new FormData(t)),ne.isFormData(t))return i?JSON.stringify(Fy(t)):t;if(ne.isArrayBuffer(t)||ne.isBuffer(t)||ne.isStream(t)||ne.isFile(t)||ne.isBlob(t)||ne.isReadableStream(t))return t;if(ne.isArrayBufferView(t))return t.buffer;if(ne.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let o;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return Cb(t,this.formSerializer).toString();if((o=ne.isFileList(t))||n.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Fu(o?{"files[]":t}:t,l&&new l,this.formSerializer)}}return s||i?(r.setContentType("application/json",!1),bb(t)):t}],transformResponse:[function(t){const r=this.transitional||ca.transitional,n=r&&r.forcedJSONParsing,i=this.responseType==="json";if(ne.isResponse(t)||ne.isReadableStream(t))return t;if(t&&ne.isString(t)&&(n&&!this.responseType||i)){const a=!(r&&r.silentJSONParsing)&&i;try{return JSON.parse(t)}catch(o){if(a)throw o.name==="SyntaxError"?Ae.from(o,Ae.ERR_BAD_RESPONSE,this,null,this.response):o}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:zt.classes.FormData,Blob:zt.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ne.forEach(["delete","get","head","post","put","patch"],e=>{ca.headers[e]={}});const xb=ne.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Eb=e=>{const t={};let r,n,i;return e&&e.split(`
`).forEach(function(a){i=a.indexOf(":"),r=a.substring(0,i).trim().toLowerCase(),n=a.substring(i+1).trim(),!(!r||t[r]&&xb[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},iv=Symbol("internals");function eo(e){return e&&String(e).trim().toLowerCase()}function Ja(e){return e===!1||e==null?e:ne.isArray(e)?e.map(Ja):String(e)}function Rb(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const Tb=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Cc(e,t,r,n,i){if(ne.isFunction(n))return n.call(this,t,r);if(i&&(t=r),!!ne.isString(t)){if(ne.isString(n))return t.indexOf(n)!==-1;if(ne.isRegExp(n))return n.test(t)}}function Lb(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function Ab(e,t){const r=ne.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(i,s,a){return this[n].call(this,t,i,s,a)},configurable:!0})})}let fr=class{constructor(t){t&&this.set(t)}set(t,r,n){const i=this;function s(o,l,h){const g=eo(l);if(!g)throw new Error("header name must be a non-empty string");const p=ne.findKey(i,g);(!p||i[p]===void 0||h===!0||h===void 0&&i[p]!==!1)&&(i[p||l]=Ja(o))}const a=(o,l)=>ne.forEach(o,(h,g)=>s(h,g,l));if(ne.isPlainObject(t)||t instanceof this.constructor)a(t,r);else if(ne.isString(t)&&(t=t.trim())&&!Tb(t))a(Eb(t),r);else if(ne.isHeaders(t))for(const[o,l]of t.entries())s(l,o,n);else t!=null&&s(r,t,n);return this}get(t,r){if(t=eo(t),t){const n=ne.findKey(this,t);if(n){const i=this[n];if(!r)return i;if(r===!0)return Rb(i);if(ne.isFunction(r))return r.call(this,i,n);if(ne.isRegExp(r))return r.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=eo(t),t){const n=ne.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||Cc(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let i=!1;function s(a){if(a=eo(a),a){const o=ne.findKey(n,a);o&&(!r||Cc(n,n[o],o,r))&&(delete n[o],i=!0)}}return ne.isArray(t)?t.forEach(s):s(t),i}clear(t){const r=Object.keys(this);let n=r.length,i=!1;for(;n--;){const s=r[n];(!t||Cc(this,this[s],s,t,!0))&&(delete this[s],i=!0)}return i}normalize(t){const r=this,n={};return ne.forEach(this,(i,s)=>{const a=ne.findKey(n,s);if(a){r[a]=Ja(i),delete r[s];return}const o=t?Lb(s):String(s).trim();o!==s&&delete r[s],r[o]=Ja(i),n[o]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return ne.forEach(this,(n,i)=>{n!=null&&n!==!1&&(r[i]=t&&ne.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(i=>n.set(i)),n}static accessor(t){const n=(this[iv]=this[iv]={accessors:{}}).accessors,i=this.prototype;function s(a){const o=eo(a);n[o]||(Ab(i,a),n[o]=!0)}return ne.isArray(t)?t.forEach(s):s(t),this}};fr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ne.reduceDescriptors(fr.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});ne.freezeMethods(fr);function wc(e,t){const r=this||ca,n=t||r,i=fr.from(n.headers);let s=n.data;return ne.forEach(e,function(o){s=o.call(r,s,i.normalize(),t?t.status:void 0)}),i.normalize(),s}function Ny(e){return!!(e&&e.__CANCEL__)}function Ws(e,t,r){Ae.call(this,e??"canceled",Ae.ERR_CANCELED,t,r),this.name="CanceledError"}ne.inherits(Ws,Ae,{__CANCEL__:!0});function $y(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new Ae("Request failed with status code "+r.status,[Ae.ERR_BAD_REQUEST,Ae.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function Mb(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function Pb(e,t){e=e||10;const r=new Array(e),n=new Array(e);let i=0,s=0,a;return t=t!==void 0?t:1e3,function(l){const h=Date.now(),g=n[s];a||(a=h),r[i]=l,n[i]=h;let p=s,m=0;for(;p!==i;)m+=r[p++],p=p%e;if(i=(i+1)%e,i===s&&(s=(s+1)%e),h-a<t)return;const w=g&&h-g;return w?Math.round(m*1e3/w):void 0}}function Ob(e,t){let r=0,n=1e3/t,i,s;const a=(h,g=Date.now())=>{r=g,i=null,s&&(clearTimeout(s),s=null),e.apply(null,h)};return[(...h)=>{const g=Date.now(),p=g-r;p>=n?a(h,g):(i=h,s||(s=setTimeout(()=>{s=null,a(i)},n-p)))},()=>i&&a(i)]}const xl=(e,t,r=3)=>{let n=0;const i=Pb(50,250);return Ob(s=>{const a=s.loaded,o=s.lengthComputable?s.total:void 0,l=a-n,h=i(l),g=a<=o;n=a;const p={loaded:a,total:o,progress:o?a/o:void 0,bytes:l,rate:h||void 0,estimated:h&&o&&g?(o-a)/h:void 0,event:s,lengthComputable:o!=null,[t?"download":"upload"]:!0};e(p)},r)},sv=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},ov=e=>(...t)=>ne.asap(()=>e(...t)),Ib=zt.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,zt.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(zt.origin),zt.navigator&&/(msie|trident)/i.test(zt.navigator.userAgent)):()=>!0,Db=zt.hasStandardBrowserEnv?{write(e,t,r,n,i,s){const a=[e+"="+encodeURIComponent(t)];ne.isNumber(r)&&a.push("expires="+new Date(r).toGMTString()),ne.isString(n)&&a.push("path="+n),ne.isString(i)&&a.push("domain="+i),s===!0&&a.push("secure"),document.cookie=a.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Bb(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Fb(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function Hy(e,t){return e&&!Bb(t)?Fb(e,t):t}const av=e=>e instanceof fr?{...e}:e;function ji(e,t){t=t||{};const r={};function n(h,g,p,m){return ne.isPlainObject(h)&&ne.isPlainObject(g)?ne.merge.call({caseless:m},h,g):ne.isPlainObject(g)?ne.merge({},g):ne.isArray(g)?g.slice():g}function i(h,g,p,m){if(ne.isUndefined(g)){if(!ne.isUndefined(h))return n(void 0,h,p,m)}else return n(h,g,p,m)}function s(h,g){if(!ne.isUndefined(g))return n(void 0,g)}function a(h,g){if(ne.isUndefined(g)){if(!ne.isUndefined(h))return n(void 0,h)}else return n(void 0,g)}function o(h,g,p){if(p in t)return n(h,g);if(p in e)return n(void 0,h)}const l={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:o,headers:(h,g,p)=>i(av(h),av(g),p,!0)};return ne.forEach(Object.keys(Object.assign({},e,t)),function(g){const p=l[g]||i,m=p(e[g],t[g],g);ne.isUndefined(m)&&p!==o||(r[g]=m)}),r}const Uy=e=>{const t=ji({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:i,xsrfCookieName:s,headers:a,auth:o}=t;t.headers=a=fr.from(a),t.url=Dy(Hy(t.baseURL,t.url),e.params,e.paramsSerializer),o&&a.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):"")));let l;if(ne.isFormData(r)){if(zt.hasStandardBrowserEnv||zt.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if((l=a.getContentType())!==!1){const[h,...g]=l?l.split(";").map(p=>p.trim()).filter(Boolean):[];a.setContentType([h||"multipart/form-data",...g].join("; "))}}if(zt.hasStandardBrowserEnv&&(n&&ne.isFunction(n)&&(n=n(t)),n||n!==!1&&Ib(t.url))){const h=i&&s&&Db.read(s);h&&a.set(i,h)}return t},Nb=typeof XMLHttpRequest<"u",$b=Nb&&function(e){return new Promise(function(r,n){const i=Uy(e);let s=i.data;const a=fr.from(i.headers).normalize();let{responseType:o,onUploadProgress:l,onDownloadProgress:h}=i,g,p,m,w,C;function y(){w&&w(),C&&C(),i.cancelToken&&i.cancelToken.unsubscribe(g),i.signal&&i.signal.removeEventListener("abort",g)}let v=new XMLHttpRequest;v.open(i.method.toUpperCase(),i.url,!0),v.timeout=i.timeout;function f(){if(!v)return;const d=fr.from("getAllResponseHeaders"in v&&v.getAllResponseHeaders()),R={data:!o||o==="text"||o==="json"?v.responseText:v.response,status:v.status,statusText:v.statusText,headers:d,config:e,request:v};$y(function(L){r(L),y()},function(L){n(L),y()},R),v=null}"onloadend"in v?v.onloadend=f:v.onreadystatechange=function(){!v||v.readyState!==4||v.status===0&&!(v.responseURL&&v.responseURL.indexOf("file:")===0)||setTimeout(f)},v.onabort=function(){v&&(n(new Ae("Request aborted",Ae.ECONNABORTED,e,v)),v=null)},v.onerror=function(){n(new Ae("Network Error",Ae.ERR_NETWORK,e,v)),v=null},v.ontimeout=function(){let _=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const R=i.transitional||By;i.timeoutErrorMessage&&(_=i.timeoutErrorMessage),n(new Ae(_,R.clarifyTimeoutError?Ae.ETIMEDOUT:Ae.ECONNABORTED,e,v)),v=null},s===void 0&&a.setContentType(null),"setRequestHeader"in v&&ne.forEach(a.toJSON(),function(_,R){v.setRequestHeader(R,_)}),ne.isUndefined(i.withCredentials)||(v.withCredentials=!!i.withCredentials),o&&o!=="json"&&(v.responseType=i.responseType),h&&([m,C]=xl(h,!0),v.addEventListener("progress",m)),l&&v.upload&&([p,w]=xl(l),v.upload.addEventListener("progress",p),v.upload.addEventListener("loadend",w)),(i.cancelToken||i.signal)&&(g=d=>{v&&(n(!d||d.type?new Ws(null,e,v):d),v.abort(),v=null)},i.cancelToken&&i.cancelToken.subscribe(g),i.signal&&(i.signal.aborted?g():i.signal.addEventListener("abort",g)));const u=Mb(i.url);if(u&&zt.protocols.indexOf(u)===-1){n(new Ae("Unsupported protocol "+u+":",Ae.ERR_BAD_REQUEST,e));return}v.send(s||null)})},Hb=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,i;const s=function(h){if(!i){i=!0,o();const g=h instanceof Error?h:this.reason;n.abort(g instanceof Ae?g:new Ws(g instanceof Error?g.message:g))}};let a=t&&setTimeout(()=>{a=null,s(new Ae(`timeout ${t} of ms exceeded`,Ae.ETIMEDOUT))},t);const o=()=>{e&&(a&&clearTimeout(a),a=null,e.forEach(h=>{h.unsubscribe?h.unsubscribe(s):h.removeEventListener("abort",s)}),e=null)};e.forEach(h=>h.addEventListener("abort",s));const{signal:l}=n;return l.unsubscribe=()=>ne.asap(o),l}},Ub=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,i;for(;n<r;)i=n+t,yield e.slice(n,i),n=i},jb=async function*(e,t){for await(const r of Wb(e))yield*Ub(r,t)},Wb=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},lv=(e,t,r,n)=>{const i=jb(e,t);let s=0,a,o=l=>{a||(a=!0,n&&n(l))};return new ReadableStream({async pull(l){try{const{done:h,value:g}=await i.next();if(h){o(),l.close();return}let p=g.byteLength;if(r){let m=s+=p;r(m)}l.enqueue(new Uint8Array(g))}catch(h){throw o(h),h}},cancel(l){return o(l),i.return()}},{highWaterMark:2})},Nu=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",jy=Nu&&typeof ReadableStream=="function",zb=Nu&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),Wy=(e,...t)=>{try{return!!e(...t)}catch{return!1}},Kb=jy&&Wy(()=>{let e=!1;const t=new Request(zt.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),uv=64*1024,gh=jy&&Wy(()=>ne.isReadableStream(new Response("").body)),El={stream:gh&&(e=>e.body)};Nu&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!El[t]&&(El[t]=ne.isFunction(e[t])?r=>r[t]():(r,n)=>{throw new Ae(`Response type '${t}' is not supported`,Ae.ERR_NOT_SUPPORT,n)})})})(new Response);const Vb=async e=>{if(e==null)return 0;if(ne.isBlob(e))return e.size;if(ne.isSpecCompliantForm(e))return(await new Request(zt.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(ne.isArrayBufferView(e)||ne.isArrayBuffer(e))return e.byteLength;if(ne.isURLSearchParams(e)&&(e=e+""),ne.isString(e))return(await zb(e)).byteLength},Gb=async(e,t)=>{const r=ne.toFiniteNumber(e.getContentLength());return r??Vb(t)},qb=Nu&&(async e=>{let{url:t,method:r,data:n,signal:i,cancelToken:s,timeout:a,onDownloadProgress:o,onUploadProgress:l,responseType:h,headers:g,withCredentials:p="same-origin",fetchOptions:m}=Uy(e);h=h?(h+"").toLowerCase():"text";let w=Hb([i,s&&s.toAbortSignal()],a),C;const y=w&&w.unsubscribe&&(()=>{w.unsubscribe()});let v;try{if(l&&Kb&&r!=="get"&&r!=="head"&&(v=await Gb(g,n))!==0){let R=new Request(t,{method:"POST",body:n,duplex:"half"}),E;if(ne.isFormData(n)&&(E=R.headers.get("content-type"))&&g.setContentType(E),R.body){const[L,b]=sv(v,xl(ov(l)));n=lv(R.body,uv,L,b)}}ne.isString(p)||(p=p?"include":"omit");const f="credentials"in Request.prototype;C=new Request(t,{...m,signal:w,method:r.toUpperCase(),headers:g.normalize().toJSON(),body:n,duplex:"half",credentials:f?p:void 0});let u=await fetch(C);const d=gh&&(h==="stream"||h==="response");if(gh&&(o||d&&y)){const R={};["status","statusText","headers"].forEach(I=>{R[I]=u[I]});const E=ne.toFiniteNumber(u.headers.get("content-length")),[L,b]=o&&sv(E,xl(ov(o),!0))||[];u=new Response(lv(u.body,uv,L,()=>{b&&b(),y&&y()}),R)}h=h||"text";let _=await El[ne.findKey(El,h)||"text"](u,e);return!d&&y&&y(),await new Promise((R,E)=>{$y(R,E,{data:_,headers:fr.from(u.headers),status:u.status,statusText:u.statusText,config:e,request:C})})}catch(f){throw y&&y(),f&&f.name==="TypeError"&&/fetch/i.test(f.message)?Object.assign(new Ae("Network Error",Ae.ERR_NETWORK,e,C),{cause:f.cause||f}):Ae.from(f,f&&f.code,e,C)}}),mh={http:ub,xhr:$b,fetch:qb};ne.forEach(mh,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const cv=e=>`- ${e}`,Qb=e=>ne.isFunction(e)||e===null||e===!1,zy={getAdapter:e=>{e=ne.isArray(e)?e:[e];const{length:t}=e;let r,n;const i={};for(let s=0;s<t;s++){r=e[s];let a;if(n=r,!Qb(r)&&(n=mh[(a=String(r)).toLowerCase()],n===void 0))throw new Ae(`Unknown adapter '${a}'`);if(n)break;i[a||"#"+s]=n}if(!n){const s=Object.entries(i).map(([o,l])=>`adapter ${o} `+(l===!1?"is not supported by the environment":"is not available in the build"));let a=t?s.length>1?`since :
`+s.map(cv).join(`
`):" "+cv(s[0]):"as no adapter specified";throw new Ae("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return n},adapters:mh};function kc(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Ws(null,e)}function hv(e){return kc(e),e.headers=fr.from(e.headers),e.data=wc.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),zy.getAdapter(e.adapter||ca.adapter)(e).then(function(n){return kc(e),n.data=wc.call(e,e.transformResponse,n),n.headers=fr.from(n.headers),n},function(n){return Ny(n)||(kc(e),n&&n.response&&(n.response.data=wc.call(e,e.transformResponse,n.response),n.response.headers=fr.from(n.response.headers))),Promise.reject(n)})}const Ky="1.7.9",$u={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{$u[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const fv={};$u.transitional=function(t,r,n){function i(s,a){return"[Axios v"+Ky+"] Transitional option '"+s+"'"+a+(n?". "+n:"")}return(s,a,o)=>{if(t===!1)throw new Ae(i(a," has been removed"+(r?" in "+r:"")),Ae.ERR_DEPRECATED);return r&&!fv[a]&&(fv[a]=!0,console.warn(i(a," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(s,a,o):!0}};$u.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function Xb(e,t,r){if(typeof e!="object")throw new Ae("options must be an object",Ae.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let i=n.length;for(;i-- >0;){const s=n[i],a=t[s];if(a){const o=e[s],l=o===void 0||a(o,s,e);if(l!==!0)throw new Ae("option "+s+" must be "+l,Ae.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Ae("Unknown option "+s,Ae.ERR_BAD_OPTION)}}const Ya={assertOptions:Xb,validators:$u},hn=Ya.validators;let $i=class{constructor(t){this.defaults=t,this.interceptors={request:new nv,response:new nv}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{n.stack?s&&!String(n.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+s):n.stack=s}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=ji(this.defaults,r);const{transitional:n,paramsSerializer:i,headers:s}=r;n!==void 0&&Ya.assertOptions(n,{silentJSONParsing:hn.transitional(hn.boolean),forcedJSONParsing:hn.transitional(hn.boolean),clarifyTimeoutError:hn.transitional(hn.boolean)},!1),i!=null&&(ne.isFunction(i)?r.paramsSerializer={serialize:i}:Ya.assertOptions(i,{encode:hn.function,serialize:hn.function},!0)),Ya.assertOptions(r,{baseUrl:hn.spelling("baseURL"),withXsrfToken:hn.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let a=s&&ne.merge(s.common,s[r.method]);s&&ne.forEach(["delete","get","head","post","put","patch","common"],C=>{delete s[C]}),r.headers=fr.concat(a,s);const o=[];let l=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(r)===!1||(l=l&&y.synchronous,o.unshift(y.fulfilled,y.rejected))});const h=[];this.interceptors.response.forEach(function(y){h.push(y.fulfilled,y.rejected)});let g,p=0,m;if(!l){const C=[hv.bind(this),void 0];for(C.unshift.apply(C,o),C.push.apply(C,h),m=C.length,g=Promise.resolve(r);p<m;)g=g.then(C[p++],C[p++]);return g}m=o.length;let w=r;for(p=0;p<m;){const C=o[p++],y=o[p++];try{w=C(w)}catch(v){y.call(this,v);break}}try{g=hv.call(this,w)}catch(C){return Promise.reject(C)}for(p=0,m=h.length;p<m;)g=g.then(h[p++],h[p++]);return g}getUri(t){t=ji(this.defaults,t);const r=Hy(t.baseURL,t.url);return Dy(r,t.params,t.paramsSerializer)}};ne.forEach(["delete","get","head","options"],function(t){$i.prototype[t]=function(r,n){return this.request(ji(n||{},{method:t,url:r,data:(n||{}).data}))}});ne.forEach(["post","put","patch"],function(t){function r(n){return function(s,a,o){return this.request(ji(o||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:s,data:a}))}}$i.prototype[t]=r(),$i.prototype[t+"Form"]=r(!0)});let Jb=class Vy{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(s){r=s});const n=this;this.promise.then(i=>{if(!n._listeners)return;let s=n._listeners.length;for(;s-- >0;)n._listeners[s](i);n._listeners=null}),this.promise.then=i=>{let s;const a=new Promise(o=>{n.subscribe(o),s=o}).then(i);return a.cancel=function(){n.unsubscribe(s)},a},t(function(s,a,o){n.reason||(n.reason=new Ws(s,a,o),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new Vy(function(i){t=i}),cancel:t}}};function Yb(e){return function(r){return e.apply(null,r)}}function Zb(e){return ne.isObject(e)&&e.isAxiosError===!0}const yh={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(yh).forEach(([e,t])=>{yh[t]=e});function Gy(e){const t=new $i(e),r=ky($i.prototype.request,t);return ne.extend(r,$i.prototype,t,{allOwnKeys:!0}),ne.extend(r,t,null,{allOwnKeys:!0}),r.create=function(i){return Gy(ji(e,i))},r}const je=Gy(ca);je.Axios=$i;je.CanceledError=Ws;je.CancelToken=Jb;je.isCancel=Ny;je.VERSION=Ky;je.toFormData=Fu;je.AxiosError=Ae;je.Cancel=je.CanceledError;je.all=function(t){return Promise.all(t)};je.spread=Yb;je.isAxiosError=Zb;je.mergeConfig=ji;je.AxiosHeaders=fr;je.formToJSON=e=>Fy(ne.isHTMLForm(e)?new FormData(e):e);je.getAdapter=zy.getAdapter;je.HttpStatusCode=yh;je.default=je;const{Axios:NM,AxiosError:$M,CanceledError:HM,isCancel:UM,CancelToken:jM,VERSION:WM,all:zM,Cancel:KM,isAxiosError:VM,spread:GM,toFormData:qM,AxiosHeaders:QM,HttpStatusCode:XM,formToJSON:JM,getAdapter:YM,mergeConfig:ZM}=je,ex={BaseUrl:"https://drypicnke5.execute-api.us-east-1.amazonaws.com",SignUp:"/signUp",ConfirmSignUp:"/confirm-signup",SignIn:"/signIn",RefreshToken:"/refreshToken",GetUser:"/getUser",GetFile:"/getFile",ListRecentRepos:"/list-recent-repos",GetRepoTree:"/get-repo-tree",UnlinkGitHub:"/unlink-github",GitHubDeviceCode:"/github-device-code",GitHubDevicePoll:"/github-device-poll"},cr={api:ex},tx=Vt();function rx(e){return typeof e=="object"&&e!==null&&"message"in e}const nx=je.create({baseURL:cr.api.BaseUrl,headers:{"Content-Type":"application/json",Accept:"application/json"}});async function ha(e,t,r,n="GET",i){try{const s=await e.validateAndRefreshToken();if(s==null||s.status!==200||s.data==null)return{status:401,error:"Authentication failed"};const a=s.data.AccessToken;if(a==null)return{status:401,error:"Access token not found"};const o=await nx({method:n,url:t,headers:{Authorization:`Bearer ${a}`},params:r,data:i});return{status:o.status,data:o.data}}catch(s){if(s instanceof Error&&tx.error(`API request failed: ${s.message}`),je.isAxiosError(s)){if(s.response!=null){const a=s.response.data,o=rx(a)&&typeof a.message=="string"?a.message:`Request failed with status ${s.response.status}`;return{status:s.response.status,error:o}}return{status:500,error:typeof s.message=="string"?s.message:"Request failed"}}return{status:500,error:"An unknown error occurred"}}}async function ix(e,t,r,n){return ha(e,cr.api.GetRepoTree,{repo:t,...r!=null&&{path:r},...n!=null&&{sha:n}})}async function sx(e){return ha(e,cr.api.ListRecentRepos)}async function ox(e){return ha(e,cr.api.UnlinkGitHub,void 0,"POST")}async function ax(e){return ha(e,cr.api.GitHubDeviceCode,void 0,"POST")}async function lx(e,t){return ha(e,cr.api.GitHubDevicePoll,void 0,"POST",{device_code:t})}const bi=Vt({prefix:"GitHubCommand"}),ux=5e3,cx=3e5;async function hx(e){return new Promise(t=>setTimeout(t,e))}const fx={name:"github",description:"GitHub account and repository management",switches:{h:"Show help for GitHub command",l:"Link GitHub account",u:"Unlink GitHub account",r:"List recent repositories",t:"Get repository tree (Usage: -t owner/repo [path] [sha])"},execute:async(e,t)=>{if("h"in t.switches)return{status:200,message:`GitHub Command Usage:
                github -l : Link your GitHub account
                github -u : Unlink GitHub account
                github -r : List recent repositories
                github -t owner/repo [path] [sha] : Get repository tree
                github -h : Show this help message`};try{if("l"in t.switches){const r=await ax(e.auth);if(r.status!==200||r.data===null)return{status:r.status,message:r.error??"Failed to get device code"};if(r.data===null||r.data===void 0)return{status:500,message:"Invalid device code response"};const{verification_uri:n,user_code:i,device_code:s}=r.data;await navigator.clipboard.writeText(i),window.open(n,"_blank"),bi.info("Opening browser for GitHub authentication..."),bi.info("Device code copied to clipboard!",i),bi.info("Waiting for authentication...");const a=Date.now();for(;Date.now()-a<cx;){const o=await lx(e.auth,s);if(o.status===200&&o.data!==null&&o.data!==void 0&&o.data.status==="complete")return{status:200,message:"Successfully linked GitHub account!"};if(o.status!==void 0&&o.status!==null&&o.status!==202)return{status:o.status,message:o.error??"Failed to check authorization status"};await hx(ux)}return{status:408,message:"Authentication timed out. Please try again."}}if("u"in t.switches){const r=await ox(e.auth);return r.status===200?(localStorage.removeItem("githubUsername"),localStorage.removeItem("current_github_repo"),localStorage.removeItem("github_tree_items"),sessionStorage.removeItem("github_auth_state"),{status:200,message:'GitHub account unlinked. Use "github -l" to link again with new permissions.'}):{status:r.status,message:r.error??"Failed to unlink GitHub account."}}if("r"in t.switches){const r=await sx(e.auth);return r.status===200&&r.data!==null&&r.data!==void 0&&typeof r.data=="object"?{status:200,message:`Recent Repositories:<br />${r.data.map(i=>`${i.name}: ${i.description??"No description"}`).join("<br />")}`}:{status:r.status,message:r.error??"Failed to retrieve repositories."}}if("t"in t.switches){const r=t.switches.t===!0?t.args[0]:t.switches.t;if(r==null)return{status:400,message:"Repository parameter required. Usage: github -t owner/repo [path] [sha]"};const n=t.args[1]??"",i=t.args[2]??"";bi.info("Fetching tree for repo:",r);const s=await ix(e.auth,r,n,i);return bi.info("Tree response:",s),s.status===200&&s.data!==null?(localStorage.setItem("current_github_repo",r),localStorage.setItem("github_tree_items",JSON.stringify(s.data)),bi.info("Switching to TREE mode"),Ut({activityKey:Ce.TREE,contentKey:r,groupKey:null}),{status:200,message:"Repository tree loaded. Use j/k to navigate, Enter to select a file, e to close."}):{status:s.status,message:s.error??"Failed to retrieve repository tree."}}return{status:400,message:"Invalid command. Use -h to show command help info"}}catch(r){return bi.error("GitHub command error:",r),{status:501,message:"Failed to process GitHub command"}}}},dx=Object.freeze(Object.defineProperty({__proto__:null,GitHubCommand:fx},Symbol.toStringTag,{value:"Module"}));var yi={},zs={};/**
 * @license React
 * react-dom-server-legacy.browser.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qy=G;function Me(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ar=Object.prototype.hasOwnProperty,px=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,dv={},pv={};function Qy(e){return ar.call(pv,e)?!0:ar.call(dv,e)?!1:px.test(e)?pv[e]=!0:(dv[e]=!0,!1)}function tr(e,t,r,n,i,s,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var It={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){It[e]=new tr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];It[t]=new tr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){It[e]=new tr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){It[e]=new tr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){It[e]=new tr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){It[e]=new tr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){It[e]=new tr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){It[e]=new tr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){It[e]=new tr(e,5,!1,e.toLowerCase(),null,!1,!1)});var Jf=/[\-:]([a-z])/g;function Yf(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Jf,Yf);It[t]=new tr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Jf,Yf);It[t]=new tr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Jf,Yf);It[t]=new tr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){It[e]=new tr(e,1,!1,e.toLowerCase(),null,!1,!1)});It.xlinkHref=new tr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){It[e]=new tr(e,1,!1,e.toLowerCase(),null,!0,!0)});var Za={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},vx=["Webkit","ms","Moz","O"];Object.keys(Za).forEach(function(e){vx.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Za[t]=Za[e]})});var gx=/["'&<>]/;function Yt(e){if(typeof e=="boolean"||typeof e=="number")return""+e;e=""+e;var t=gx.exec(e);if(t){var r="",n,i=0;for(n=t.index;n<e.length;n++){switch(e.charCodeAt(n)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#x27;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}i!==n&&(r+=e.substring(i,n)),i=n+1,r+=t}e=i!==n?r+e.substring(i,n):r}return e}var mx=/([A-Z])/g,yx=/^ms-/,_h=Array.isArray;function Tn(e,t){return{insertionMode:e,selectedValue:t}}function _x(e,t,r){switch(t){case"select":return Tn(1,r.value!=null?r.value:r.defaultValue);case"svg":return Tn(2,null);case"math":return Tn(3,null);case"foreignObject":return Tn(1,null);case"table":return Tn(4,null);case"thead":case"tbody":case"tfoot":return Tn(5,null);case"colgroup":return Tn(7,null);case"tr":return Tn(6,null)}return 4<=e.insertionMode||e.insertionMode===0?Tn(1,null):e}var vv=new Map;function Xy(e,t,r){if(typeof r!="object")throw Error(Me(62));t=!0;for(var n in r)if(ar.call(r,n)){var i=r[n];if(i!=null&&typeof i!="boolean"&&i!==""){if(n.indexOf("--")===0){var s=Yt(n);i=Yt((""+i).trim())}else{s=n;var a=vv.get(s);a!==void 0||(a=Yt(s.replace(mx,"-$1").toLowerCase().replace(yx,"-ms-")),vv.set(s,a)),s=a,i=typeof i=="number"?i===0||ar.call(Za,n)?""+i:i+"px":Yt((""+i).trim())}t?(t=!1,e.push(' style="',s,":",i)):e.push(";",s,":",i)}}t||e.push('"')}function Cr(e,t,r,n){switch(r){case"style":Xy(e,t,n);return;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N"){if(t=It.hasOwnProperty(r)?It[r]:null,t!==null){switch(typeof n){case"function":case"symbol":return;case"boolean":if(!t.acceptsBooleans)return}switch(r=t.attributeName,t.type){case 3:n&&e.push(" ",r,'=""');break;case 4:n===!0?e.push(" ",r,'=""'):n!==!1&&e.push(" ",r,'="',Yt(n),'"');break;case 5:isNaN(n)||e.push(" ",r,'="',Yt(n),'"');break;case 6:!isNaN(n)&&1<=n&&e.push(" ",r,'="',Yt(n),'"');break;default:t.sanitizeURL&&(n=""+n),e.push(" ",r,'="',Yt(n),'"')}}else if(Qy(r)){switch(typeof n){case"function":case"symbol":return;case"boolean":if(t=r.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-")return}e.push(" ",r,'="',Yt(n),'"')}}}function el(e,t,r){if(t!=null){if(r!=null)throw Error(Me(60));if(typeof t!="object"||!("__html"in t))throw Error(Me(61));t=t.__html,t!=null&&e.push(""+t)}}function Sx(e){var t="";return qy.Children.forEach(e,function(r){r!=null&&(t+=r)}),t}function bc(e,t,r,n){e.push(pn(r));var i=r=null,s;for(s in t)if(ar.call(t,s)){var a=t[s];if(a!=null)switch(s){case"children":r=a;break;case"dangerouslySetInnerHTML":i=a;break;default:Cr(e,n,s,a)}}return e.push(">"),el(e,i,r),typeof r=="string"?(e.push(Yt(r)),null):r}var Cx=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,gv=new Map;function pn(e){var t=gv.get(e);if(t===void 0){if(!Cx.test(e))throw Error(Me(65,e));t="<"+e,gv.set(e,t)}return t}function wx(e,t,r,n,i){switch(t){case"select":e.push(pn("select"));var s=null,a=null;for(g in r)if(ar.call(r,g)){var o=r[g];if(o!=null)switch(g){case"children":s=o;break;case"dangerouslySetInnerHTML":a=o;break;case"defaultValue":case"value":break;default:Cr(e,n,g,o)}}return e.push(">"),el(e,a,s),s;case"option":a=i.selectedValue,e.push(pn("option"));var l=o=null,h=null,g=null;for(s in r)if(ar.call(r,s)){var p=r[s];if(p!=null)switch(s){case"children":o=p;break;case"selected":h=p;break;case"dangerouslySetInnerHTML":g=p;break;case"value":l=p;default:Cr(e,n,s,p)}}if(a!=null)if(r=l!==null?""+l:Sx(o),_h(a)){for(n=0;n<a.length;n++)if(""+a[n]===r){e.push(' selected=""');break}}else""+a===r&&e.push(' selected=""');else h&&e.push(' selected=""');return e.push(">"),el(e,g,o),o;case"textarea":e.push(pn("textarea")),g=a=s=null;for(o in r)if(ar.call(r,o)&&(l=r[o],l!=null))switch(o){case"children":g=l;break;case"value":s=l;break;case"defaultValue":a=l;break;case"dangerouslySetInnerHTML":throw Error(Me(91));default:Cr(e,n,o,l)}if(s===null&&a!==null&&(s=a),e.push(">"),g!=null){if(s!=null)throw Error(Me(92));if(_h(g)&&1<g.length)throw Error(Me(93));s=""+g}return typeof s=="string"&&s[0]===`
`&&e.push(`
`),s!==null&&e.push(Yt(""+s)),null;case"input":e.push(pn("input")),l=g=o=s=null;for(a in r)if(ar.call(r,a)&&(h=r[a],h!=null))switch(a){case"children":case"dangerouslySetInnerHTML":throw Error(Me(399,"input"));case"defaultChecked":l=h;break;case"defaultValue":o=h;break;case"checked":g=h;break;case"value":s=h;break;default:Cr(e,n,a,h)}return g!==null?Cr(e,n,"checked",g):l!==null&&Cr(e,n,"checked",l),s!==null?Cr(e,n,"value",s):o!==null&&Cr(e,n,"value",o),e.push("/>"),null;case"menuitem":e.push(pn("menuitem"));for(var m in r)if(ar.call(r,m)&&(s=r[m],s!=null))switch(m){case"children":case"dangerouslySetInnerHTML":throw Error(Me(400));default:Cr(e,n,m,s)}return e.push(">"),null;case"title":e.push(pn("title")),s=null;for(p in r)if(ar.call(r,p)&&(a=r[p],a!=null))switch(p){case"children":s=a;break;case"dangerouslySetInnerHTML":throw Error(Me(434));default:Cr(e,n,p,a)}return e.push(">"),s;case"listing":case"pre":e.push(pn(t)),a=s=null;for(l in r)if(ar.call(r,l)&&(o=r[l],o!=null))switch(l){case"children":s=o;break;case"dangerouslySetInnerHTML":a=o;break;default:Cr(e,n,l,o)}if(e.push(">"),a!=null){if(s!=null)throw Error(Me(60));if(typeof a!="object"||!("__html"in a))throw Error(Me(61));r=a.__html,r!=null&&(typeof r=="string"&&0<r.length&&r[0]===`
`?e.push(`
`,r):e.push(""+r))}return typeof s=="string"&&s[0]===`
`&&e.push(`
`),s;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":e.push(pn(t));for(var w in r)if(ar.call(r,w)&&(s=r[w],s!=null))switch(w){case"children":case"dangerouslySetInnerHTML":throw Error(Me(399,t));default:Cr(e,n,w,s)}return e.push("/>"),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return bc(e,r,t,n);case"html":return i.insertionMode===0&&e.push("<!DOCTYPE html>"),bc(e,r,t,n);default:if(t.indexOf("-")===-1&&typeof r.is!="string")return bc(e,r,t,n);e.push(pn(t)),a=s=null;for(h in r)if(ar.call(r,h)&&(o=r[h],o!=null))switch(h){case"children":s=o;break;case"dangerouslySetInnerHTML":a=o;break;case"style":Xy(e,n,o);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:Qy(h)&&typeof o!="function"&&typeof o!="symbol"&&e.push(" ",h,'="',Yt(o),'"')}return e.push(">"),el(e,a,s),s}}function mv(e,t,r){if(e.push('<!--$?--><template id="'),r===null)throw Error(Me(395));return e.push(r),e.push('"></template>')}function kx(e,t,r,n){switch(r.insertionMode){case 0:case 1:return e.push('<div hidden id="'),e.push(t.segmentPrefix),t=n.toString(16),e.push(t),e.push('">');case 2:return e.push('<svg aria-hidden="true" style="display:none" id="'),e.push(t.segmentPrefix),t=n.toString(16),e.push(t),e.push('">');case 3:return e.push('<math aria-hidden="true" style="display:none" id="'),e.push(t.segmentPrefix),t=n.toString(16),e.push(t),e.push('">');case 4:return e.push('<table hidden id="'),e.push(t.segmentPrefix),t=n.toString(16),e.push(t),e.push('">');case 5:return e.push('<table hidden><tbody id="'),e.push(t.segmentPrefix),t=n.toString(16),e.push(t),e.push('">');case 6:return e.push('<table hidden><tr id="'),e.push(t.segmentPrefix),t=n.toString(16),e.push(t),e.push('">');case 7:return e.push('<table hidden><colgroup id="'),e.push(t.segmentPrefix),t=n.toString(16),e.push(t),e.push('">');default:throw Error(Me(397))}}function bx(e,t){switch(t.insertionMode){case 0:case 1:return e.push("</div>");case 2:return e.push("</svg>");case 3:return e.push("</math>");case 4:return e.push("</table>");case 5:return e.push("</tbody></table>");case 6:return e.push("</tr></table>");case 7:return e.push("</colgroup></table>");default:throw Error(Me(397))}}var xx=/[<\u2028\u2029]/g;function xc(e){return JSON.stringify(e).replace(xx,function(t){switch(t){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}function Ex(e,t){return t=t===void 0?"":t,{bootstrapChunks:[],startInlineScript:"<script>",placeholderPrefix:t+"P:",segmentPrefix:t+"S:",boundaryPrefix:t+"B:",idPrefix:t,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1,generateStaticMarkup:e}}function yv(e,t,r,n){return r.generateStaticMarkup?(e.push(Yt(t)),!1):(t===""?e=n:(n&&e.push("<!-- -->"),e.push(Yt(t)),e=!0),e)}var wo=Object.assign,Rx=Symbol.for("react.element"),Jy=Symbol.for("react.portal"),Yy=Symbol.for("react.fragment"),Zy=Symbol.for("react.strict_mode"),e_=Symbol.for("react.profiler"),t_=Symbol.for("react.provider"),r_=Symbol.for("react.context"),n_=Symbol.for("react.forward_ref"),i_=Symbol.for("react.suspense"),s_=Symbol.for("react.suspense_list"),o_=Symbol.for("react.memo"),Zf=Symbol.for("react.lazy"),Tx=Symbol.for("react.scope"),Lx=Symbol.for("react.debug_trace_mode"),Ax=Symbol.for("react.legacy_hidden"),Mx=Symbol.for("react.default_value"),_v=Symbol.iterator;function Sh(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Yy:return"Fragment";case Jy:return"Portal";case e_:return"Profiler";case Zy:return"StrictMode";case i_:return"Suspense";case s_:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case r_:return(e.displayName||"Context")+".Consumer";case t_:return(e._context.displayName||"Context")+".Provider";case n_:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case o_:return t=e.displayName||null,t!==null?t:Sh(e.type)||"Memo";case Zf:t=e._payload,e=e._init;try{return Sh(e(t))}catch{}}return null}var a_={};function Sv(e,t){if(e=e.contextTypes,!e)return a_;var r={},n;for(n in e)r[n]=t[n];return r}var Ii=null;function Hu(e,t){if(e!==t){e.context._currentValue2=e.parentValue,e=e.parent;var r=t.parent;if(e===null){if(r!==null)throw Error(Me(401))}else{if(r===null)throw Error(Me(401));Hu(e,r)}t.context._currentValue2=t.value}}function l_(e){e.context._currentValue2=e.parentValue,e=e.parent,e!==null&&l_(e)}function u_(e){var t=e.parent;t!==null&&u_(t),e.context._currentValue2=e.value}function c_(e,t){if(e.context._currentValue2=e.parentValue,e=e.parent,e===null)throw Error(Me(402));e.depth===t.depth?Hu(e,t):c_(e,t)}function h_(e,t){var r=t.parent;if(r===null)throw Error(Me(402));e.depth===r.depth?Hu(e,r):h_(e,r),t.context._currentValue2=t.value}function Rl(e){var t=Ii;t!==e&&(t===null?u_(e):e===null?l_(t):t.depth===e.depth?Hu(t,e):t.depth>e.depth?c_(t,e):h_(t,e),Ii=e)}var Cv={isMounted:function(){return!1},enqueueSetState:function(e,t){e=e._reactInternals,e.queue!==null&&e.queue.push(t)},enqueueReplaceState:function(e,t){e=e._reactInternals,e.replace=!0,e.queue=[t]},enqueueForceUpdate:function(){}};function wv(e,t,r,n){var i=e.state!==void 0?e.state:null;e.updater=Cv,e.props=r,e.state=i;var s={queue:[],replace:!1};e._reactInternals=s;var a=t.contextType;if(e.context=typeof a=="object"&&a!==null?a._currentValue2:n,a=t.getDerivedStateFromProps,typeof a=="function"&&(a=a(r,i),i=a==null?i:wo({},i,a),e.state=i),typeof t.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function"&&(typeof e.UNSAFE_componentWillMount=="function"||typeof e.componentWillMount=="function"))if(t=e.state,typeof e.componentWillMount=="function"&&e.componentWillMount(),typeof e.UNSAFE_componentWillMount=="function"&&e.UNSAFE_componentWillMount(),t!==e.state&&Cv.enqueueReplaceState(e,e.state,null),s.queue!==null&&0<s.queue.length)if(t=s.queue,a=s.replace,s.queue=null,s.replace=!1,a&&t.length===1)e.state=t[0];else{for(s=a?t[0]:e.state,i=!0,a=a?1:0;a<t.length;a++){var o=t[a];o=typeof o=="function"?o.call(e,s,r,n):o,o!=null&&(i?(i=!1,s=wo({},s,o)):wo(s,o))}e.state=s}else s.queue=null}var Px={id:1,overflow:""};function Ch(e,t,r){var n=e.id;e=e.overflow;var i=32-tl(n)-1;n&=~(1<<i),r+=1;var s=32-tl(t)+i;if(30<s){var a=i-i%5;return s=(n&(1<<a)-1).toString(32),n>>=a,i-=a,{id:1<<32-tl(t)+i|r<<i|n,overflow:s+e}}return{id:1<<s|r<<i|n,overflow:e}}var tl=Math.clz32?Math.clz32:Dx,Ox=Math.log,Ix=Math.LN2;function Dx(e){return e>>>=0,e===0?32:31-(Ox(e)/Ix|0)|0}function Bx(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Fx=typeof Object.is=="function"?Object.is:Bx,Bn=null,ed=null,rl=null,Ye=null,fo=!1,Tl=!1,Fo=0,ti=null,Uu=0;function Li(){if(Bn===null)throw Error(Me(321));return Bn}function kv(){if(0<Uu)throw Error(Me(312));return{memoizedState:null,queue:null,next:null}}function td(){return Ye===null?rl===null?(fo=!1,rl=Ye=kv()):(fo=!0,Ye=rl):Ye.next===null?(fo=!1,Ye=Ye.next=kv()):(fo=!0,Ye=Ye.next),Ye}function rd(){ed=Bn=null,Tl=!1,rl=null,Uu=0,Ye=ti=null}function f_(e,t){return typeof t=="function"?t(e):t}function bv(e,t,r){if(Bn=Li(),Ye=td(),fo){var n=Ye.queue;if(t=n.dispatch,ti!==null&&(r=ti.get(n),r!==void 0)){ti.delete(n),n=Ye.memoizedState;do n=e(n,r.action),r=r.next;while(r!==null);return Ye.memoizedState=n,[n,t]}return[Ye.memoizedState,t]}return e=e===f_?typeof t=="function"?t():t:r!==void 0?r(t):t,Ye.memoizedState=e,e=Ye.queue={last:null,dispatch:null},e=e.dispatch=Nx.bind(null,Bn,e),[Ye.memoizedState,e]}function xv(e,t){if(Bn=Li(),Ye=td(),t=t===void 0?null:t,Ye!==null){var r=Ye.memoizedState;if(r!==null&&t!==null){var n=r[1];e:if(n===null)n=!1;else{for(var i=0;i<n.length&&i<t.length;i++)if(!Fx(t[i],n[i])){n=!1;break e}n=!0}if(n)return r[0]}}return e=e(),Ye.memoizedState=[e,t],e}function Nx(e,t,r){if(25<=Uu)throw Error(Me(301));if(e===Bn)if(Tl=!0,e={action:r,next:null},ti===null&&(ti=new Map),r=ti.get(t),r===void 0)ti.set(t,e);else{for(t=r;t.next!==null;)t=t.next;t.next=e}}function $x(){throw Error(Me(394))}function ka(){}var Ev={readContext:function(e){return e._currentValue2},useContext:function(e){return Li(),e._currentValue2},useMemo:xv,useReducer:bv,useRef:function(e){Bn=Li(),Ye=td();var t=Ye.memoizedState;return t===null?(e={current:e},Ye.memoizedState=e):t},useState:function(e){return bv(f_,e)},useInsertionEffect:ka,useLayoutEffect:function(){},useCallback:function(e,t){return xv(function(){return e},t)},useImperativeHandle:ka,useEffect:ka,useDebugValue:ka,useDeferredValue:function(e){return Li(),e},useTransition:function(){return Li(),[!1,$x]},useId:function(){var e=ed.treeContext,t=e.overflow;e=e.id,e=(e&~(1<<32-tl(e)-1)).toString(32)+t;var r=nl;if(r===null)throw Error(Me(404));return t=Fo++,e=":"+r.idPrefix+"R"+e,0<t&&(e+="H"+t.toString(32)),e+":"},useMutableSource:function(e,t){return Li(),t(e._source)},useSyncExternalStore:function(e,t,r){if(r===void 0)throw Error(Me(407));return r()}},nl=null,Ec=qy.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function Hx(e){return console.error(e),null}function po(){}function Ux(e,t,r,n,i,s,a,o,l){var h=[],g=new Set;return t={destination:null,responseState:t,progressiveChunkSize:n===void 0?12800:n,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:g,pingedTasks:h,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:i===void 0?Hx:i,onAllReady:po,onShellReady:a===void 0?po:a,onShellError:po,onFatalError:po},r=Ll(t,0,null,r,!1,!1),r.parentFlushed=!0,e=nd(t,e,null,r,g,a_,null,Px),h.push(e),t}function nd(e,t,r,n,i,s,a,o){e.allPendingTasks++,r===null?e.pendingRootTasks++:r.pendingTasks++;var l={node:t,ping:function(){var h=e.pingedTasks;h.push(l),h.length===1&&v_(e)},blockedBoundary:r,blockedSegment:n,abortSet:i,legacyContext:s,context:a,treeContext:o};return i.add(l),l}function Ll(e,t,r,n,i,s){return{status:0,id:-1,index:t,parentFlushed:!1,chunks:[],children:[],formatContext:n,boundary:r,lastPushedText:i,textEmbedded:s}}function No(e,t){if(e=e.onError(t),e!=null&&typeof e!="string")throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof e+'" instead');return e}function Al(e,t){var r=e.onShellError;r(t),r=e.onFatalError,r(t),e.destination!==null?(e.status=2,e.destination.destroy(t)):(e.status=1,e.fatalError=t)}function Rv(e,t,r,n,i){for(Bn={},ed=t,Fo=0,e=r(n,i);Tl;)Tl=!1,Fo=0,Uu+=1,Ye=null,e=r(n,i);return rd(),e}function Tv(e,t,r,n){var i=r.render(),s=n.childContextTypes;if(s!=null){var a=t.legacyContext;if(typeof r.getChildContext!="function")n=a;else{r=r.getChildContext();for(var o in r)if(!(o in s))throw Error(Me(108,Sh(n)||"Unknown",o));n=wo({},a,r)}t.legacyContext=n,kr(e,t,i),t.legacyContext=a}else kr(e,t,i)}function Lv(e,t){if(e&&e.defaultProps){t=wo({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function wh(e,t,r,n,i){if(typeof r=="function")if(r.prototype&&r.prototype.isReactComponent){i=Sv(r,t.legacyContext);var s=r.contextType;s=new r(n,typeof s=="object"&&s!==null?s._currentValue2:i),wv(s,r,n,i),Tv(e,t,s,r)}else{s=Sv(r,t.legacyContext),i=Rv(e,t,r,n,s);var a=Fo!==0;if(typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0)wv(i,r,n,s),Tv(e,t,i,r);else if(a){n=t.treeContext,t.treeContext=Ch(n,1,0);try{kr(e,t,i)}finally{t.treeContext=n}}else kr(e,t,i)}else if(typeof r=="string"){switch(i=t.blockedSegment,s=wx(i.chunks,r,n,e.responseState,i.formatContext),i.lastPushedText=!1,a=i.formatContext,i.formatContext=_x(a,r,n),kh(e,t,s),i.formatContext=a,r){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:i.chunks.push("</",r,">")}i.lastPushedText=!1}else{switch(r){case Ax:case Lx:case Zy:case e_:case Yy:kr(e,t,n.children);return;case s_:kr(e,t,n.children);return;case Tx:throw Error(Me(343));case i_:e:{r=t.blockedBoundary,i=t.blockedSegment,s=n.fallback,n=n.children,a=new Set;var o={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:a,errorDigest:null},l=Ll(e,i.chunks.length,o,i.formatContext,!1,!1);i.children.push(l),i.lastPushedText=!1;var h=Ll(e,0,null,i.formatContext,!1,!1);h.parentFlushed=!0,t.blockedBoundary=o,t.blockedSegment=h;try{if(kh(e,t,n),e.responseState.generateStaticMarkup||h.lastPushedText&&h.textEmbedded&&h.chunks.push("<!-- -->"),h.status=1,Ml(o,h),o.pendingTasks===0)break e}catch(g){h.status=4,o.forceClientRender=!0,o.errorDigest=No(e,g)}finally{t.blockedBoundary=r,t.blockedSegment=i}t=nd(e,s,r,l,a,t.legacyContext,t.context,t.treeContext),e.pingedTasks.push(t)}return}if(typeof r=="object"&&r!==null)switch(r.$$typeof){case n_:if(n=Rv(e,t,r.render,n,i),Fo!==0){r=t.treeContext,t.treeContext=Ch(r,1,0);try{kr(e,t,n)}finally{t.treeContext=r}}else kr(e,t,n);return;case o_:r=r.type,n=Lv(r,n),wh(e,t,r,n,i);return;case t_:if(i=n.children,r=r._context,n=n.value,s=r._currentValue2,r._currentValue2=n,a=Ii,Ii=n={parent:a,depth:a===null?0:a.depth+1,context:r,parentValue:s,value:n},t.context=n,kr(e,t,i),e=Ii,e===null)throw Error(Me(403));n=e.parentValue,e.context._currentValue2=n===Mx?e.context._defaultValue:n,e=Ii=e.parent,t.context=e;return;case r_:n=n.children,n=n(r._currentValue2),kr(e,t,n);return;case Zf:i=r._init,r=i(r._payload),n=Lv(r,n),wh(e,t,r,n,void 0);return}throw Error(Me(130,r==null?r:typeof r,""))}}function kr(e,t,r){if(t.node=r,typeof r=="object"&&r!==null){switch(r.$$typeof){case Rx:wh(e,t,r.type,r.props,r.ref);return;case Jy:throw Error(Me(257));case Zf:var n=r._init;r=n(r._payload),kr(e,t,r);return}if(_h(r)){Av(e,t,r);return}if(r===null||typeof r!="object"?n=null:(n=_v&&r[_v]||r["@@iterator"],n=typeof n=="function"?n:null),n&&(n=n.call(r))){if(r=n.next(),!r.done){var i=[];do i.push(r.value),r=n.next();while(!r.done);Av(e,t,i)}return}throw e=Object.prototype.toString.call(r),Error(Me(31,e==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":e))}typeof r=="string"?(n=t.blockedSegment,n.lastPushedText=yv(t.blockedSegment.chunks,r,e.responseState,n.lastPushedText)):typeof r=="number"&&(n=t.blockedSegment,n.lastPushedText=yv(t.blockedSegment.chunks,""+r,e.responseState,n.lastPushedText))}function Av(e,t,r){for(var n=r.length,i=0;i<n;i++){var s=t.treeContext;t.treeContext=Ch(s,n,i);try{kh(e,t,r[i])}finally{t.treeContext=s}}}function kh(e,t,r){var n=t.blockedSegment.formatContext,i=t.legacyContext,s=t.context;try{return kr(e,t,r)}catch(l){if(rd(),typeof l=="object"&&l!==null&&typeof l.then=="function"){r=l;var a=t.blockedSegment,o=Ll(e,a.chunks.length,null,a.formatContext,a.lastPushedText,!0);a.children.push(o),a.lastPushedText=!1,e=nd(e,t.node,t.blockedBoundary,o,t.abortSet,t.legacyContext,t.context,t.treeContext).ping,r.then(e,e),t.blockedSegment.formatContext=n,t.legacyContext=i,t.context=s,Rl(s)}else throw t.blockedSegment.formatContext=n,t.legacyContext=i,t.context=s,Rl(s),l}}function jx(e){var t=e.blockedBoundary;e=e.blockedSegment,e.status=3,p_(this,t,e)}function d_(e,t,r){var n=e.blockedBoundary;e.blockedSegment.status=3,n===null?(t.allPendingTasks--,t.status!==2&&(t.status=2,t.destination!==null&&t.destination.push(null))):(n.pendingTasks--,n.forceClientRender||(n.forceClientRender=!0,e=r===void 0?Error(Me(432)):r,n.errorDigest=t.onError(e),n.parentFlushed&&t.clientRenderedBoundaries.push(n)),n.fallbackAbortableTasks.forEach(function(i){return d_(i,t,r)}),n.fallbackAbortableTasks.clear(),t.allPendingTasks--,t.allPendingTasks===0&&(n=t.onAllReady,n()))}function Ml(e,t){if(t.chunks.length===0&&t.children.length===1&&t.children[0].boundary===null){var r=t.children[0];r.id=t.id,r.parentFlushed=!0,r.status===1&&Ml(e,r)}else e.completedSegments.push(t)}function p_(e,t,r){if(t===null){if(r.parentFlushed){if(e.completedRootSegment!==null)throw Error(Me(389));e.completedRootSegment=r}e.pendingRootTasks--,e.pendingRootTasks===0&&(e.onShellError=po,t=e.onShellReady,t())}else t.pendingTasks--,t.forceClientRender||(t.pendingTasks===0?(r.parentFlushed&&r.status===1&&Ml(t,r),t.parentFlushed&&e.completedBoundaries.push(t),t.fallbackAbortableTasks.forEach(jx,e),t.fallbackAbortableTasks.clear()):r.parentFlushed&&r.status===1&&(Ml(t,r),t.completedSegments.length===1&&t.parentFlushed&&e.partialBoundaries.push(t)));e.allPendingTasks--,e.allPendingTasks===0&&(e=e.onAllReady,e())}function v_(e){if(e.status!==2){var t=Ii,r=Ec.current;Ec.current=Ev;var n=nl;nl=e.responseState;try{var i=e.pingedTasks,s;for(s=0;s<i.length;s++){var a=i[s],o=e,l=a.blockedSegment;if(l.status===0){Rl(a.context);try{kr(o,a,a.node),o.responseState.generateStaticMarkup||l.lastPushedText&&l.textEmbedded&&l.chunks.push("<!-- -->"),a.abortSet.delete(a),l.status=1,p_(o,a.blockedBoundary,l)}catch(C){if(rd(),typeof C=="object"&&C!==null&&typeof C.then=="function"){var h=a.ping;C.then(h,h)}else{a.abortSet.delete(a),l.status=4;var g=a.blockedBoundary,p=C,m=No(o,p);if(g===null?Al(o,p):(g.pendingTasks--,g.forceClientRender||(g.forceClientRender=!0,g.errorDigest=m,g.parentFlushed&&o.clientRenderedBoundaries.push(g))),o.allPendingTasks--,o.allPendingTasks===0){var w=o.onAllReady;w()}}}finally{}}}i.splice(0,s),e.destination!==null&&id(e,e.destination)}catch(C){No(e,C),Al(e,C)}finally{nl=n,Ec.current=r,r===Ev&&Rl(t)}}}function ba(e,t,r){switch(r.parentFlushed=!0,r.status){case 0:var n=r.id=e.nextSegmentId++;return r.lastPushedText=!1,r.textEmbedded=!1,e=e.responseState,t.push('<template id="'),t.push(e.placeholderPrefix),e=n.toString(16),t.push(e),t.push('"></template>');case 1:r.status=2;var i=!0;n=r.chunks;var s=0;r=r.children;for(var a=0;a<r.length;a++){for(i=r[a];s<i.index;s++)t.push(n[s]);i=ju(e,t,i)}for(;s<n.length-1;s++)t.push(n[s]);return s<n.length&&(i=t.push(n[s])),i;default:throw Error(Me(390))}}function ju(e,t,r){var n=r.boundary;if(n===null)return ba(e,t,r);if(n.parentFlushed=!0,n.forceClientRender)return e.responseState.generateStaticMarkup||(n=n.errorDigest,t.push("<!--$!-->"),t.push("<template"),n&&(t.push(' data-dgst="'),n=Yt(n),t.push(n),t.push('"')),t.push("></template>")),ba(e,t,r),e=e.responseState.generateStaticMarkup?!0:t.push("<!--/$-->"),e;if(0<n.pendingTasks){n.rootSegmentID=e.nextSegmentId++,0<n.completedSegments.length&&e.partialBoundaries.push(n);var i=e.responseState,s=i.nextSuspenseID++;return i=i.boundaryPrefix+s.toString(16),n=n.id=i,mv(t,e.responseState,n),ba(e,t,r),t.push("<!--/$-->")}if(n.byteSize>e.progressiveChunkSize)return n.rootSegmentID=e.nextSegmentId++,e.completedBoundaries.push(n),mv(t,e.responseState,n.id),ba(e,t,r),t.push("<!--/$-->");if(e.responseState.generateStaticMarkup||t.push("<!--$-->"),r=n.completedSegments,r.length!==1)throw Error(Me(391));return ju(e,t,r[0]),e=e.responseState.generateStaticMarkup?!0:t.push("<!--/$-->"),e}function Mv(e,t,r){return kx(t,e.responseState,r.formatContext,r.id),ju(e,t,r),bx(t,r.formatContext)}function Pv(e,t,r){for(var n=r.completedSegments,i=0;i<n.length;i++)g_(e,t,r,n[i]);if(n.length=0,e=e.responseState,n=r.id,r=r.rootSegmentID,t.push(e.startInlineScript),e.sentCompleteBoundaryFunction?t.push('$RC("'):(e.sentCompleteBoundaryFunction=!0,t.push('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("')),n===null)throw Error(Me(395));return r=r.toString(16),t.push(n),t.push('","'),t.push(e.segmentPrefix),t.push(r),t.push('")<\/script>')}function g_(e,t,r,n){if(n.status===2)return!0;var i=n.id;if(i===-1){if((n.id=r.rootSegmentID)===-1)throw Error(Me(392));return Mv(e,t,n)}return Mv(e,t,n),e=e.responseState,t.push(e.startInlineScript),e.sentCompleteSegmentFunction?t.push('$RS("'):(e.sentCompleteSegmentFunction=!0,t.push('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("')),t.push(e.segmentPrefix),i=i.toString(16),t.push(i),t.push('","'),t.push(e.placeholderPrefix),t.push(i),t.push('")<\/script>')}function id(e,t){try{var r=e.completedRootSegment;if(r!==null&&e.pendingRootTasks===0){ju(e,t,r),e.completedRootSegment=null;var n=e.responseState.bootstrapChunks;for(r=0;r<n.length-1;r++)t.push(n[r]);r<n.length&&t.push(n[r])}var i=e.clientRenderedBoundaries,s;for(s=0;s<i.length;s++){var a=i[s];n=t;var o=e.responseState,l=a.id,h=a.errorDigest,g=a.errorMessage,p=a.errorComponentStack;if(n.push(o.startInlineScript),o.sentClientRenderFunction?n.push('$RX("'):(o.sentClientRenderFunction=!0,n.push('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("')),l===null)throw Error(Me(395));if(n.push(l),n.push('"'),h||g||p){n.push(",");var m=xc(h||"");n.push(m)}if(g||p){n.push(",");var w=xc(g||"");n.push(w)}if(p){n.push(",");var C=xc(p);n.push(C)}if(!n.push(")<\/script>")){e.destination=null,s++,i.splice(0,s);return}}i.splice(0,s);var y=e.completedBoundaries;for(s=0;s<y.length;s++)if(!Pv(e,t,y[s])){e.destination=null,s++,y.splice(0,s);return}y.splice(0,s);var v=e.partialBoundaries;for(s=0;s<v.length;s++){var f=v[s];e:{i=e,a=t;var u=f.completedSegments;for(o=0;o<u.length;o++)if(!g_(i,a,f,u[o])){o++,u.splice(0,o);var d=!1;break e}u.splice(0,o),d=!0}if(!d){e.destination=null,s++,v.splice(0,s);return}}v.splice(0,s);var _=e.completedBoundaries;for(s=0;s<_.length;s++)if(!Pv(e,t,_[s])){e.destination=null,s++,_.splice(0,s);return}_.splice(0,s)}finally{e.allPendingTasks===0&&e.pingedTasks.length===0&&e.clientRenderedBoundaries.length===0&&e.completedBoundaries.length===0&&t.push(null)}}function Wx(e,t){try{var r=e.abortableTasks;r.forEach(function(n){return d_(n,e,t)}),r.clear(),e.destination!==null&&id(e,e.destination)}catch(n){No(e,n),Al(e,n)}}function zx(){}function m_(e,t,r,n){var i=!1,s=null,a="",o={push:function(h){return h!==null&&(a+=h),!0},destroy:function(h){i=!0,s=h}},l=!1;if(e=Ux(e,Ex(r,t?t.identifierPrefix:void 0),{insertionMode:1,selectedValue:null},1/0,zx,void 0,function(){l=!0}),v_(e),Wx(e,n),e.status===1)e.status=2,o.destroy(e.fatalError);else if(e.status!==2&&e.destination===null){e.destination=o;try{id(e,o)}catch(h){No(e,h),Al(e,h)}}if(i)throw s;if(!l)throw Error(Me(426));return a}zs.renderToNodeStream=function(){throw Error(Me(207))};zs.renderToStaticMarkup=function(e,t){return m_(e,t,!0,'The server used "renderToStaticMarkup" which does not support Suspense. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')};zs.renderToStaticNodeStream=function(){throw Error(Me(208))};zs.renderToString=function(e,t){return m_(e,t,!1,'The server used "renderToString" which does not support Suspense. If you intended for this Suspense boundary to render the fallback content on the server consider throwing an Error somewhere within the Suspense boundary. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')};zs.version="18.3.1";var sd={};/**
 * @license React
 * react-dom-server.browser.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y_=G;function Pe(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var br=null,xr=0;function be(e,t){if(t.length!==0)if(512<t.length)0<xr&&(e.enqueue(new Uint8Array(br.buffer,0,xr)),br=new Uint8Array(512),xr=0),e.enqueue(t);else{var r=br.length-xr;r<t.length&&(r===0?e.enqueue(br):(br.set(t.subarray(0,r),xr),e.enqueue(br),t=t.subarray(r)),br=new Uint8Array(512),xr=0),br.set(t,xr),xr+=t.length}}function it(e,t){return be(e,t),!0}function Ov(e){br&&0<xr&&(e.enqueue(new Uint8Array(br.buffer,0,xr)),br=null,xr=0)}var __=new TextEncoder;function Ie(e){return __.encode(e)}function ye(e){return __.encode(e)}function S_(e,t){typeof e.error=="function"?e.error(t):e.close()}var lr=Object.prototype.hasOwnProperty,Kx=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Iv={},Dv={};function C_(e){return lr.call(Dv,e)?!0:lr.call(Iv,e)?!1:Kx.test(e)?Dv[e]=!0:(Iv[e]=!0,!1)}function rr(e,t,r,n,i,s,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var Dt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Dt[e]=new rr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Dt[t]=new rr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Dt[e]=new rr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Dt[e]=new rr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Dt[e]=new rr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Dt[e]=new rr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Dt[e]=new rr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Dt[e]=new rr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Dt[e]=new rr(e,5,!1,e.toLowerCase(),null,!1,!1)});var od=/[\-:]([a-z])/g;function ad(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(od,ad);Dt[t]=new rr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(od,ad);Dt[t]=new rr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(od,ad);Dt[t]=new rr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Dt[e]=new rr(e,1,!1,e.toLowerCase(),null,!1,!1)});Dt.xlinkHref=new rr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Dt[e]=new rr(e,1,!1,e.toLowerCase(),null,!0,!0)});var il={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Vx=["Webkit","ms","Moz","O"];Object.keys(il).forEach(function(e){Vx.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),il[t]=il[e]})});var Gx=/["'&<>]/;function Pt(e){if(typeof e=="boolean"||typeof e=="number")return""+e;e=""+e;var t=Gx.exec(e);if(t){var r="",n,i=0;for(n=t.index;n<e.length;n++){switch(e.charCodeAt(n)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#x27;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}i!==n&&(r+=e.substring(i,n)),i=n+1,r+=t}e=i!==n?r+e.substring(i,n):r}return e}var qx=/([A-Z])/g,Qx=/^ms-/,bh=Array.isArray,Xx=ye("<script>"),Jx=ye("<\/script>"),Yx=ye('<script src="'),Zx=ye('<script type="module" src="'),Bv=ye('" async=""><\/script>'),eE=/(<\/|<)(s)(cript)/gi;function tE(e,t,r,n){return""+t+(r==="s"?"\\u0073":"\\u0053")+n}function rE(e,t,r,n,i){e=e===void 0?"":e,t=t===void 0?Xx:ye('<script nonce="'+Pt(t)+'">');var s=[];if(r!==void 0&&s.push(t,Ie((""+r).replace(eE,tE)),Jx),n!==void 0)for(r=0;r<n.length;r++)s.push(Yx,Ie(Pt(n[r])),Bv);if(i!==void 0)for(n=0;n<i.length;n++)s.push(Zx,Ie(Pt(i[n])),Bv);return{bootstrapChunks:s,startInlineScript:t,placeholderPrefix:ye(e+"P:"),segmentPrefix:ye(e+"S:"),boundaryPrefix:e+"B:",idPrefix:e,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1}}function vn(e,t){return{insertionMode:e,selectedValue:t}}function nE(e){return vn(e==="http://www.w3.org/2000/svg"?2:e==="http://www.w3.org/1998/Math/MathML"?3:0,null)}function iE(e,t,r){switch(t){case"select":return vn(1,r.value!=null?r.value:r.defaultValue);case"svg":return vn(2,null);case"math":return vn(3,null);case"foreignObject":return vn(1,null);case"table":return vn(4,null);case"thead":case"tbody":case"tfoot":return vn(5,null);case"colgroup":return vn(7,null);case"tr":return vn(6,null)}return 4<=e.insertionMode||e.insertionMode===0?vn(1,null):e}var ld=ye("<!-- -->");function Fv(e,t,r,n){return t===""?n:(n&&e.push(ld),e.push(Ie(Pt(t))),!0)}var Nv=new Map,sE=ye(' style="'),$v=ye(":"),oE=ye(";");function w_(e,t,r){if(typeof r!="object")throw Error(Pe(62));t=!0;for(var n in r)if(lr.call(r,n)){var i=r[n];if(i!=null&&typeof i!="boolean"&&i!==""){if(n.indexOf("--")===0){var s=Ie(Pt(n));i=Ie(Pt((""+i).trim()))}else{s=n;var a=Nv.get(s);a!==void 0||(a=ye(Pt(s.replace(qx,"-$1").toLowerCase().replace(Qx,"-ms-"))),Nv.set(s,a)),s=a,i=typeof i=="number"?i===0||lr.call(il,n)?Ie(""+i):Ie(i+"px"):Ie(Pt((""+i).trim()))}t?(t=!1,e.push(sE,s,$v,i)):e.push(oE,s,$v,i)}}t||e.push(Ai)}var Gn=ye(" "),es=ye('="'),Ai=ye('"'),Hv=ye('=""');function wr(e,t,r,n){switch(r){case"style":w_(e,t,n);return;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N"){if(t=Dt.hasOwnProperty(r)?Dt[r]:null,t!==null){switch(typeof n){case"function":case"symbol":return;case"boolean":if(!t.acceptsBooleans)return}switch(r=Ie(t.attributeName),t.type){case 3:n&&e.push(Gn,r,Hv);break;case 4:n===!0?e.push(Gn,r,Hv):n!==!1&&e.push(Gn,r,es,Ie(Pt(n)),Ai);break;case 5:isNaN(n)||e.push(Gn,r,es,Ie(Pt(n)),Ai);break;case 6:!isNaN(n)&&1<=n&&e.push(Gn,r,es,Ie(Pt(n)),Ai);break;default:t.sanitizeURL&&(n=""+n),e.push(Gn,r,es,Ie(Pt(n)),Ai)}}else if(C_(r)){switch(typeof n){case"function":case"symbol":return;case"boolean":if(t=r.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-")return}e.push(Gn,Ie(r),es,Ie(Pt(n)),Ai)}}}var qn=ye(">"),Uv=ye("/>");function sl(e,t,r){if(t!=null){if(r!=null)throw Error(Pe(60));if(typeof t!="object"||!("__html"in t))throw Error(Pe(61));t=t.__html,t!=null&&e.push(Ie(""+t))}}function aE(e){var t="";return y_.Children.forEach(e,function(r){r!=null&&(t+=r)}),t}var Rc=ye(' selected=""');function Tc(e,t,r,n){e.push(gn(r));var i=r=null,s;for(s in t)if(lr.call(t,s)){var a=t[s];if(a!=null)switch(s){case"children":r=a;break;case"dangerouslySetInnerHTML":i=a;break;default:wr(e,n,s,a)}}return e.push(qn),sl(e,i,r),typeof r=="string"?(e.push(Ie(Pt(r))),null):r}var Lc=ye(`
`),lE=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,jv=new Map;function gn(e){var t=jv.get(e);if(t===void 0){if(!lE.test(e))throw Error(Pe(65,e));t=ye("<"+e),jv.set(e,t)}return t}var uE=ye("<!DOCTYPE html>");function cE(e,t,r,n,i){switch(t){case"select":e.push(gn("select"));var s=null,a=null;for(g in r)if(lr.call(r,g)){var o=r[g];if(o!=null)switch(g){case"children":s=o;break;case"dangerouslySetInnerHTML":a=o;break;case"defaultValue":case"value":break;default:wr(e,n,g,o)}}return e.push(qn),sl(e,a,s),s;case"option":a=i.selectedValue,e.push(gn("option"));var l=o=null,h=null,g=null;for(s in r)if(lr.call(r,s)){var p=r[s];if(p!=null)switch(s){case"children":o=p;break;case"selected":h=p;break;case"dangerouslySetInnerHTML":g=p;break;case"value":l=p;default:wr(e,n,s,p)}}if(a!=null)if(r=l!==null?""+l:aE(o),bh(a)){for(n=0;n<a.length;n++)if(""+a[n]===r){e.push(Rc);break}}else""+a===r&&e.push(Rc);else h&&e.push(Rc);return e.push(qn),sl(e,g,o),o;case"textarea":e.push(gn("textarea")),g=a=s=null;for(o in r)if(lr.call(r,o)&&(l=r[o],l!=null))switch(o){case"children":g=l;break;case"value":s=l;break;case"defaultValue":a=l;break;case"dangerouslySetInnerHTML":throw Error(Pe(91));default:wr(e,n,o,l)}if(s===null&&a!==null&&(s=a),e.push(qn),g!=null){if(s!=null)throw Error(Pe(92));if(bh(g)&&1<g.length)throw Error(Pe(93));s=""+g}return typeof s=="string"&&s[0]===`
`&&e.push(Lc),s!==null&&e.push(Ie(Pt(""+s))),null;case"input":e.push(gn("input")),l=g=o=s=null;for(a in r)if(lr.call(r,a)&&(h=r[a],h!=null))switch(a){case"children":case"dangerouslySetInnerHTML":throw Error(Pe(399,"input"));case"defaultChecked":l=h;break;case"defaultValue":o=h;break;case"checked":g=h;break;case"value":s=h;break;default:wr(e,n,a,h)}return g!==null?wr(e,n,"checked",g):l!==null&&wr(e,n,"checked",l),s!==null?wr(e,n,"value",s):o!==null&&wr(e,n,"value",o),e.push(Uv),null;case"menuitem":e.push(gn("menuitem"));for(var m in r)if(lr.call(r,m)&&(s=r[m],s!=null))switch(m){case"children":case"dangerouslySetInnerHTML":throw Error(Pe(400));default:wr(e,n,m,s)}return e.push(qn),null;case"title":e.push(gn("title")),s=null;for(p in r)if(lr.call(r,p)&&(a=r[p],a!=null))switch(p){case"children":s=a;break;case"dangerouslySetInnerHTML":throw Error(Pe(434));default:wr(e,n,p,a)}return e.push(qn),s;case"listing":case"pre":e.push(gn(t)),a=s=null;for(l in r)if(lr.call(r,l)&&(o=r[l],o!=null))switch(l){case"children":s=o;break;case"dangerouslySetInnerHTML":a=o;break;default:wr(e,n,l,o)}if(e.push(qn),a!=null){if(s!=null)throw Error(Pe(60));if(typeof a!="object"||!("__html"in a))throw Error(Pe(61));r=a.__html,r!=null&&(typeof r=="string"&&0<r.length&&r[0]===`
`?e.push(Lc,Ie(r)):e.push(Ie(""+r)))}return typeof s=="string"&&s[0]===`
`&&e.push(Lc),s;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":e.push(gn(t));for(var w in r)if(lr.call(r,w)&&(s=r[w],s!=null))switch(w){case"children":case"dangerouslySetInnerHTML":throw Error(Pe(399,t));default:wr(e,n,w,s)}return e.push(Uv),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return Tc(e,r,t,n);case"html":return i.insertionMode===0&&e.push(uE),Tc(e,r,t,n);default:if(t.indexOf("-")===-1&&typeof r.is!="string")return Tc(e,r,t,n);e.push(gn(t)),a=s=null;for(h in r)if(lr.call(r,h)&&(o=r[h],o!=null))switch(h){case"children":s=o;break;case"dangerouslySetInnerHTML":a=o;break;case"style":w_(e,n,o);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:C_(h)&&typeof o!="function"&&typeof o!="symbol"&&e.push(Gn,Ie(h),es,Ie(Pt(o)),Ai)}return e.push(qn),sl(e,a,s),s}}var hE=ye("</"),fE=ye(">"),dE=ye('<template id="'),pE=ye('"></template>'),vE=ye("<!--$-->"),gE=ye('<!--$?--><template id="'),mE=ye('"></template>'),yE=ye("<!--$!-->"),_E=ye("<!--/$-->"),SE=ye("<template"),CE=ye('"'),wE=ye(' data-dgst="');ye(' data-msg="');ye(' data-stck="');var kE=ye("></template>");function Wv(e,t,r){if(be(e,gE),r===null)throw Error(Pe(395));return be(e,r),it(e,mE)}var bE=ye('<div hidden id="'),xE=ye('">'),EE=ye("</div>"),RE=ye('<svg aria-hidden="true" style="display:none" id="'),TE=ye('">'),LE=ye("</svg>"),AE=ye('<math aria-hidden="true" style="display:none" id="'),ME=ye('">'),PE=ye("</math>"),OE=ye('<table hidden id="'),IE=ye('">'),DE=ye("</table>"),BE=ye('<table hidden><tbody id="'),FE=ye('">'),NE=ye("</tbody></table>"),$E=ye('<table hidden><tr id="'),HE=ye('">'),UE=ye("</tr></table>"),jE=ye('<table hidden><colgroup id="'),WE=ye('">'),zE=ye("</colgroup></table>");function KE(e,t,r,n){switch(r.insertionMode){case 0:case 1:return be(e,bE),be(e,t.segmentPrefix),be(e,Ie(n.toString(16))),it(e,xE);case 2:return be(e,RE),be(e,t.segmentPrefix),be(e,Ie(n.toString(16))),it(e,TE);case 3:return be(e,AE),be(e,t.segmentPrefix),be(e,Ie(n.toString(16))),it(e,ME);case 4:return be(e,OE),be(e,t.segmentPrefix),be(e,Ie(n.toString(16))),it(e,IE);case 5:return be(e,BE),be(e,t.segmentPrefix),be(e,Ie(n.toString(16))),it(e,FE);case 6:return be(e,$E),be(e,t.segmentPrefix),be(e,Ie(n.toString(16))),it(e,HE);case 7:return be(e,jE),be(e,t.segmentPrefix),be(e,Ie(n.toString(16))),it(e,WE);default:throw Error(Pe(397))}}function VE(e,t){switch(t.insertionMode){case 0:case 1:return it(e,EE);case 2:return it(e,LE);case 3:return it(e,PE);case 4:return it(e,DE);case 5:return it(e,NE);case 6:return it(e,UE);case 7:return it(e,zE);default:throw Error(Pe(397))}}var GE=ye('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("'),qE=ye('$RS("'),QE=ye('","'),XE=ye('")<\/script>'),JE=ye('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("'),YE=ye('$RC("'),ZE=ye('","'),e2=ye('")<\/script>'),t2=ye('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("'),r2=ye('$RX("'),n2=ye('"'),i2=ye(")<\/script>"),Ac=ye(","),s2=/[<\u2028\u2029]/g;function Mc(e){return JSON.stringify(e).replace(s2,function(t){switch(t){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}var ko=Object.assign,o2=Symbol.for("react.element"),k_=Symbol.for("react.portal"),b_=Symbol.for("react.fragment"),x_=Symbol.for("react.strict_mode"),E_=Symbol.for("react.profiler"),R_=Symbol.for("react.provider"),T_=Symbol.for("react.context"),L_=Symbol.for("react.forward_ref"),A_=Symbol.for("react.suspense"),M_=Symbol.for("react.suspense_list"),P_=Symbol.for("react.memo"),ud=Symbol.for("react.lazy"),a2=Symbol.for("react.scope"),l2=Symbol.for("react.debug_trace_mode"),u2=Symbol.for("react.legacy_hidden"),c2=Symbol.for("react.default_value"),zv=Symbol.iterator;function xh(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case b_:return"Fragment";case k_:return"Portal";case E_:return"Profiler";case x_:return"StrictMode";case A_:return"Suspense";case M_:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case T_:return(e.displayName||"Context")+".Consumer";case R_:return(e._context.displayName||"Context")+".Provider";case L_:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case P_:return t=e.displayName||null,t!==null?t:xh(e.type)||"Memo";case ud:t=e._payload,e=e._init;try{return xh(e(t))}catch{}}return null}var O_={};function Kv(e,t){if(e=e.contextTypes,!e)return O_;var r={},n;for(n in e)r[n]=t[n];return r}var Di=null;function Wu(e,t){if(e!==t){e.context._currentValue=e.parentValue,e=e.parent;var r=t.parent;if(e===null){if(r!==null)throw Error(Pe(401))}else{if(r===null)throw Error(Pe(401));Wu(e,r)}t.context._currentValue=t.value}}function I_(e){e.context._currentValue=e.parentValue,e=e.parent,e!==null&&I_(e)}function D_(e){var t=e.parent;t!==null&&D_(t),e.context._currentValue=e.value}function B_(e,t){if(e.context._currentValue=e.parentValue,e=e.parent,e===null)throw Error(Pe(402));e.depth===t.depth?Wu(e,t):B_(e,t)}function F_(e,t){var r=t.parent;if(r===null)throw Error(Pe(402));e.depth===r.depth?Wu(e,r):F_(e,r),t.context._currentValue=t.value}function Pl(e){var t=Di;t!==e&&(t===null?D_(e):e===null?I_(t):t.depth===e.depth?Wu(t,e):t.depth>e.depth?B_(t,e):F_(t,e),Di=e)}var Vv={isMounted:function(){return!1},enqueueSetState:function(e,t){e=e._reactInternals,e.queue!==null&&e.queue.push(t)},enqueueReplaceState:function(e,t){e=e._reactInternals,e.replace=!0,e.queue=[t]},enqueueForceUpdate:function(){}};function Gv(e,t,r,n){var i=e.state!==void 0?e.state:null;e.updater=Vv,e.props=r,e.state=i;var s={queue:[],replace:!1};e._reactInternals=s;var a=t.contextType;if(e.context=typeof a=="object"&&a!==null?a._currentValue:n,a=t.getDerivedStateFromProps,typeof a=="function"&&(a=a(r,i),i=a==null?i:ko({},i,a),e.state=i),typeof t.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function"&&(typeof e.UNSAFE_componentWillMount=="function"||typeof e.componentWillMount=="function"))if(t=e.state,typeof e.componentWillMount=="function"&&e.componentWillMount(),typeof e.UNSAFE_componentWillMount=="function"&&e.UNSAFE_componentWillMount(),t!==e.state&&Vv.enqueueReplaceState(e,e.state,null),s.queue!==null&&0<s.queue.length)if(t=s.queue,a=s.replace,s.queue=null,s.replace=!1,a&&t.length===1)e.state=t[0];else{for(s=a?t[0]:e.state,i=!0,a=a?1:0;a<t.length;a++){var o=t[a];o=typeof o=="function"?o.call(e,s,r,n):o,o!=null&&(i?(i=!1,s=ko({},s,o)):ko(s,o))}e.state=s}else s.queue=null}var h2={id:1,overflow:""};function Eh(e,t,r){var n=e.id;e=e.overflow;var i=32-ol(n)-1;n&=~(1<<i),r+=1;var s=32-ol(t)+i;if(30<s){var a=i-i%5;return s=(n&(1<<a)-1).toString(32),n>>=a,i-=a,{id:1<<32-ol(t)+i|r<<i|n,overflow:s+e}}return{id:1<<s|r<<i|n,overflow:e}}var ol=Math.clz32?Math.clz32:p2,f2=Math.log,d2=Math.LN2;function p2(e){return e>>>=0,e===0?32:31-(f2(e)/d2|0)|0}function v2(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var g2=typeof Object.is=="function"?Object.is:v2,Fn=null,cd=null,al=null,Ze=null,vo=!1,Ol=!1,$o=0,ri=null,zu=0;function Mi(){if(Fn===null)throw Error(Pe(321));return Fn}function qv(){if(0<zu)throw Error(Pe(312));return{memoizedState:null,queue:null,next:null}}function hd(){return Ze===null?al===null?(vo=!1,al=Ze=qv()):(vo=!0,Ze=al):Ze.next===null?(vo=!1,Ze=Ze.next=qv()):(vo=!0,Ze=Ze.next),Ze}function fd(){cd=Fn=null,Ol=!1,al=null,zu=0,Ze=ri=null}function N_(e,t){return typeof t=="function"?t(e):t}function Qv(e,t,r){if(Fn=Mi(),Ze=hd(),vo){var n=Ze.queue;if(t=n.dispatch,ri!==null&&(r=ri.get(n),r!==void 0)){ri.delete(n),n=Ze.memoizedState;do n=e(n,r.action),r=r.next;while(r!==null);return Ze.memoizedState=n,[n,t]}return[Ze.memoizedState,t]}return e=e===N_?typeof t=="function"?t():t:r!==void 0?r(t):t,Ze.memoizedState=e,e=Ze.queue={last:null,dispatch:null},e=e.dispatch=m2.bind(null,Fn,e),[Ze.memoizedState,e]}function Xv(e,t){if(Fn=Mi(),Ze=hd(),t=t===void 0?null:t,Ze!==null){var r=Ze.memoizedState;if(r!==null&&t!==null){var n=r[1];e:if(n===null)n=!1;else{for(var i=0;i<n.length&&i<t.length;i++)if(!g2(t[i],n[i])){n=!1;break e}n=!0}if(n)return r[0]}}return e=e(),Ze.memoizedState=[e,t],e}function m2(e,t,r){if(25<=zu)throw Error(Pe(301));if(e===Fn)if(Ol=!0,e={action:r,next:null},ri===null&&(ri=new Map),r=ri.get(t),r===void 0)ri.set(t,e);else{for(t=r;t.next!==null;)t=t.next;t.next=e}}function y2(){throw Error(Pe(394))}function xa(){}var Jv={readContext:function(e){return e._currentValue},useContext:function(e){return Mi(),e._currentValue},useMemo:Xv,useReducer:Qv,useRef:function(e){Fn=Mi(),Ze=hd();var t=Ze.memoizedState;return t===null?(e={current:e},Ze.memoizedState=e):t},useState:function(e){return Qv(N_,e)},useInsertionEffect:xa,useLayoutEffect:function(){},useCallback:function(e,t){return Xv(function(){return e},t)},useImperativeHandle:xa,useEffect:xa,useDebugValue:xa,useDeferredValue:function(e){return Mi(),e},useTransition:function(){return Mi(),[!1,y2]},useId:function(){var e=cd.treeContext,t=e.overflow;e=e.id,e=(e&~(1<<32-ol(e)-1)).toString(32)+t;var r=ll;if(r===null)throw Error(Pe(404));return t=$o++,e=":"+r.idPrefix+"R"+e,0<t&&(e+="H"+t.toString(32)),e+":"},useMutableSource:function(e,t){return Mi(),t(e._source)},useSyncExternalStore:function(e,t,r){if(r===void 0)throw Error(Pe(407));return r()}},ll=null,Pc=y_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function _2(e){return console.error(e),null}function go(){}function S2(e,t,r,n,i,s,a,o,l){var h=[],g=new Set;return t={destination:null,responseState:t,progressiveChunkSize:n===void 0?12800:n,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:g,pingedTasks:h,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:i===void 0?_2:i,onAllReady:s===void 0?go:s,onShellReady:a===void 0?go:a,onShellError:o===void 0?go:o,onFatalError:l===void 0?go:l},r=Il(t,0,null,r,!1,!1),r.parentFlushed=!0,e=dd(t,e,null,r,g,O_,null,h2),h.push(e),t}function dd(e,t,r,n,i,s,a,o){e.allPendingTasks++,r===null?e.pendingRootTasks++:r.pendingTasks++;var l={node:t,ping:function(){var h=e.pingedTasks;h.push(l),h.length===1&&U_(e)},blockedBoundary:r,blockedSegment:n,abortSet:i,legacyContext:s,context:a,treeContext:o};return i.add(l),l}function Il(e,t,r,n,i,s){return{status:0,id:-1,index:t,parentFlushed:!1,chunks:[],children:[],formatContext:n,boundary:r,lastPushedText:i,textEmbedded:s}}function Ho(e,t){if(e=e.onError(t),e!=null&&typeof e!="string")throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof e+'" instead');return e}function Dl(e,t){var r=e.onShellError;r(t),r=e.onFatalError,r(t),e.destination!==null?(e.status=2,S_(e.destination,t)):(e.status=1,e.fatalError=t)}function Yv(e,t,r,n,i){for(Fn={},cd=t,$o=0,e=r(n,i);Ol;)Ol=!1,$o=0,zu+=1,Ze=null,e=r(n,i);return fd(),e}function Zv(e,t,r,n){var i=r.render(),s=n.childContextTypes;if(s!=null){var a=t.legacyContext;if(typeof r.getChildContext!="function")n=a;else{r=r.getChildContext();for(var o in r)if(!(o in s))throw Error(Pe(108,xh(n)||"Unknown",o));n=ko({},a,r)}t.legacyContext=n,Er(e,t,i),t.legacyContext=a}else Er(e,t,i)}function eg(e,t){if(e&&e.defaultProps){t=ko({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Rh(e,t,r,n,i){if(typeof r=="function")if(r.prototype&&r.prototype.isReactComponent){i=Kv(r,t.legacyContext);var s=r.contextType;s=new r(n,typeof s=="object"&&s!==null?s._currentValue:i),Gv(s,r,n,i),Zv(e,t,s,r)}else{s=Kv(r,t.legacyContext),i=Yv(e,t,r,n,s);var a=$o!==0;if(typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0)Gv(i,r,n,s),Zv(e,t,i,r);else if(a){n=t.treeContext,t.treeContext=Eh(n,1,0);try{Er(e,t,i)}finally{t.treeContext=n}}else Er(e,t,i)}else if(typeof r=="string"){switch(i=t.blockedSegment,s=cE(i.chunks,r,n,e.responseState,i.formatContext),i.lastPushedText=!1,a=i.formatContext,i.formatContext=iE(a,r,n),Th(e,t,s),i.formatContext=a,r){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:i.chunks.push(hE,Ie(r),fE)}i.lastPushedText=!1}else{switch(r){case u2:case l2:case x_:case E_:case b_:Er(e,t,n.children);return;case M_:Er(e,t,n.children);return;case a2:throw Error(Pe(343));case A_:e:{r=t.blockedBoundary,i=t.blockedSegment,s=n.fallback,n=n.children,a=new Set;var o={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:a,errorDigest:null},l=Il(e,i.chunks.length,o,i.formatContext,!1,!1);i.children.push(l),i.lastPushedText=!1;var h=Il(e,0,null,i.formatContext,!1,!1);h.parentFlushed=!0,t.blockedBoundary=o,t.blockedSegment=h;try{if(Th(e,t,n),h.lastPushedText&&h.textEmbedded&&h.chunks.push(ld),h.status=1,Bl(o,h),o.pendingTasks===0)break e}catch(g){h.status=4,o.forceClientRender=!0,o.errorDigest=Ho(e,g)}finally{t.blockedBoundary=r,t.blockedSegment=i}t=dd(e,s,r,l,a,t.legacyContext,t.context,t.treeContext),e.pingedTasks.push(t)}return}if(typeof r=="object"&&r!==null)switch(r.$$typeof){case L_:if(n=Yv(e,t,r.render,n,i),$o!==0){r=t.treeContext,t.treeContext=Eh(r,1,0);try{Er(e,t,n)}finally{t.treeContext=r}}else Er(e,t,n);return;case P_:r=r.type,n=eg(r,n),Rh(e,t,r,n,i);return;case R_:if(i=n.children,r=r._context,n=n.value,s=r._currentValue,r._currentValue=n,a=Di,Di=n={parent:a,depth:a===null?0:a.depth+1,context:r,parentValue:s,value:n},t.context=n,Er(e,t,i),e=Di,e===null)throw Error(Pe(403));n=e.parentValue,e.context._currentValue=n===c2?e.context._defaultValue:n,e=Di=e.parent,t.context=e;return;case T_:n=n.children,n=n(r._currentValue),Er(e,t,n);return;case ud:i=r._init,r=i(r._payload),n=eg(r,n),Rh(e,t,r,n,void 0);return}throw Error(Pe(130,r==null?r:typeof r,""))}}function Er(e,t,r){if(t.node=r,typeof r=="object"&&r!==null){switch(r.$$typeof){case o2:Rh(e,t,r.type,r.props,r.ref);return;case k_:throw Error(Pe(257));case ud:var n=r._init;r=n(r._payload),Er(e,t,r);return}if(bh(r)){tg(e,t,r);return}if(r===null||typeof r!="object"?n=null:(n=zv&&r[zv]||r["@@iterator"],n=typeof n=="function"?n:null),n&&(n=n.call(r))){if(r=n.next(),!r.done){var i=[];do i.push(r.value),r=n.next();while(!r.done);tg(e,t,i)}return}throw e=Object.prototype.toString.call(r),Error(Pe(31,e==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":e))}typeof r=="string"?(n=t.blockedSegment,n.lastPushedText=Fv(t.blockedSegment.chunks,r,e.responseState,n.lastPushedText)):typeof r=="number"&&(n=t.blockedSegment,n.lastPushedText=Fv(t.blockedSegment.chunks,""+r,e.responseState,n.lastPushedText))}function tg(e,t,r){for(var n=r.length,i=0;i<n;i++){var s=t.treeContext;t.treeContext=Eh(s,n,i);try{Th(e,t,r[i])}finally{t.treeContext=s}}}function Th(e,t,r){var n=t.blockedSegment.formatContext,i=t.legacyContext,s=t.context;try{return Er(e,t,r)}catch(l){if(fd(),typeof l=="object"&&l!==null&&typeof l.then=="function"){r=l;var a=t.blockedSegment,o=Il(e,a.chunks.length,null,a.formatContext,a.lastPushedText,!0);a.children.push(o),a.lastPushedText=!1,e=dd(e,t.node,t.blockedBoundary,o,t.abortSet,t.legacyContext,t.context,t.treeContext).ping,r.then(e,e),t.blockedSegment.formatContext=n,t.legacyContext=i,t.context=s,Pl(s)}else throw t.blockedSegment.formatContext=n,t.legacyContext=i,t.context=s,Pl(s),l}}function C2(e){var t=e.blockedBoundary;e=e.blockedSegment,e.status=3,H_(this,t,e)}function $_(e,t,r){var n=e.blockedBoundary;e.blockedSegment.status=3,n===null?(t.allPendingTasks--,t.status!==2&&(t.status=2,t.destination!==null&&t.destination.close())):(n.pendingTasks--,n.forceClientRender||(n.forceClientRender=!0,e=r===void 0?Error(Pe(432)):r,n.errorDigest=t.onError(e),n.parentFlushed&&t.clientRenderedBoundaries.push(n)),n.fallbackAbortableTasks.forEach(function(i){return $_(i,t,r)}),n.fallbackAbortableTasks.clear(),t.allPendingTasks--,t.allPendingTasks===0&&(n=t.onAllReady,n()))}function Bl(e,t){if(t.chunks.length===0&&t.children.length===1&&t.children[0].boundary===null){var r=t.children[0];r.id=t.id,r.parentFlushed=!0,r.status===1&&Bl(e,r)}else e.completedSegments.push(t)}function H_(e,t,r){if(t===null){if(r.parentFlushed){if(e.completedRootSegment!==null)throw Error(Pe(389));e.completedRootSegment=r}e.pendingRootTasks--,e.pendingRootTasks===0&&(e.onShellError=go,t=e.onShellReady,t())}else t.pendingTasks--,t.forceClientRender||(t.pendingTasks===0?(r.parentFlushed&&r.status===1&&Bl(t,r),t.parentFlushed&&e.completedBoundaries.push(t),t.fallbackAbortableTasks.forEach(C2,e),t.fallbackAbortableTasks.clear()):r.parentFlushed&&r.status===1&&(Bl(t,r),t.completedSegments.length===1&&t.parentFlushed&&e.partialBoundaries.push(t)));e.allPendingTasks--,e.allPendingTasks===0&&(e=e.onAllReady,e())}function U_(e){if(e.status!==2){var t=Di,r=Pc.current;Pc.current=Jv;var n=ll;ll=e.responseState;try{var i=e.pingedTasks,s;for(s=0;s<i.length;s++){var a=i[s],o=e,l=a.blockedSegment;if(l.status===0){Pl(a.context);try{Er(o,a,a.node),l.lastPushedText&&l.textEmbedded&&l.chunks.push(ld),a.abortSet.delete(a),l.status=1,H_(o,a.blockedBoundary,l)}catch(C){if(fd(),typeof C=="object"&&C!==null&&typeof C.then=="function"){var h=a.ping;C.then(h,h)}else{a.abortSet.delete(a),l.status=4;var g=a.blockedBoundary,p=C,m=Ho(o,p);if(g===null?Dl(o,p):(g.pendingTasks--,g.forceClientRender||(g.forceClientRender=!0,g.errorDigest=m,g.parentFlushed&&o.clientRenderedBoundaries.push(g))),o.allPendingTasks--,o.allPendingTasks===0){var w=o.onAllReady;w()}}}finally{}}}i.splice(0,s),e.destination!==null&&pd(e,e.destination)}catch(C){Ho(e,C),Dl(e,C)}finally{ll=n,Pc.current=r,r===Jv&&Pl(t)}}}function Ea(e,t,r){switch(r.parentFlushed=!0,r.status){case 0:var n=r.id=e.nextSegmentId++;return r.lastPushedText=!1,r.textEmbedded=!1,e=e.responseState,be(t,dE),be(t,e.placeholderPrefix),e=Ie(n.toString(16)),be(t,e),it(t,pE);case 1:r.status=2;var i=!0;n=r.chunks;var s=0;r=r.children;for(var a=0;a<r.length;a++){for(i=r[a];s<i.index;s++)be(t,n[s]);i=Ku(e,t,i)}for(;s<n.length-1;s++)be(t,n[s]);return s<n.length&&(i=it(t,n[s])),i;default:throw Error(Pe(390))}}function Ku(e,t,r){var n=r.boundary;if(n===null)return Ea(e,t,r);if(n.parentFlushed=!0,n.forceClientRender)n=n.errorDigest,it(t,yE),be(t,SE),n&&(be(t,wE),be(t,Ie(Pt(n))),be(t,CE)),it(t,kE),Ea(e,t,r);else if(0<n.pendingTasks){n.rootSegmentID=e.nextSegmentId++,0<n.completedSegments.length&&e.partialBoundaries.push(n);var i=e.responseState,s=i.nextSuspenseID++;i=ye(i.boundaryPrefix+s.toString(16)),n=n.id=i,Wv(t,e.responseState,n),Ea(e,t,r)}else if(n.byteSize>e.progressiveChunkSize)n.rootSegmentID=e.nextSegmentId++,e.completedBoundaries.push(n),Wv(t,e.responseState,n.id),Ea(e,t,r);else{if(it(t,vE),r=n.completedSegments,r.length!==1)throw Error(Pe(391));Ku(e,t,r[0])}return it(t,_E)}function rg(e,t,r){return KE(t,e.responseState,r.formatContext,r.id),Ku(e,t,r),VE(t,r.formatContext)}function ng(e,t,r){for(var n=r.completedSegments,i=0;i<n.length;i++)j_(e,t,r,n[i]);if(n.length=0,e=e.responseState,n=r.id,r=r.rootSegmentID,be(t,e.startInlineScript),e.sentCompleteBoundaryFunction?be(t,YE):(e.sentCompleteBoundaryFunction=!0,be(t,JE)),n===null)throw Error(Pe(395));return r=Ie(r.toString(16)),be(t,n),be(t,ZE),be(t,e.segmentPrefix),be(t,r),it(t,e2)}function j_(e,t,r,n){if(n.status===2)return!0;var i=n.id;if(i===-1){if((n.id=r.rootSegmentID)===-1)throw Error(Pe(392));return rg(e,t,n)}return rg(e,t,n),e=e.responseState,be(t,e.startInlineScript),e.sentCompleteSegmentFunction?be(t,qE):(e.sentCompleteSegmentFunction=!0,be(t,GE)),be(t,e.segmentPrefix),i=Ie(i.toString(16)),be(t,i),be(t,QE),be(t,e.placeholderPrefix),be(t,i),it(t,XE)}function pd(e,t){br=new Uint8Array(512),xr=0;try{var r=e.completedRootSegment;if(r!==null&&e.pendingRootTasks===0){Ku(e,t,r),e.completedRootSegment=null;var n=e.responseState.bootstrapChunks;for(r=0;r<n.length-1;r++)be(t,n[r]);r<n.length&&it(t,n[r])}var i=e.clientRenderedBoundaries,s;for(s=0;s<i.length;s++){var a=i[s];n=t;var o=e.responseState,l=a.id,h=a.errorDigest,g=a.errorMessage,p=a.errorComponentStack;if(be(n,o.startInlineScript),o.sentClientRenderFunction?be(n,r2):(o.sentClientRenderFunction=!0,be(n,t2)),l===null)throw Error(Pe(395));be(n,l),be(n,n2),(h||g||p)&&(be(n,Ac),be(n,Ie(Mc(h||"")))),(g||p)&&(be(n,Ac),be(n,Ie(Mc(g||"")))),p&&(be(n,Ac),be(n,Ie(Mc(p)))),it(n,i2)}i.splice(0,s);var m=e.completedBoundaries;for(s=0;s<m.length;s++)ng(e,t,m[s]);m.splice(0,s),Ov(t),br=new Uint8Array(512),xr=0;var w=e.partialBoundaries;for(s=0;s<w.length;s++){var C=w[s];e:{i=e,a=t;var y=C.completedSegments;for(o=0;o<y.length;o++)if(!j_(i,a,C,y[o])){o++,y.splice(0,o);var v=!1;break e}y.splice(0,o),v=!0}if(!v){e.destination=null,s++,w.splice(0,s);return}}w.splice(0,s);var f=e.completedBoundaries;for(s=0;s<f.length;s++)ng(e,t,f[s]);f.splice(0,s)}finally{Ov(t),e.allPendingTasks===0&&e.pingedTasks.length===0&&e.clientRenderedBoundaries.length===0&&e.completedBoundaries.length===0&&t.close()}}function ig(e,t){try{var r=e.abortableTasks;r.forEach(function(n){return $_(n,e,t)}),r.clear(),e.destination!==null&&pd(e,e.destination)}catch(n){Ho(e,n),Dl(e,n)}}sd.renderToReadableStream=function(e,t){return new Promise(function(r,n){var i,s,a=new Promise(function(g,p){s=g,i=p}),o=S2(e,rE(t?t.identifierPrefix:void 0,t?t.nonce:void 0,t?t.bootstrapScriptContent:void 0,t?t.bootstrapScripts:void 0,t?t.bootstrapModules:void 0),nE(t?t.namespaceURI:void 0),t?t.progressiveChunkSize:void 0,t?t.onError:void 0,s,function(){var g=new ReadableStream({type:"bytes",pull:function(p){if(o.status===1)o.status=2,S_(p,o.fatalError);else if(o.status!==2&&o.destination===null){o.destination=p;try{pd(o,p)}catch(m){Ho(o,m),Dl(o,m)}}},cancel:function(){ig(o)}},{highWaterMark:0});g.allReady=a,r(g)},function(g){a.catch(function(){}),n(g)},i);if(t&&t.signal){var l=t.signal,h=function(){ig(o,l.reason),l.removeEventListener("abort",h)};l.addEventListener("abort",h)}U_(o)})};sd.version="18.3.1";var Ks,W_;Ks=zs,W_=sd;yi.version=Ks.version;yi.renderToString=Ks.renderToString;yi.renderToStaticMarkup=Ks.renderToStaticMarkup;yi.renderToNodeStream=Ks.renderToNodeStream;yi.renderToStaticNodeStream=Ks.renderToStaticNodeStream;yi.renderToReadableStream=W_.renderToReadableStream;const Fl=[{key:"a",chordCode:"4",index:0},{key:"A",chordCode:"54",index:0},{key:"b",chordCode:"17",index:1},{key:"B",chordCode:"517",index:1},{key:"c",chordCode:"37",index:2},{key:"C",chordCode:"537",index:2},{key:"d",chordCode:"2",index:3},{key:"D",chordCode:"52",index:3},{key:"e",chordCode:"32",index:4},{key:"E",chordCode:"532",index:4},{key:"f",chordCode:"1",index:5},{key:"F",chordCode:"51",index:5},{key:"g",chordCode:"21",index:6},{key:"G",chordCode:"521",index:6},{key:"h",chordCode:"76",index:7},{key:"H",chordCode:"576",index:7},{key:"i",chordCode:"72",index:8},{key:"I",chordCode:"572",index:8},{key:"j",chordCode:"6",index:9},{key:"J",chordCode:"56",index:9},{key:"k",chordCode:"7",index:10},{key:"K",chordCode:"57",index:10},{key:"l",chordCode:"8",index:11},{key:"L",chordCode:"58",index:11},{key:"m",chordCode:"27",index:12},{key:"M",chordCode:"527",index:12},{key:"n",chordCode:"16",index:13},{key:"N",chordCode:"516",index:13},{key:"o",chordCode:"83",index:14},{key:"O",chordCode:"583",index:14},{key:"p",chordCode:"94",index:15},{key:"P",chordCode:"594",index:15},{key:"q",chordCode:"43",index:16},{key:"Q",chordCode:"543",index:16},{key:"r",chordCode:"23",index:17},{key:"R",chordCode:"523",index:17},{key:"s",chordCode:"3",index:18},{key:"S",chordCode:"53",index:18},{key:"t",chordCode:"12",index:19},{key:"T",chordCode:"512",index:19},{key:"u",chordCode:"61",index:20},{key:"U",chordCode:"561",index:20},{key:"v",chordCode:"28",index:21},{key:"V",chordCode:"528",index:21},{key:"w",chordCode:"34",index:22},{key:"W",chordCode:"534",index:22},{key:"x",chordCode:"39",index:23},{key:"X",chordCode:"539",index:23},{key:"y",chordCode:"26",index:24},{key:"Y",chordCode:"526",index:24},{key:"z",chordCode:"48",index:25},{key:"Z",chordCode:"548",index:25},{key:"1",chordCode:"10",index:26},{key:"!",chordCode:"510",index:26},{key:"2",chordCode:"20",index:27},{key:"@",chordCode:"520",index:27},{key:"3",chordCode:"30",index:28},{key:"#",chordCode:"530",index:28},{key:"4",chordCode:"40",index:29},{key:"$",chordCode:"540",index:29},{key:"5",chordCode:"050",index:30},{key:"%",chordCode:"5050",index:30},{key:"6",chordCode:"60",index:31},{key:"^",chordCode:"560",index:31},{key:"7",chordCode:"70",index:32},{key:"&",chordCode:"570",index:32},{key:"8",chordCode:"80",index:33},{key:"*",chordCode:"580",index:33},{key:"9",chordCode:"90",index:34},{key:"(",chordCode:"590",index:34},{key:"0",chordCode:"C",index:35},{key:")",chordCode:"5C",index:35},{key:"\r",alias:"Enter",chordCode:"0",index:36},{key:"ESCAPE",chordCode:"491",index:37},{key:"DELETE (Backspace)",alias:"Backspace",chordCode:"B",index:38},{key:"\\t",alias:"Tab",chordCode:"14",index:39},{key:"&#x2581;",alias:"Space",chordCode:"5",index:40},{key:"-",chordCode:"B0",index:41},{key:"(underscore)",alias:"_",chordCode:"5B0",index:41},{key:"=",chordCode:"C0",index:42},{key:"+",chordCode:"5C0",index:42},{key:"[",chordCode:"45",index:43},{key:"{",chordCode:"545",index:43},{key:"]",chordCode:"495",index:44},{key:"}",chordCode:"5495",index:44},{key:"\\",chordCode:"15",index:45},{key:"|",chordCode:"515",index:45},{key:";",chordCode:"9",index:46},{key:":",chordCode:"59",index:46},{key:"'",chordCode:"89",index:47},{key:'"',chordCode:"589",index:47},{key:"`",chordCode:"101",index:48},{key:"~",chordCode:"5101",index:48},{key:",",chordCode:"38",index:49},{key:"<",chordCode:"538",index:49},{key:".",chordCode:"49",index:50},{key:">",chordCode:"549",index:50},{key:"/",chordCode:"96",index:51},{key:"?",chordCode:"596",index:51},{key:"Caps Lock",chordCode:"E",index:52},{key:"F1",chordCode:"131",index:53},{key:"F2",chordCode:"1D",index:54},{key:"F3",chordCode:"370",index:55},{key:"F4",chordCode:"B0B",index:56},{key:"F5",chordCode:"1C",index:57},{key:"F6",chordCode:"B06",index:58},{key:"F7",chordCode:"B12",index:59},{key:"F8",chordCode:"B7",index:60},{key:"F9",chordCode:"B2",index:61},{key:"F10",chordCode:"BC",index:62},{key:"F11",chordCode:"B8B",index:63},{key:"F12",chordCode:"B3B",index:64},{key:"PrintScreen",chordCode:"BD",index:65},{key:"Scroll Lock",chordCode:"7E7",index:66},{key:"Pause",chordCode:"206",index:67},{key:"Insert",chordCode:"200",index:68},{key:"Home",chordCode:"B1",index:69},{key:"PageUp",chordCode:"B8",index:70},{key:"Delete Forward",chordCode:"7B",index:71},{key:"End",chordCode:"C2",index:72},{key:"PageDown",chordCode:"8B",index:73},{key:"RightArrow",alias:"Right",chordCode:"2C",index:74},{key:"LeftArrow",alias:"Left",chordCode:"1B",index:75},{key:"DownArrow",alias:"Down",chordCode:"71",index:76},{key:"UpArrow",alias:"Up",chordCode:"73",index:77},{key:"Keypad Num Lock",chordCode:"202",index:78},{key:"Clear",chordCode:"5202",index:78},{key:"Keypad /",chordCode:"2A2",index:79},{key:"Keypad *",chordCode:"717",index:80},{key:"Keypad -",chordCode:"212",index:81},{key:"Keypad +",chordCode:"2B",index:82},{key:"Keypad ENTER",chordCode:"27E",index:83},{key:"Keypad 1",chordCode:"2C4",index:84},{key:"End",chordCode:"52C4",index:84},{key:"Keypad 2",chordCode:"282",index:85},{key:"Down Arrow",chordCode:"5282",index:85},{key:"Keypad 3",chordCode:"23278",index:86},{key:"PageDn",chordCode:"523278",index:86},{key:"Keypad 4",chordCode:"2D",index:87},{key:"Left Arrow",chordCode:"52D",index:87},{key:"Keypad 5",chordCode:"CE",index:88},{key:"Keypad 6",chordCode:"C0C",index:89},{key:"Right Arrow",chordCode:"5C0C",index:89},{key:"Keypad 7",chordCode:"CA",index:90},{key:"Home",chordCode:"5CA",index:90},{key:"Keypad 8",chordCode:"C6",index:91},{key:"Up Arrow",chordCode:"5C6",index:91},{key:"Keypad 9",chordCode:"C1",index:92},{key:"PageUp",chordCode:"5C1",index:92},{key:"Keypad 0",chordCode:"CB",index:93},{key:"Insert",chordCode:"5CB",index:93},{key:"Keypad .",chordCode:"C7E",index:94},{key:"Delete",chordCode:"5C7E",index:94},{key:"Non-US \\",chordCode:"C2E",index:95},{key:"|",chordCode:"5C2E",index:95},{key:"Application",chordCode:"C8",index:96},{key:"Power",chordCode:"321",index:97},{key:"Keypad =",chordCode:"CD",index:98},{key:"F13",chordCode:"8E",index:99},{key:"F14",chordCode:"850",index:100},{key:"F15",chordCode:"8A",index:101},{key:"F16",chordCode:"6C6",index:102},{key:"F17",chordCode:"801",index:103},{key:"F18",chordCode:"8B8",index:104},{key:"F19",chordCode:"878",index:105},{key:"F20",chordCode:"82",index:106},{key:"F21",chordCode:"8C",index:107},{key:"F22",chordCode:"8383",index:108},{key:"F23",chordCode:"8D",index:109},{key:"F24",chordCode:"3E",index:110},{key:"Execute",chordCode:"1A1",index:111},{key:"Help",chordCode:"7E",index:112},{key:"Menu",chordCode:"36",index:113},{key:"Select",chordCode:"313",index:114},{key:"Stop",chordCode:"123",index:115},{key:"Again",chordCode:"7A7",index:116},{key:"Undo",chordCode:"232",index:117},{key:"Cut",chordCode:"3C",index:118},{key:"Copy",chordCode:"383",index:119},{key:"Paste",chordCode:"838",index:120},{key:"Find",chordCode:"DE",index:121},{key:"Mute",chordCode:"D0D",index:122},{key:"Volume Up",chordCode:"DA",index:123},{key:"Volume Down",chordCode:"D6",index:124},{key:"Locking Caps Lock",chordCode:"D1",index:125},{key:"Locking Num Lock",chordCode:"DB",index:126},{key:"Locking Scroll Lock",chordCode:"D7",index:127},{key:"Keypad Comma",chordCode:"D2",index:128},{key:"Keypad Equal Sign",chordCode:"DC",index:129},{key:"International1",chordCode:"D82",index:130},{key:"International2",chordCode:"D3D",index:131},{key:"International3",chordCode:"700",index:132},{key:"International4",chordCode:"7E0",index:133},{key:"International5",chordCode:"7EA",index:134},{key:"International6",chordCode:"7E6",index:135},{key:"International7",chordCode:"6E1",index:136},{key:"International8",chordCode:"7EB",index:137},{key:"International9",chordCode:"7E73",index:138},{key:"LANG1",chordCode:"7E2",index:139},{key:"LANG2",chordCode:"7EC",index:140},{key:"LANG3",chordCode:"7E8",index:141},{key:"LANG4",chordCode:"7E3",index:142},{key:"LANG5",chordCode:"7ED",index:143},{key:"LANG6",chordCode:"70C",index:144},{key:"LeftControl",chordCode:"09999",index:145},{key:"LeftShift",chordCode:"59999",index:146},{key:"LeftAlt",chordCode:"A",index:147},{key:"Left GUI",chordCode:"2121",index:148},{key:"RightControl",chordCode:"7A0",index:149},{key:"RightShift",chordCode:"7EA7",index:150},{key:"RightAlt",chordCode:"7A6",index:151},{key:"Right GUI",chordCode:"1212",index:152}],fa=({displayChar:e})=>{let t=Array.from(Fl).find(n=>n.key.replace("&#x2581;"," ")===e);t==null&&(t=Array.from(Fl).find(n=>n.key===e));const r=t?.alias??t?.key;return de("div",{className:"chord-image-holder",id:"chord-image-holder","data-source":"ErrorDisplay.tsx",children:pt("div",{className:"col-sm-2 row generated next",id:"chord2",children:[de("span",{id:"char15",className:"char",children:r}),de("img",{loading:"lazy",alt:"2",src:`/images/svgs/${t?.chordCode}.svg`,height:"59.516",width:"75",className:"hand"})]})})};class w2{commands={};register(t){this.commands[t.name]=t}getCommand(t){return this.commands[t]}getHelp(t){return Object.values(this.commands).filter(r=>!t||r.name.includes(t)).map(r=>`${r.name}: ${r.description}`).join(`

`)}}const Nl=new w2,k2={name:"help",description:"Display help information",execute:(e,t)=>{if(t.command==="help"||t.command==="411"){const n=["DELETE (Backspace)","\r","UpArrow","LeftArrow","DownArrow","RightArrow","ESCAPE"].map(a=>de(fa,{displayChar:a},a)).map(a=>yi.renderToStaticMarkup(a)).join(""),i=Nl.getHelp(),s=`
        <div class='chord-display-container'>${n}</div>
        <div class='command-list-container'>
          <h3>Available Commands:</h3>
          <pre>${i}</pre>
        </div>
      `;return Promise.resolve({status:200,message:s})}return Promise.resolve({status:404,message:"Help command not recognized"})}},b2=Object.freeze(Object.defineProperty({__proto__:null,HelpCommand:k2},Symbol.toStringTag,{value:"Module"})),x2={name:"ls",description:"List files",switches:{all:"List all phrases",random:"List a random phrase",easy:"List only easy phrases"},execute:(e,t)=>{if(e==null)return Promise.resolve({status:404,message:"No command context available."});const r=Je.map(n=>n.key).join(`
`);return Promise.resolve({status:200,message:r})}},E2=Object.freeze(Object.defineProperty({__proto__:null,ListPhrasesCommand:x2},Symbol.toStringTag,{value:"Module"})),R2=Vt({prefix:"AppSignals",level:mi.DEBUG}),T2="current-output",Ne=gt(Ce.NORMAL),L2=gt(null),Yn=gt(!1),ys=gt(!1),_s=gt(!1),Uo=gt(""),Qn=gt(""),vd=gt(""),ul=e=>{_s.value=e},z_=e=>{vd.value=e},Jr=e=>{ys.value=e},$l=e=>{Uo.value=e},sg=e=>{Qn.value=e},{signal:A2,update:M2}=Vf({key:T2,signal:gt([]),serialize:e=>JSON.stringify(e),deserialize:e=>JSON.parse(e)});Ou(()=>Ne.value===Ce.GAME);Ou(()=>Ne.value===Ce.TUTORIAL);const K_=e=>{Ne.value=e,R2.debug(Ne.value),Ut({activityKey:e,contentKey:null,groupKey:null})},og=e=>{M2(t=>{if(e.sensitive!=null&&e.command!=null){const n={...e.command,args:e.command.args.map((i,s)=>s===0?i:"*".repeat(i.length))};e={...e,command:n}}return[...t,e].slice(-3)})},P2=e=>{L2.value=e},An=gt(!1),O2=gt(null),Sr=e=>{An.value=e},I2=e=>{O2.value=e};typeof window<"u"&&(window.setActivity=K_,window.ActivityType=Ce);const D2=Vt(),B2={name:"login",description:"Log in to the system",execute:async(e,t)=>{const{auth:r}=e;if(t.args.length===1){Jr(!0);const n=t.args[0]??"";return $l(n),Uo.value!=n&&D2.error("Username mismatch"),{status:200,message:"Enter password:",sensitive:!0}}else if(t.args.length===2&&ys.value){const n=t.args[0]??"",i=t.args[1]??"";try{const s=await r.login(n,i);return s.status!==200||s.data==null?{status:s.status,message:s.message??"Login failed",sensitive:!0}:(Jr(!1),{status:200,message:"Login successful!",sensitive:!0})}catch(s){Jr(!1);let a="An unknown error occurred";return(s instanceof Error||typeof s=="object"&&s!==null&&"message"in s)&&(a=s.message),{status:500,message:a.startsWith("Login error:")?a:`Login error: ${a}`,sensitive:!0}}}else return{status:400,message:"Usage: login <username>"}}},F2=Object.freeze(Object.defineProperty({__proto__:null,LoginCommand:B2},Symbol.toStringTag,{value:"Module"})),N2={name:"signup",description:"Create a new account",execute:async(e,t)=>{const{auth:r}=e;if(t.args.length===2)return ul(!0),$l(t.args?.[0]??""),z_(t.args?.[1]??""),{status:200,message:"Enter password:"};if(t.args.length===3&&_s.value){const n=Uo.value,i=Qn.value,s=vd.value;try{const a=await r.signup({username:n,password:i,email:s});return ul(!1),a.status===200?{status:200,message:"Account created successfully! Please check your email for verification."}:{status:a.status,message:`Signup failed: ${a.message}`}}catch(a){return ul(!1),{status:500,message:`Signup error: ${a instanceof Error?a.message:"Unknown error"}`}}}else return{status:400,message:"Usage: signup <username> <email>"}}},$2=Object.freeze(Object.defineProperty({__proto__:null,SignUpCommand:N2},Symbol.toStringTag,{value:"Module"})),H2={name:"special",description:"Display special characters",execute:async(e,t)=>(await Promise.resolve(),{status:200,message:`<div class='chord-display-container'>${["~","`","!","@","#","$","%","^","&","*","(",")","-","_","+","=","{","[","}","]","|","\\",":",";",'"',"'","<",">",",",".","?","/"].map(s=>de(fa,{displayChar:s},s)).map(s=>yi.renderToStaticMarkup(s)).join("")}</div>`})},U2=Object.freeze(Object.defineProperty({__proto__:null,SpecialCommand:H2},Symbol.toStringTag,{value:"Module"}));function ns(e){return e==null||e===""}function j2(e){return e!=null}function W2(e,t,...r){const n=e.current?.[t];n!=null&&typeof n=="function"&&n(...r)}function z2(e){return function(t,...r){if(e.current!==null&&e.current!==void 0&&typeof e.current[t]=="function"){const n=e.current[t];n(...r)}}}const K2={name:"archive",description:"Archive the current command history",execute:async(e,t)=>{const r=async i=>{if(i>=localStorage.length)return{status:200,message:"Command history archived."};const s=localStorage.key(i);if(ns(s))return await r(i+1),{status:500,message:"Stopping archive due to localStorage key not found."};if(s.startsWith(Et.command+"_")||s.startsWith(Et.charTime+"_"))if(s.includes("_archive_"))localStorage.removeItem(s);else{const a=s.substring(0,s.indexOf("_")),o=localStorage.getItem(s);if(o!==null&&o!=="")try{const l=window._handTerm??{current:null};if(l.current===null||l.current===void 0||l.current.props===null||l.current.props.auth===null){const g={command:t,response:"Authentication not available.",status:500,commandTime:new Date};return e.appendToOutput(g),{status:500,message:"Authentication not available."}}if(!await l.current.props.auth.saveLog(s,o,"json")){const g={command:t,response:"Stopping archive due to saveLog returning false.",status:500,commandTime:new Date};return e.appendToOutput(g),{status:500,message:"Stopping archive due to saveLog returning false."}}localStorage.setItem(s.replace(a,a+"_archive"),o),localStorage.removeItem(s)}catch(l){const h=l instanceof Error?l.message:"An unknown error occurred",g={command:t,response:`Archive error: ${h}`,status:500,commandTime:new Date};return e.appendToOutput(g),{status:500,message:`Archive error: ${h}`}}}return new Promise(a=>{setTimeout(()=>{r(i+1).then(a).catch(o=>{const l=o instanceof Error?o.message:"An unknown error occurred",h={command:t,response:`Archive error: ${l}`,status:500,commandTime:new Date};e.appendToOutput(h),a({status:500,message:`Archive error: ${l}`})})},300)})};typeof window._handTerm>"u"&&(window._handTerm={current:null});const n=await r(0);return window._handTerm.current?.prompt(),n}},V2=Object.freeze(Object.defineProperty({__proto__:null,archiveCommand:K2},Symbol.toStringTag,{value:"Module"})),G2=()=>{const e=localStorage.getItem(Et.commandHistory)??"[]";try{const t=JSON.parse(e);return Array.isArray(t)&&t.every(r=>typeof r=="string")?t:Array.isArray(t)&&t.every(r=>typeof r=="object"&&r!==null&&"command"in r)?t.map(gd):[]}catch{return[]}},V_=e=>{localStorage.setItem(Et.commandHistory,JSON.stringify(e))};function gd(e){const t=e.args!=null?e.args.join(" "):"",r=e.switches==null?"":Object.entries(e.switches).map(([n,i])=>typeof i=="boolean"?i?`-${n}`:"":`-${n} ${i}`).filter(n=>n).join(" ");return[e.command,t,r].filter(n=>n).join(" ").trim()}function q2(e){return e.substring(0,1)==="--"||e.startsWith("-")&&e.length===2}const cl=e=>{const t=e.split(/\s+/).filter(Boolean),r=t.shift()??"",n=[],i={};for(let s=0;s<t.length;s++){const a=t[s];if(a!==void 0&&a!=null)if(q2(a)){const o=a.indexOf("=");if(o>-1){const l=a.substring(2,o),h=a.substring(o+1);i[l]=h}else{const l=a.substring(0,2)==="--"?a.substring(2):a.substring(1);if(s+1<t.length){const h=t[s+1];h&&!h.startsWith("-")?(i[l]=h,s++):i[l]=!0}else i[l]=!0}}else n.push(a)}return{command:r,args:n,switches:i}};function Q2(e){return typeof e=="string"}const X2={name:"clean",description:"clean the command history",execute:async e=>{if(e==null)return{status:404,message:"No command context available."};const t=localStorage.getItem(Et.commandHistory);let r=[];Q2(t)&&(r=JSON.parse(t??"[]"));let n="";for(let i=r.length-1;i>=0;i--)r[i]===n?r.splice(i,1):n=r[i]??"";return V_(r),W2(e.handTermRef,"prompt"),await Promise.resolve(),{status:200,message:"Command history cleaned."}}},J2=Object.freeze(Object.defineProperty({__proto__:null,cleanCommand:X2},Symbol.toStringTag,{value:"Module"})),Y2={name:"clear",description:"Clear the command history",execute:async(e,t)=>{const r=e.handTerm;if(!r?.current){const a={command:t,response:"No command context available.",status:404,commandTime:new Date};return e.appendToOutput(a),{status:404,message:"No command context available."}}const n=Object.keys(localStorage).filter(a=>{const o=a.includes(Et.command)||a.includes("terminalCommandHistory")||a.includes(Et.charTime),l=t.args.length>0&&a.includes(t.args[0]??"");return o??l});await Promise.all(n.map(async a=>{await new Promise(o=>{localStorage.removeItem(a),o()})}));const i=r.current;i&&(i.setState({commandHistory:[]}),i.setState({outputElements:[]}),i.terminalReset(),i.prompt());const s={command:t,response:"Command history cleared.",status:200,commandTime:new Date};return e.appendToOutput(s),{status:200,message:"Command history cleared."}}},Z2=Object.freeze(Object.defineProperty({__proto__:null,clearCommand:Y2},Symbol.toStringTag,{value:"Module"})),ag=Vt();function eR(e){return typeof e=="object"&&e!==null&&"message"in e}const tR=je.create({baseURL:cr.api.BaseUrl,headers:{"Content-Type":"application/json",Accept:"application/json"}});async function rR(e,t,r,n="GET",i){try{const s=await e.validateAndRefreshToken();if(s==null||s.status!==200||s.data==null)return{status:401,error:"Authentication failed"};const a=s.data.AccessToken;if(a==null)return{status:401,error:"Access token not found"};try{const o=await tR.request({method:n,url:t,headers:{Authorization:`Bearer ${a}`},params:r,data:i});return{status:o.status,data:o.data}}catch(o){if(je.isAxiosError(o)){const h=o;if(h.response?.status===404&&r?.path==="_index.md")return{status:200,data:{content:"",encoding:"utf-8",lastModified:new Date().toISOString(),size:0}};if(h.response){const{status:g,data:p}=h.response,m=eR(p)&&p.message?p.message:`Request failed with status ${g}`;return{status:g,error:m}}}const l=o instanceof Error?o.message:"An unknown error occurred";return ag.error(`API request failed: ${l}`),{status:500,error:l}}}catch(s){const a=s instanceof Error?s.message:"An unknown error occurred";return ag.error(`Auth request failed: ${a}`),{status:500,error:a}}}async function nR(e,t="_index.md"){const[r="",n=""]=t.split(".");return rR(e,cr.api.GetFile,{key:r,extension:n})}const iR={name:"edit",description:"Edit file contents",execute:async(e,t)=>{if(t.command.toLowerCase()==="edit"){const r=t.args[0]??"_index.md";try{const n=await nR(e.auth,r);if(n.status!==200||!n.data)return{status:n.status,message:n.error??"File not found"};if(n.data!=null&&n.data.content!=null){const i=JSON.stringify(n.data.content);localStorage.setItem(Et.editContent,i)}if(n.data!=null&&n.data.content!=null){const i=JSON.stringify(n.data.content);localStorage.setItem(Et.editContent,i)}return e.updateLocation({activityKey:"edit",contentKey:r,groupKey:null}),{status:200,message:"Editing file content"}}catch(n){return{status:500,message:n instanceof Error?n.message:"Failed to access file"}}}return{status:404,message:"Edit command not recognized"}}},sR=Object.freeze(Object.defineProperty({__proto__:null,default:iR},Symbol.toStringTag,{value:"Module"})),lg={name:"video",description:"Toggle webcam video on/off",execute:(e,t)=>(Yn.value=!Yn.value,Promise.resolve({status:200,message:`Video ${Yn.value?"enabled":"disabled"}`}))},oR=Object.freeze(Object.defineProperty({__proto__:null,default:lg,toggleVideoCommand:lg},Symbol.toStringTag,{value:"Module"})),aR={name:"wrt",description:"Write to the terminal",switches:{file:"Write the contents of a file to the terminal",edit:"Edit the contents of a file",save:"Save the contents of a file"},execute:async(e,t)=>{const r=t.switches,n=t.args,i=a=>{const o=r[a];return typeof o=="string"?o:null},s=a=>({command:t,response:a,status:200,commandTime:new Date});try{if(j2(r.file)){const a=i("file");if(a&&e.auth.getFile)try{const o=await e.auth.getFile(a,"txt");o.status===200&&o.data?e.appendToOutput(s(o.data)):e.appendToOutput(s(`Error reading file: ${a}`))}catch(o){const l=o instanceof Error?o.message:"Unknown error";e.appendToOutput(s(`Error reading file: ${l}`))}else e.appendToOutput(s("Please provide a file name or file reading is not supported."))}else if(r.edit)i("edit")&&e.setEditMode&&e.activityMediator?.determineActivityState?(e.setEditMode(!0),e.activityMediator.determineActivityState(ActivityType.EDIT)):e.appendToOutput(s("Please provide a file name to edit or edit mode is not supported."));else if(r.save){const a=i("save");if(a&&e.auth.getFile&&e.handleEditSave)try{const o=await e.auth.getFile(a,"txt");o.status===200&&o.data?e.handleEditSave(o.data):e.appendToOutput(s(`Error reading file: ${a}`))}catch(o){const l=o instanceof Error?o.message:"Unknown error";e.appendToOutput(s(`Error reading file: ${l}`))}else e.appendToOutput(s("Please provide a file name to save or save functionality is not supported."))}else if(n.length>0)e.appendToOutput(s(n.join(" ")));else return{status:400,message:"Please provide text to write or use a switch."};return{status:200,message:"Command executed successfully."}}catch(a){return{status:500,message:a instanceof Error?a.message:"An unexpected error occurred"}}}},lR=Object.freeze(Object.defineProperty({__proto__:null,wrtCommand:aR},Symbol.toStringTag,{value:"Module"}));function ug(e){return typeof e=="object"&&e!==null&&"name"in e&&"execute"in e&&typeof e.name=="string"&&typeof e.execute=="function"}const uR=Object.assign({"./CompleteCommand.ts":kk,"./GitHubCommand.ts":dx,"./HelpCommand.tsx":b2,"./ListPhrasesCommand.tsx":E2,"./LoginCommand.ts":F2,"./SignUpCommand.ts":$2,"./SpecialCommand.tsx":U2,"./archiveCommand.ts":V2,"./cleanCommand.ts":J2,"./clearCommand.tsx":Z2,"./editCommand.tsx":sR,"./toggleVideoCommand.ts":oR,"./wrtCommand.tsx":lR});Object.entries(uR).forEach(([e,t])=>{const r=t;if(r.default&&ug(r.default)){Nl.register(r.default);return}Object.values(r).filter(ug).forEach(i=>{Nl.register(i)})});var G_={exports:{}},Ir={},q_={exports:{}},Q_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(V,M){var P=V.length;V.push(M);e:for(;0<P;){var O=P-1>>>1,j=V[O];if(0<i(j,M))V[O]=M,V[P]=j,P=O;else break e}}function r(V){return V.length===0?null:V[0]}function n(V){if(V.length===0)return null;var M=V[0],P=V.pop();if(P!==M){V[0]=P;e:for(var O=0,j=V.length,Z=j>>>1;O<Z;){var re=2*(O+1)-1,le=V[re],ue=re+1,X=V[ue];if(0>i(le,P))ue<j&&0>i(X,le)?(V[O]=X,V[ue]=P,O=ue):(V[O]=le,V[re]=P,O=re);else if(ue<j&&0>i(X,P))V[O]=X,V[ue]=P,O=ue;else break e}}return M}function i(V,M){var P=V.sortIndex-M.sortIndex;return P!==0?P:V.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();e.unstable_now=function(){return a.now()-o}}var l=[],h=[],g=1,p=null,m=3,w=!1,C=!1,y=!1,v=typeof setTimeout=="function"?setTimeout:null,f=typeof clearTimeout=="function"?clearTimeout:null,u=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function d(V){for(var M=r(h);M!==null;){if(M.callback===null)n(h);else if(M.startTime<=V)n(h),M.sortIndex=M.expirationTime,t(l,M);else break;M=r(h)}}function _(V){if(y=!1,d(V),!C)if(r(l)!==null)C=!0,z(R);else{var M=r(h);M!==null&&Q(_,M.startTime-V)}}function R(V,M){C=!1,y&&(y=!1,f(b),b=-1),w=!0;var P=m;try{for(d(M),p=r(l);p!==null&&(!(p.expirationTime>M)||V&&!W());){var O=p.callback;if(typeof O=="function"){p.callback=null,m=p.priorityLevel;var j=O(p.expirationTime<=M);M=e.unstable_now(),typeof j=="function"?p.callback=j:p===r(l)&&n(l),d(M)}else n(l);p=r(l)}if(p!==null)var Z=!0;else{var re=r(h);re!==null&&Q(_,re.startTime-M),Z=!1}return Z}finally{p=null,m=P,w=!1}}var E=!1,L=null,b=-1,I=5,U=-1;function W(){return!(e.unstable_now()-U<I)}function Y(){if(L!==null){var V=e.unstable_now();U=V;var M=!0;try{M=L(!0,V)}finally{M?B():(E=!1,L=null)}}else E=!1}var B;if(typeof u=="function")B=function(){u(Y)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,N=$.port2;$.port1.onmessage=Y,B=function(){N.postMessage(null)}}else B=function(){v(Y,0)};function z(V){L=V,E||(E=!0,B())}function Q(V,M){b=v(function(){V(e.unstable_now())},M)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(V){V.callback=null},e.unstable_continueExecution=function(){C||w||(C=!0,z(R))},e.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<V?Math.floor(1e3/V):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(V){switch(m){case 1:case 2:case 3:var M=3;break;default:M=m}var P=m;m=M;try{return V()}finally{m=P}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(V,M){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var P=m;m=V;try{return M()}finally{m=P}},e.unstable_scheduleCallback=function(V,M,P){var O=e.unstable_now();switch(typeof P=="object"&&P!==null?(P=P.delay,P=typeof P=="number"&&0<P?O+P:O):P=O,V){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=P+j,V={id:g++,callback:M,priorityLevel:V,startTime:P,expirationTime:j,sortIndex:-1},P>O?(V.sortIndex=P,t(h,V),r(l)===null&&V===r(h)&&(y?(f(b),b=-1):y=!0,Q(_,P-O))):(V.sortIndex=j,t(l,V),C||w||(C=!0,z(R))),V},e.unstable_shouldYield=W,e.unstable_wrapCallback=function(V){var M=m;return function(){var P=m;m=M;try{return V.apply(this,arguments)}finally{m=P}}}})(Q_);q_.exports=Q_;var cR=q_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hR=G,Pr=cR;function fe(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var X_=new Set,jo={};function Xi(e,t){Ps(e,t),Ps(e+"Capture",t)}function Ps(e,t){for(jo[e]=t,e=0;e<t.length;e++)X_.add(t[e])}var Nn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Lh=Object.prototype.hasOwnProperty,fR=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,cg={},hg={};function dR(e){return Lh.call(hg,e)?!0:Lh.call(cg,e)?!1:fR.test(e)?hg[e]=!0:(cg[e]=!0,!1)}function pR(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function vR(e,t,r,n){if(t===null||typeof t>"u"||pR(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function nr(e,t,r,n,i,s,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var Bt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Bt[e]=new nr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Bt[t]=new nr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Bt[e]=new nr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Bt[e]=new nr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Bt[e]=new nr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Bt[e]=new nr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Bt[e]=new nr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Bt[e]=new nr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Bt[e]=new nr(e,5,!1,e.toLowerCase(),null,!1,!1)});var md=/[\-:]([a-z])/g;function yd(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(md,yd);Bt[t]=new nr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(md,yd);Bt[t]=new nr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(md,yd);Bt[t]=new nr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Bt[e]=new nr(e,1,!1,e.toLowerCase(),null,!1,!1)});Bt.xlinkHref=new nr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Bt[e]=new nr(e,1,!1,e.toLowerCase(),null,!0,!0)});function _d(e,t,r,n){var i=Bt.hasOwnProperty(t)?Bt[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(vR(t,r,i,n)&&(r=null),n||i===null?dR(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var jn=hR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ra=Symbol.for("react.element"),is=Symbol.for("react.portal"),ss=Symbol.for("react.fragment"),Sd=Symbol.for("react.strict_mode"),Ah=Symbol.for("react.profiler"),J_=Symbol.for("react.provider"),Y_=Symbol.for("react.context"),Cd=Symbol.for("react.forward_ref"),Mh=Symbol.for("react.suspense"),Ph=Symbol.for("react.suspense_list"),wd=Symbol.for("react.memo"),Xn=Symbol.for("react.lazy"),Z_=Symbol.for("react.offscreen"),fg=Symbol.iterator;function to(e){return e===null||typeof e!="object"?null:(e=fg&&e[fg]||e["@@iterator"],typeof e=="function"?e:null)}var ut=Object.assign,Oc;function mo(e){if(Oc===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Oc=t&&t[1]||""}return`
`+Oc+e}var Ic=!1;function Dc(e,t){if(!e||Ic)return"";Ic=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(h){var n=h}Reflect.construct(e,[],t)}else{try{t.call()}catch(h){n=h}e.call(t.prototype)}else{try{throw Error()}catch(h){n=h}e()}}catch(h){if(h&&n&&typeof h.stack=="string"){for(var i=h.stack.split(`
`),s=n.stack.split(`
`),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||i[a]!==s[o]){var l=`
`+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=a&&0<=o);break}}}finally{Ic=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?mo(e):""}function gR(e){switch(e.tag){case 5:return mo(e.type);case 16:return mo("Lazy");case 13:return mo("Suspense");case 19:return mo("SuspenseList");case 0:case 2:case 15:return e=Dc(e.type,!1),e;case 11:return e=Dc(e.type.render,!1),e;case 1:return e=Dc(e.type,!0),e;default:return""}}function Oh(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ss:return"Fragment";case is:return"Portal";case Ah:return"Profiler";case Sd:return"StrictMode";case Mh:return"Suspense";case Ph:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Y_:return(e.displayName||"Context")+".Consumer";case J_:return(e._context.displayName||"Context")+".Provider";case Cd:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case wd:return t=e.displayName||null,t!==null?t:Oh(e.type)||"Memo";case Xn:t=e._payload,e=e._init;try{return Oh(e(t))}catch{}}return null}function mR(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Oh(t);case 8:return t===Sd?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function vi(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function e0(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function yR(e){var t=e0(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(a){n=""+a,s.call(this,a)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ta(e){e._valueTracker||(e._valueTracker=yR(e))}function t0(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=e0(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Hl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ih(e,t){var r=t.checked;return ut({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function dg(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=vi(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function r0(e,t){t=t.checked,t!=null&&_d(e,"checked",t,!1)}function Dh(e,t){r0(e,t);var r=vi(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Bh(e,t.type,r):t.hasOwnProperty("defaultValue")&&Bh(e,t.type,vi(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function pg(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Bh(e,t,r){(t!=="number"||Hl(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var yo=Array.isArray;function Ss(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+vi(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Fh(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(fe(91));return ut({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function vg(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(fe(92));if(yo(r)){if(1<r.length)throw Error(fe(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:vi(r)}}function n0(e,t){var r=vi(t.value),n=vi(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function gg(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function i0(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Nh(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?i0(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var La,s0=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(La=La||document.createElement("div"),La.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=La.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Wo(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var bo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_R=["Webkit","ms","Moz","O"];Object.keys(bo).forEach(function(e){_R.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),bo[t]=bo[e]})});function o0(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||bo.hasOwnProperty(e)&&bo[e]?(""+t).trim():t+"px"}function a0(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=o0(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var SR=ut({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function $h(e,t){if(t){if(SR[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(fe(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(fe(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(fe(61))}if(t.style!=null&&typeof t.style!="object")throw Error(fe(62))}}function Hh(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Uh=null;function kd(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var jh=null,Cs=null,ws=null;function mg(e){if(e=va(e)){if(typeof jh!="function")throw Error(fe(280));var t=e.stateNode;t&&(t=Xu(t),jh(e.stateNode,e.type,t))}}function l0(e){Cs?ws?ws.push(e):ws=[e]:Cs=e}function u0(){if(Cs){var e=Cs,t=ws;if(ws=Cs=null,mg(e),t)for(e=0;e<t.length;e++)mg(t[e])}}function c0(e,t){return e(t)}function h0(){}var Bc=!1;function f0(e,t,r){if(Bc)return e(t,r);Bc=!0;try{return c0(e,t,r)}finally{Bc=!1,(Cs!==null||ws!==null)&&(h0(),u0())}}function zo(e,t){var r=e.stateNode;if(r===null)return null;var n=Xu(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(fe(231,t,typeof r));return r}var Wh=!1;if(Nn)try{var ro={};Object.defineProperty(ro,"passive",{get:function(){Wh=!0}}),window.addEventListener("test",ro,ro),window.removeEventListener("test",ro,ro)}catch{Wh=!1}function CR(e,t,r,n,i,s,a,o,l){var h=Array.prototype.slice.call(arguments,3);try{t.apply(r,h)}catch(g){this.onError(g)}}var xo=!1,Ul=null,jl=!1,zh=null,wR={onError:function(e){xo=!0,Ul=e}};function kR(e,t,r,n,i,s,a,o,l){xo=!1,Ul=null,CR.apply(wR,arguments)}function bR(e,t,r,n,i,s,a,o,l){if(kR.apply(this,arguments),xo){if(xo){var h=Ul;xo=!1,Ul=null}else throw Error(fe(198));jl||(jl=!0,zh=h)}}function Ji(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function d0(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function yg(e){if(Ji(e)!==e)throw Error(fe(188))}function xR(e){var t=e.alternate;if(!t){if(t=Ji(e),t===null)throw Error(fe(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return yg(i),e;if(s===n)return yg(i),t;s=s.sibling}throw Error(fe(188))}if(r.return!==n.return)r=i,n=s;else{for(var a=!1,o=i.child;o;){if(o===r){a=!0,r=i,n=s;break}if(o===n){a=!0,n=i,r=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===r){a=!0,r=s,n=i;break}if(o===n){a=!0,n=s,r=i;break}o=o.sibling}if(!a)throw Error(fe(189))}}if(r.alternate!==n)throw Error(fe(190))}if(r.tag!==3)throw Error(fe(188));return r.stateNode.current===r?e:t}function p0(e){return e=xR(e),e!==null?v0(e):null}function v0(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=v0(e);if(t!==null)return t;e=e.sibling}return null}var g0=Pr.unstable_scheduleCallback,_g=Pr.unstable_cancelCallback,ER=Pr.unstable_shouldYield,RR=Pr.unstable_requestPaint,vt=Pr.unstable_now,TR=Pr.unstable_getCurrentPriorityLevel,bd=Pr.unstable_ImmediatePriority,m0=Pr.unstable_UserBlockingPriority,Wl=Pr.unstable_NormalPriority,LR=Pr.unstable_LowPriority,y0=Pr.unstable_IdlePriority,Vu=null,kn=null;function AR(e){if(kn&&typeof kn.onCommitFiberRoot=="function")try{kn.onCommitFiberRoot(Vu,e,void 0,(e.current.flags&128)===128)}catch{}}var tn=Math.clz32?Math.clz32:OR,MR=Math.log,PR=Math.LN2;function OR(e){return e>>>=0,e===0?32:31-(MR(e)/PR|0)|0}var Aa=64,Ma=4194304;function _o(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function zl(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,s=e.pingedLanes,a=r&268435455;if(a!==0){var o=a&~i;o!==0?n=_o(o):(s&=a,s!==0&&(n=_o(s)))}else a=r&~i,a!==0?n=_o(a):s!==0&&(n=_o(s));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-tn(t),i=1<<r,n|=e[r],t&=~i;return n}function IR(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function DR(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-tn(s),o=1<<a,l=i[a];l===-1?(!(o&r)||o&n)&&(i[a]=IR(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}}function Kh(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function _0(){var e=Aa;return Aa<<=1,!(Aa&4194240)&&(Aa=64),e}function Fc(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function da(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-tn(t),e[t]=r}function BR(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-tn(r),s=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~s}}function xd(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-tn(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var ze=0;function S0(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var C0,Ed,w0,k0,b0,Vh=!1,Pa=[],ai=null,li=null,ui=null,Ko=new Map,Vo=new Map,Zn=[],FR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sg(e,t){switch(e){case"focusin":case"focusout":ai=null;break;case"dragenter":case"dragleave":li=null;break;case"mouseover":case"mouseout":ui=null;break;case"pointerover":case"pointerout":Ko.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vo.delete(t.pointerId)}}function no(e,t,r,n,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},t!==null&&(t=va(t),t!==null&&Ed(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function NR(e,t,r,n,i){switch(t){case"focusin":return ai=no(ai,e,t,r,n,i),!0;case"dragenter":return li=no(li,e,t,r,n,i),!0;case"mouseover":return ui=no(ui,e,t,r,n,i),!0;case"pointerover":var s=i.pointerId;return Ko.set(s,no(Ko.get(s)||null,e,t,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,Vo.set(s,no(Vo.get(s)||null,e,t,r,n,i)),!0}return!1}function x0(e){var t=Bi(e.target);if(t!==null){var r=Ji(t);if(r!==null){if(t=r.tag,t===13){if(t=d0(r),t!==null){e.blockedOn=t,b0(e.priority,function(){w0(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function hl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Gh(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Uh=n,r.target.dispatchEvent(n),Uh=null}else return t=va(r),t!==null&&Ed(t),e.blockedOn=r,!1;t.shift()}return!0}function Cg(e,t,r){hl(e)&&r.delete(t)}function $R(){Vh=!1,ai!==null&&hl(ai)&&(ai=null),li!==null&&hl(li)&&(li=null),ui!==null&&hl(ui)&&(ui=null),Ko.forEach(Cg),Vo.forEach(Cg)}function io(e,t){e.blockedOn===t&&(e.blockedOn=null,Vh||(Vh=!0,Pr.unstable_scheduleCallback(Pr.unstable_NormalPriority,$R)))}function Go(e){function t(i){return io(i,e)}if(0<Pa.length){io(Pa[0],e);for(var r=1;r<Pa.length;r++){var n=Pa[r];n.blockedOn===e&&(n.blockedOn=null)}}for(ai!==null&&io(ai,e),li!==null&&io(li,e),ui!==null&&io(ui,e),Ko.forEach(t),Vo.forEach(t),r=0;r<Zn.length;r++)n=Zn[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Zn.length&&(r=Zn[0],r.blockedOn===null);)x0(r),r.blockedOn===null&&Zn.shift()}var ks=jn.ReactCurrentBatchConfig,Kl=!0;function HR(e,t,r,n){var i=ze,s=ks.transition;ks.transition=null;try{ze=1,Rd(e,t,r,n)}finally{ze=i,ks.transition=s}}function UR(e,t,r,n){var i=ze,s=ks.transition;ks.transition=null;try{ze=4,Rd(e,t,r,n)}finally{ze=i,ks.transition=s}}function Rd(e,t,r,n){if(Kl){var i=Gh(e,t,r,n);if(i===null)Gc(e,t,n,Vl,r),Sg(e,n);else if(NR(i,e,t,r,n))n.stopPropagation();else if(Sg(e,n),t&4&&-1<FR.indexOf(e)){for(;i!==null;){var s=va(i);if(s!==null&&C0(s),s=Gh(e,t,r,n),s===null&&Gc(e,t,n,Vl,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else Gc(e,t,n,null,r)}}var Vl=null;function Gh(e,t,r,n){if(Vl=null,e=kd(n),e=Bi(e),e!==null)if(t=Ji(e),t===null)e=null;else if(r=t.tag,r===13){if(e=d0(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Vl=e,null}function E0(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(TR()){case bd:return 1;case m0:return 4;case Wl:case LR:return 16;case y0:return 536870912;default:return 16}default:return 16}}var ni=null,Td=null,fl=null;function R0(){if(fl)return fl;var e,t=Td,r=t.length,n,i="value"in ni?ni.value:ni.textContent,s=i.length;for(e=0;e<r&&t[e]===i[e];e++);var a=r-e;for(n=1;n<=a&&t[r-n]===i[s-n];n++);return fl=i.slice(e,1<n?1-n:void 0)}function dl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Oa(){return!0}function wg(){return!1}function Dr(e){function t(r,n,i,s,a){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Oa:wg,this.isPropagationStopped=wg,this}return ut(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Oa)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Oa)},persist:function(){},isPersistent:Oa}),t}var Vs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ld=Dr(Vs),pa=ut({},Vs,{view:0,detail:0}),jR=Dr(pa),Nc,$c,so,Gu=ut({},pa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ad,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==so&&(so&&e.type==="mousemove"?(Nc=e.screenX-so.screenX,$c=e.screenY-so.screenY):$c=Nc=0,so=e),Nc)},movementY:function(e){return"movementY"in e?e.movementY:$c}}),kg=Dr(Gu),WR=ut({},Gu,{dataTransfer:0}),zR=Dr(WR),KR=ut({},pa,{relatedTarget:0}),Hc=Dr(KR),VR=ut({},Vs,{animationName:0,elapsedTime:0,pseudoElement:0}),GR=Dr(VR),qR=ut({},Vs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),QR=Dr(qR),XR=ut({},Vs,{data:0}),bg=Dr(XR),JR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},YR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ZR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function eT(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=ZR[e])?!!t[e]:!1}function Ad(){return eT}var tT=ut({},pa,{key:function(e){if(e.key){var t=JR[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=dl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?YR[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ad,charCode:function(e){return e.type==="keypress"?dl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?dl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),rT=Dr(tT),nT=ut({},Gu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xg=Dr(nT),iT=ut({},pa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ad}),sT=Dr(iT),oT=ut({},Vs,{propertyName:0,elapsedTime:0,pseudoElement:0}),aT=Dr(oT),lT=ut({},Gu,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),uT=Dr(lT),cT=[9,13,27,32],Md=Nn&&"CompositionEvent"in window,Eo=null;Nn&&"documentMode"in document&&(Eo=document.documentMode);var hT=Nn&&"TextEvent"in window&&!Eo,T0=Nn&&(!Md||Eo&&8<Eo&&11>=Eo),Eg=" ",Rg=!1;function L0(e,t){switch(e){case"keyup":return cT.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function A0(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var os=!1;function fT(e,t){switch(e){case"compositionend":return A0(t);case"keypress":return t.which!==32?null:(Rg=!0,Eg);case"textInput":return e=t.data,e===Eg&&Rg?null:e;default:return null}}function dT(e,t){if(os)return e==="compositionend"||!Md&&L0(e,t)?(e=R0(),fl=Td=ni=null,os=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return T0&&t.locale!=="ko"?null:t.data;default:return null}}var pT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Tg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!pT[e.type]:t==="textarea"}function M0(e,t,r,n){l0(n),t=Gl(t,"onChange"),0<t.length&&(r=new Ld("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Ro=null,qo=null;function vT(e){j0(e,0)}function qu(e){var t=us(e);if(t0(t))return e}function gT(e,t){if(e==="change")return t}var P0=!1;if(Nn){var Uc;if(Nn){var jc="oninput"in document;if(!jc){var Lg=document.createElement("div");Lg.setAttribute("oninput","return;"),jc=typeof Lg.oninput=="function"}Uc=jc}else Uc=!1;P0=Uc&&(!document.documentMode||9<document.documentMode)}function Ag(){Ro&&(Ro.detachEvent("onpropertychange",O0),qo=Ro=null)}function O0(e){if(e.propertyName==="value"&&qu(qo)){var t=[];M0(t,qo,e,kd(e)),f0(vT,t)}}function mT(e,t,r){e==="focusin"?(Ag(),Ro=t,qo=r,Ro.attachEvent("onpropertychange",O0)):e==="focusout"&&Ag()}function yT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return qu(qo)}function _T(e,t){if(e==="click")return qu(t)}function ST(e,t){if(e==="input"||e==="change")return qu(t)}function CT(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var nn=typeof Object.is=="function"?Object.is:CT;function Qo(e,t){if(nn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!Lh.call(t,i)||!nn(e[i],t[i]))return!1}return!0}function Mg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Pg(e,t){var r=Mg(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Mg(r)}}function I0(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?I0(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function D0(){for(var e=window,t=Hl();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Hl(e.document)}return t}function Pd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function wT(e){var t=D0(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&I0(r.ownerDocument.documentElement,r)){if(n!==null&&Pd(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!e.extend&&s>n&&(i=n,n=s,s=i),i=Pg(r,s);var a=Pg(r,n);i&&a&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>n?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var kT=Nn&&"documentMode"in document&&11>=document.documentMode,as=null,qh=null,To=null,Qh=!1;function Og(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Qh||as==null||as!==Hl(n)||(n=as,"selectionStart"in n&&Pd(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),To&&Qo(To,n)||(To=n,n=Gl(qh,"onSelect"),0<n.length&&(t=new Ld("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=as)))}function Ia(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var ls={animationend:Ia("Animation","AnimationEnd"),animationiteration:Ia("Animation","AnimationIteration"),animationstart:Ia("Animation","AnimationStart"),transitionend:Ia("Transition","TransitionEnd")},Wc={},B0={};Nn&&(B0=document.createElement("div").style,"AnimationEvent"in window||(delete ls.animationend.animation,delete ls.animationiteration.animation,delete ls.animationstart.animation),"TransitionEvent"in window||delete ls.transitionend.transition);function Qu(e){if(Wc[e])return Wc[e];if(!ls[e])return e;var t=ls[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in B0)return Wc[e]=t[r];return e}var F0=Qu("animationend"),N0=Qu("animationiteration"),$0=Qu("animationstart"),H0=Qu("transitionend"),U0=new Map,Ig="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _i(e,t){U0.set(e,t),Xi(t,[e])}for(var zc=0;zc<Ig.length;zc++){var Kc=Ig[zc],bT=Kc.toLowerCase(),xT=Kc[0].toUpperCase()+Kc.slice(1);_i(bT,"on"+xT)}_i(F0,"onAnimationEnd");_i(N0,"onAnimationIteration");_i($0,"onAnimationStart");_i("dblclick","onDoubleClick");_i("focusin","onFocus");_i("focusout","onBlur");_i(H0,"onTransitionEnd");Ps("onMouseEnter",["mouseout","mouseover"]);Ps("onMouseLeave",["mouseout","mouseover"]);Ps("onPointerEnter",["pointerout","pointerover"]);Ps("onPointerLeave",["pointerout","pointerover"]);Xi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Xi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Xi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Xi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Xi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Xi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var So="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ET=new Set("cancel close invalid load scroll toggle".split(" ").concat(So));function Dg(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,bR(n,t,void 0,e),e.currentTarget=null}function j0(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var s=void 0;if(t)for(var a=n.length-1;0<=a;a--){var o=n[a],l=o.instance,h=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;Dg(i,o,h),s=l}else for(a=0;a<n.length;a++){if(o=n[a],l=o.instance,h=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;Dg(i,o,h),s=l}}}if(jl)throw e=zh,jl=!1,zh=null,e}function nt(e,t){var r=t[ef];r===void 0&&(r=t[ef]=new Set);var n=e+"__bubble";r.has(n)||(W0(t,e,2,!1),r.add(n))}function Vc(e,t,r){var n=0;t&&(n|=4),W0(r,e,n,t)}var Da="_reactListening"+Math.random().toString(36).slice(2);function Xo(e){if(!e[Da]){e[Da]=!0,X_.forEach(function(r){r!=="selectionchange"&&(ET.has(r)||Vc(r,!1,e),Vc(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Da]||(t[Da]=!0,Vc("selectionchange",!1,t))}}function W0(e,t,r,n){switch(E0(t)){case 1:var i=HR;break;case 4:i=UR;break;default:i=Rd}r=i.bind(null,t,r,e),i=void 0,!Wh||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function Gc(e,t,r,n,i){var s=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var o=n.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(a===4)for(a=n.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;o!==null;){if(a=Bi(o),a===null)return;if(l=a.tag,l===5||l===6){n=s=a;continue e}o=o.parentNode}}n=n.return}f0(function(){var h=s,g=kd(r),p=[];e:{var m=U0.get(e);if(m!==void 0){var w=Ld,C=e;switch(e){case"keypress":if(dl(r)===0)break e;case"keydown":case"keyup":w=rT;break;case"focusin":C="focus",w=Hc;break;case"focusout":C="blur",w=Hc;break;case"beforeblur":case"afterblur":w=Hc;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=kg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=zR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=sT;break;case F0:case N0:case $0:w=GR;break;case H0:w=aT;break;case"scroll":w=jR;break;case"wheel":w=uT;break;case"copy":case"cut":case"paste":w=QR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=xg}var y=(t&4)!==0,v=!y&&e==="scroll",f=y?m!==null?m+"Capture":null:m;y=[];for(var u=h,d;u!==null;){d=u;var _=d.stateNode;if(d.tag===5&&_!==null&&(d=_,f!==null&&(_=zo(u,f),_!=null&&y.push(Jo(u,_,d)))),v)break;u=u.return}0<y.length&&(m=new w(m,C,null,r,g),p.push({event:m,listeners:y}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",w=e==="mouseout"||e==="pointerout",m&&r!==Uh&&(C=r.relatedTarget||r.fromElement)&&(Bi(C)||C[$n]))break e;if((w||m)&&(m=g.window===g?g:(m=g.ownerDocument)?m.defaultView||m.parentWindow:window,w?(C=r.relatedTarget||r.toElement,w=h,C=C?Bi(C):null,C!==null&&(v=Ji(C),C!==v||C.tag!==5&&C.tag!==6)&&(C=null)):(w=null,C=h),w!==C)){if(y=kg,_="onMouseLeave",f="onMouseEnter",u="mouse",(e==="pointerout"||e==="pointerover")&&(y=xg,_="onPointerLeave",f="onPointerEnter",u="pointer"),v=w==null?m:us(w),d=C==null?m:us(C),m=new y(_,u+"leave",w,r,g),m.target=v,m.relatedTarget=d,_=null,Bi(g)===h&&(y=new y(f,u+"enter",C,r,g),y.target=d,y.relatedTarget=v,_=y),v=_,w&&C)t:{for(y=w,f=C,u=0,d=y;d;d=Zi(d))u++;for(d=0,_=f;_;_=Zi(_))d++;for(;0<u-d;)y=Zi(y),u--;for(;0<d-u;)f=Zi(f),d--;for(;u--;){if(y===f||f!==null&&y===f.alternate)break t;y=Zi(y),f=Zi(f)}y=null}else y=null;w!==null&&Bg(p,m,w,y,!1),C!==null&&v!==null&&Bg(p,v,C,y,!0)}}e:{if(m=h?us(h):window,w=m.nodeName&&m.nodeName.toLowerCase(),w==="select"||w==="input"&&m.type==="file")var R=gT;else if(Tg(m))if(P0)R=ST;else{R=yT;var E=mT}else(w=m.nodeName)&&w.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(R=_T);if(R&&(R=R(e,h))){M0(p,R,r,g);break e}E&&E(e,m,h),e==="focusout"&&(E=m._wrapperState)&&E.controlled&&m.type==="number"&&Bh(m,"number",m.value)}switch(E=h?us(h):window,e){case"focusin":(Tg(E)||E.contentEditable==="true")&&(as=E,qh=h,To=null);break;case"focusout":To=qh=as=null;break;case"mousedown":Qh=!0;break;case"contextmenu":case"mouseup":case"dragend":Qh=!1,Og(p,r,g);break;case"selectionchange":if(kT)break;case"keydown":case"keyup":Og(p,r,g)}var L;if(Md)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else os?L0(e,r)&&(b="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(b="onCompositionStart");b&&(T0&&r.locale!=="ko"&&(os||b!=="onCompositionStart"?b==="onCompositionEnd"&&os&&(L=R0()):(ni=g,Td="value"in ni?ni.value:ni.textContent,os=!0)),E=Gl(h,b),0<E.length&&(b=new bg(b,e,null,r,g),p.push({event:b,listeners:E}),L?b.data=L:(L=A0(r),L!==null&&(b.data=L)))),(L=hT?fT(e,r):dT(e,r))&&(h=Gl(h,"onBeforeInput"),0<h.length&&(g=new bg("onBeforeInput","beforeinput",null,r,g),p.push({event:g,listeners:h}),g.data=L))}j0(p,t)})}function Jo(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Gl(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=zo(e,r),s!=null&&n.unshift(Jo(e,s,i)),s=zo(e,t),s!=null&&n.push(Jo(e,s,i))),e=e.return}return n}function Zi(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Bg(e,t,r,n,i){for(var s=t._reactName,a=[];r!==null&&r!==n;){var o=r,l=o.alternate,h=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&h!==null&&(o=h,i?(l=zo(r,s),l!=null&&a.unshift(Jo(r,l,o))):i||(l=zo(r,s),l!=null&&a.push(Jo(r,l,o)))),r=r.return}a.length!==0&&e.push({event:t,listeners:a})}var RT=/\r\n?/g,TT=/\u0000|\uFFFD/g;function Fg(e){return(typeof e=="string"?e:""+e).replace(RT,`
`).replace(TT,"")}function Ba(e,t,r){if(t=Fg(t),Fg(e)!==t&&r)throw Error(fe(425))}function ql(){}var Xh=null,Jh=null;function Yh(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Zh=typeof setTimeout=="function"?setTimeout:void 0,LT=typeof clearTimeout=="function"?clearTimeout:void 0,Ng=typeof Promise=="function"?Promise:void 0,AT=typeof queueMicrotask=="function"?queueMicrotask:typeof Ng<"u"?function(e){return Ng.resolve(null).then(e).catch(MT)}:Zh;function MT(e){setTimeout(function(){throw e})}function qc(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),Go(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Go(t)}function ci(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function $g(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Gs=Math.random().toString(36).slice(2),Cn="__reactFiber$"+Gs,Yo="__reactProps$"+Gs,$n="__reactContainer$"+Gs,ef="__reactEvents$"+Gs,PT="__reactListeners$"+Gs,OT="__reactHandles$"+Gs;function Bi(e){var t=e[Cn];if(t)return t;for(var r=e.parentNode;r;){if(t=r[$n]||r[Cn]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=$g(e);e!==null;){if(r=e[Cn])return r;e=$g(e)}return t}e=r,r=e.parentNode}return null}function va(e){return e=e[Cn]||e[$n],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function us(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(fe(33))}function Xu(e){return e[Yo]||null}var tf=[],cs=-1;function Si(e){return{current:e}}function st(e){0>cs||(e.current=tf[cs],tf[cs]=null,cs--)}function et(e,t){cs++,tf[cs]=e.current,e.current=t}var gi={},Kt=Si(gi),dr=Si(!1),Wi=gi;function Os(e,t){var r=e.type.contextTypes;if(!r)return gi;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=t[s];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function pr(e){return e=e.childContextTypes,e!=null}function Ql(){st(dr),st(Kt)}function Hg(e,t,r){if(Kt.current!==gi)throw Error(fe(168));et(Kt,t),et(dr,r)}function z0(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(fe(108,mR(e)||"Unknown",i));return ut({},r,n)}function Xl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||gi,Wi=Kt.current,et(Kt,e),et(dr,dr.current),!0}function Ug(e,t,r){var n=e.stateNode;if(!n)throw Error(fe(169));r?(e=z0(e,t,Wi),n.__reactInternalMemoizedMergedChildContext=e,st(dr),st(Kt),et(Kt,e)):st(dr),et(dr,r)}var Pn=null,Ju=!1,Qc=!1;function K0(e){Pn===null?Pn=[e]:Pn.push(e)}function IT(e){Ju=!0,K0(e)}function Ci(){if(!Qc&&Pn!==null){Qc=!0;var e=0,t=ze;try{var r=Pn;for(ze=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Pn=null,Ju=!1}catch(i){throw Pn!==null&&(Pn=Pn.slice(e+1)),g0(bd,Ci),i}finally{ze=t,Qc=!1}}return null}var hs=[],fs=0,Jl=null,Yl=0,Hr=[],Ur=0,zi=null,On=1,In="";function Ri(e,t){hs[fs++]=Yl,hs[fs++]=Jl,Jl=e,Yl=t}function V0(e,t,r){Hr[Ur++]=On,Hr[Ur++]=In,Hr[Ur++]=zi,zi=e;var n=On;e=In;var i=32-tn(n)-1;n&=~(1<<i),r+=1;var s=32-tn(t)+i;if(30<s){var a=i-i%5;s=(n&(1<<a)-1).toString(32),n>>=a,i-=a,On=1<<32-tn(t)+i|r<<i|n,In=s+e}else On=1<<s|r<<i|n,In=e}function Od(e){e.return!==null&&(Ri(e,1),V0(e,1,0))}function Id(e){for(;e===Jl;)Jl=hs[--fs],hs[fs]=null,Yl=hs[--fs],hs[fs]=null;for(;e===zi;)zi=Hr[--Ur],Hr[Ur]=null,In=Hr[--Ur],Hr[Ur]=null,On=Hr[--Ur],Hr[Ur]=null}var Mr=null,Tr=null,ot=!1,Zr=null;function G0(e,t){var r=Wr(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function jg(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Mr=e,Tr=ci(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Mr=e,Tr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=zi!==null?{id:On,overflow:In}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Wr(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Mr=e,Tr=null,!0):!1;default:return!1}}function rf(e){return(e.mode&1)!==0&&(e.flags&128)===0}function nf(e){if(ot){var t=Tr;if(t){var r=t;if(!jg(e,t)){if(rf(e))throw Error(fe(418));t=ci(r.nextSibling);var n=Mr;t&&jg(e,t)?G0(n,r):(e.flags=e.flags&-4097|2,ot=!1,Mr=e)}}else{if(rf(e))throw Error(fe(418));e.flags=e.flags&-4097|2,ot=!1,Mr=e}}}function Wg(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Mr=e}function Fa(e){if(e!==Mr)return!1;if(!ot)return Wg(e),ot=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Yh(e.type,e.memoizedProps)),t&&(t=Tr)){if(rf(e))throw q0(),Error(fe(418));for(;t;)G0(e,t),t=ci(t.nextSibling)}if(Wg(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(fe(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Tr=ci(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Tr=null}}else Tr=Mr?ci(e.stateNode.nextSibling):null;return!0}function q0(){for(var e=Tr;e;)e=ci(e.nextSibling)}function Is(){Tr=Mr=null,ot=!1}function Dd(e){Zr===null?Zr=[e]:Zr.push(e)}var DT=jn.ReactCurrentBatchConfig;function oo(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(fe(309));var n=r.stateNode}if(!n)throw Error(fe(147,e));var i=n,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(a){var o=i.refs;a===null?delete o[s]:o[s]=a},t._stringRef=s,t)}if(typeof e!="string")throw Error(fe(284));if(!r._owner)throw Error(fe(290,e))}return e}function Na(e,t){throw e=Object.prototype.toString.call(t),Error(fe(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function zg(e){var t=e._init;return t(e._payload)}function Q0(e){function t(f,u){if(e){var d=f.deletions;d===null?(f.deletions=[u],f.flags|=16):d.push(u)}}function r(f,u){if(!e)return null;for(;u!==null;)t(f,u),u=u.sibling;return null}function n(f,u){for(f=new Map;u!==null;)u.key!==null?f.set(u.key,u):f.set(u.index,u),u=u.sibling;return f}function i(f,u){return f=pi(f,u),f.index=0,f.sibling=null,f}function s(f,u,d){return f.index=d,e?(d=f.alternate,d!==null?(d=d.index,d<u?(f.flags|=2,u):d):(f.flags|=2,u)):(f.flags|=1048576,u)}function a(f){return e&&f.alternate===null&&(f.flags|=2),f}function o(f,u,d,_){return u===null||u.tag!==6?(u=rh(d,f.mode,_),u.return=f,u):(u=i(u,d),u.return=f,u)}function l(f,u,d,_){var R=d.type;return R===ss?g(f,u,d.props.children,_,d.key):u!==null&&(u.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===Xn&&zg(R)===u.type)?(_=i(u,d.props),_.ref=oo(f,u,d),_.return=f,_):(_=Sl(d.type,d.key,d.props,null,f.mode,_),_.ref=oo(f,u,d),_.return=f,_)}function h(f,u,d,_){return u===null||u.tag!==4||u.stateNode.containerInfo!==d.containerInfo||u.stateNode.implementation!==d.implementation?(u=nh(d,f.mode,_),u.return=f,u):(u=i(u,d.children||[]),u.return=f,u)}function g(f,u,d,_,R){return u===null||u.tag!==7?(u=Ui(d,f.mode,_,R),u.return=f,u):(u=i(u,d),u.return=f,u)}function p(f,u,d){if(typeof u=="string"&&u!==""||typeof u=="number")return u=rh(""+u,f.mode,d),u.return=f,u;if(typeof u=="object"&&u!==null){switch(u.$$typeof){case Ra:return d=Sl(u.type,u.key,u.props,null,f.mode,d),d.ref=oo(f,null,u),d.return=f,d;case is:return u=nh(u,f.mode,d),u.return=f,u;case Xn:var _=u._init;return p(f,_(u._payload),d)}if(yo(u)||to(u))return u=Ui(u,f.mode,d,null),u.return=f,u;Na(f,u)}return null}function m(f,u,d,_){var R=u!==null?u.key:null;if(typeof d=="string"&&d!==""||typeof d=="number")return R!==null?null:o(f,u,""+d,_);if(typeof d=="object"&&d!==null){switch(d.$$typeof){case Ra:return d.key===R?l(f,u,d,_):null;case is:return d.key===R?h(f,u,d,_):null;case Xn:return R=d._init,m(f,u,R(d._payload),_)}if(yo(d)||to(d))return R!==null?null:g(f,u,d,_,null);Na(f,d)}return null}function w(f,u,d,_,R){if(typeof _=="string"&&_!==""||typeof _=="number")return f=f.get(d)||null,o(u,f,""+_,R);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Ra:return f=f.get(_.key===null?d:_.key)||null,l(u,f,_,R);case is:return f=f.get(_.key===null?d:_.key)||null,h(u,f,_,R);case Xn:var E=_._init;return w(f,u,d,E(_._payload),R)}if(yo(_)||to(_))return f=f.get(d)||null,g(u,f,_,R,null);Na(u,_)}return null}function C(f,u,d,_){for(var R=null,E=null,L=u,b=u=0,I=null;L!==null&&b<d.length;b++){L.index>b?(I=L,L=null):I=L.sibling;var U=m(f,L,d[b],_);if(U===null){L===null&&(L=I);break}e&&L&&U.alternate===null&&t(f,L),u=s(U,u,b),E===null?R=U:E.sibling=U,E=U,L=I}if(b===d.length)return r(f,L),ot&&Ri(f,b),R;if(L===null){for(;b<d.length;b++)L=p(f,d[b],_),L!==null&&(u=s(L,u,b),E===null?R=L:E.sibling=L,E=L);return ot&&Ri(f,b),R}for(L=n(f,L);b<d.length;b++)I=w(L,f,b,d[b],_),I!==null&&(e&&I.alternate!==null&&L.delete(I.key===null?b:I.key),u=s(I,u,b),E===null?R=I:E.sibling=I,E=I);return e&&L.forEach(function(W){return t(f,W)}),ot&&Ri(f,b),R}function y(f,u,d,_){var R=to(d);if(typeof R!="function")throw Error(fe(150));if(d=R.call(d),d==null)throw Error(fe(151));for(var E=R=null,L=u,b=u=0,I=null,U=d.next();L!==null&&!U.done;b++,U=d.next()){L.index>b?(I=L,L=null):I=L.sibling;var W=m(f,L,U.value,_);if(W===null){L===null&&(L=I);break}e&&L&&W.alternate===null&&t(f,L),u=s(W,u,b),E===null?R=W:E.sibling=W,E=W,L=I}if(U.done)return r(f,L),ot&&Ri(f,b),R;if(L===null){for(;!U.done;b++,U=d.next())U=p(f,U.value,_),U!==null&&(u=s(U,u,b),E===null?R=U:E.sibling=U,E=U);return ot&&Ri(f,b),R}for(L=n(f,L);!U.done;b++,U=d.next())U=w(L,f,b,U.value,_),U!==null&&(e&&U.alternate!==null&&L.delete(U.key===null?b:U.key),u=s(U,u,b),E===null?R=U:E.sibling=U,E=U);return e&&L.forEach(function(Y){return t(f,Y)}),ot&&Ri(f,b),R}function v(f,u,d,_){if(typeof d=="object"&&d!==null&&d.type===ss&&d.key===null&&(d=d.props.children),typeof d=="object"&&d!==null){switch(d.$$typeof){case Ra:e:{for(var R=d.key,E=u;E!==null;){if(E.key===R){if(R=d.type,R===ss){if(E.tag===7){r(f,E.sibling),u=i(E,d.props.children),u.return=f,f=u;break e}}else if(E.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===Xn&&zg(R)===E.type){r(f,E.sibling),u=i(E,d.props),u.ref=oo(f,E,d),u.return=f,f=u;break e}r(f,E);break}else t(f,E);E=E.sibling}d.type===ss?(u=Ui(d.props.children,f.mode,_,d.key),u.return=f,f=u):(_=Sl(d.type,d.key,d.props,null,f.mode,_),_.ref=oo(f,u,d),_.return=f,f=_)}return a(f);case is:e:{for(E=d.key;u!==null;){if(u.key===E)if(u.tag===4&&u.stateNode.containerInfo===d.containerInfo&&u.stateNode.implementation===d.implementation){r(f,u.sibling),u=i(u,d.children||[]),u.return=f,f=u;break e}else{r(f,u);break}else t(f,u);u=u.sibling}u=nh(d,f.mode,_),u.return=f,f=u}return a(f);case Xn:return E=d._init,v(f,u,E(d._payload),_)}if(yo(d))return C(f,u,d,_);if(to(d))return y(f,u,d,_);Na(f,d)}return typeof d=="string"&&d!==""||typeof d=="number"?(d=""+d,u!==null&&u.tag===6?(r(f,u.sibling),u=i(u,d),u.return=f,f=u):(r(f,u),u=rh(d,f.mode,_),u.return=f,f=u),a(f)):r(f,u)}return v}var Ds=Q0(!0),X0=Q0(!1),Zl=Si(null),eu=null,ds=null,Bd=null;function Fd(){Bd=ds=eu=null}function Nd(e){var t=Zl.current;st(Zl),e._currentValue=t}function sf(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function bs(e,t){eu=e,Bd=ds=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(hr=!0),e.firstContext=null)}function Kr(e){var t=e._currentValue;if(Bd!==e)if(e={context:e,memoizedValue:t,next:null},ds===null){if(eu===null)throw Error(fe(308));ds=e,eu.dependencies={lanes:0,firstContext:e}}else ds=ds.next=e;return t}var Fi=null;function $d(e){Fi===null?Fi=[e]:Fi.push(e)}function J0(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,$d(t)):(r.next=i.next,i.next=r),t.interleaved=r,Hn(e,n)}function Hn(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Jn=!1;function Hd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Y0(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Dn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function hi(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Fe&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,Hn(e,r)}return i=n.interleaved,i===null?(t.next=t,$d(n)):(t.next=i.next,i.next=t),n.interleaved=t,Hn(e,r)}function pl(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,xd(e,r)}}function Kg(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=a:s=s.next=a,r=r.next}while(r!==null);s===null?i=s=t:s=s.next=t}else i=s=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function tu(e,t,r,n){var i=e.updateQueue;Jn=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,h=l.next;l.next=null,a===null?s=h:a.next=h,a=l;var g=e.alternate;g!==null&&(g=g.updateQueue,o=g.lastBaseUpdate,o!==a&&(o===null?g.firstBaseUpdate=h:o.next=h,g.lastBaseUpdate=l))}if(s!==null){var p=i.baseState;a=0,g=h=l=null,o=s;do{var m=o.lane,w=o.eventTime;if((n&m)===m){g!==null&&(g=g.next={eventTime:w,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var C=e,y=o;switch(m=t,w=r,y.tag){case 1:if(C=y.payload,typeof C=="function"){p=C.call(w,p,m);break e}p=C;break e;case 3:C.flags=C.flags&-65537|128;case 0:if(C=y.payload,m=typeof C=="function"?C.call(w,p,m):C,m==null)break e;p=ut({},p,m);break e;case 2:Jn=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,m=i.effects,m===null?i.effects=[o]:m.push(o))}else w={eventTime:w,lane:m,tag:o.tag,payload:o.payload,callback:o.callback,next:null},g===null?(h=g=w,l=p):g=g.next=w,a|=m;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;m=o,o=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(g===null&&(l=p),i.baseState=l,i.firstBaseUpdate=h,i.lastBaseUpdate=g,t=i.shared.interleaved,t!==null){i=t;do a|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);Vi|=a,e.lanes=a,e.memoizedState=p}}function Vg(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(fe(191,i));i.call(n)}}}var ga={},bn=Si(ga),Zo=Si(ga),ea=Si(ga);function Ni(e){if(e===ga)throw Error(fe(174));return e}function Ud(e,t){switch(et(ea,t),et(Zo,e),et(bn,ga),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Nh(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Nh(t,e)}st(bn),et(bn,t)}function Bs(){st(bn),st(Zo),st(ea)}function Z0(e){Ni(ea.current);var t=Ni(bn.current),r=Nh(t,e.type);t!==r&&(et(Zo,e),et(bn,r))}function jd(e){Zo.current===e&&(st(bn),st(Zo))}var at=Si(0);function ru(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Xc=[];function Wd(){for(var e=0;e<Xc.length;e++)Xc[e]._workInProgressVersionPrimary=null;Xc.length=0}var vl=jn.ReactCurrentDispatcher,Jc=jn.ReactCurrentBatchConfig,Ki=0,lt=null,wt=null,xt=null,nu=!1,Lo=!1,ta=0,BT=0;function Nt(){throw Error(fe(321))}function zd(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!nn(e[r],t[r]))return!1;return!0}function Kd(e,t,r,n,i,s){if(Ki=s,lt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,vl.current=e===null||e.memoizedState===null?HT:UT,e=r(n,i),Lo){s=0;do{if(Lo=!1,ta=0,25<=s)throw Error(fe(301));s+=1,xt=wt=null,t.updateQueue=null,vl.current=jT,e=r(n,i)}while(Lo)}if(vl.current=iu,t=wt!==null&&wt.next!==null,Ki=0,xt=wt=lt=null,nu=!1,t)throw Error(fe(300));return e}function Vd(){var e=ta!==0;return ta=0,e}function mn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xt===null?lt.memoizedState=xt=e:xt=xt.next=e,xt}function Vr(){if(wt===null){var e=lt.alternate;e=e!==null?e.memoizedState:null}else e=wt.next;var t=xt===null?lt.memoizedState:xt.next;if(t!==null)xt=t,wt=e;else{if(e===null)throw Error(fe(310));wt=e,e={memoizedState:wt.memoizedState,baseState:wt.baseState,baseQueue:wt.baseQueue,queue:wt.queue,next:null},xt===null?lt.memoizedState=xt=e:xt=xt.next=e}return xt}function ra(e,t){return typeof t=="function"?t(e):t}function Yc(e){var t=Vr(),r=t.queue;if(r===null)throw Error(fe(311));r.lastRenderedReducer=e;var n=wt,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var o=a=null,l=null,h=s;do{var g=h.lane;if((Ki&g)===g)l!==null&&(l=l.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),n=h.hasEagerState?h.eagerState:e(n,h.action);else{var p={lane:g,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};l===null?(o=l=p,a=n):l=l.next=p,lt.lanes|=g,Vi|=g}h=h.next}while(h!==null&&h!==s);l===null?a=n:l.next=o,nn(n,t.memoizedState)||(hr=!0),t.memoizedState=n,t.baseState=a,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do s=i.lane,lt.lanes|=s,Vi|=s,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Zc(e){var t=Vr(),r=t.queue;if(r===null)throw Error(fe(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,s=t.memoizedState;if(i!==null){r.pending=null;var a=i=i.next;do s=e(s,a.action),a=a.next;while(a!==i);nn(s,t.memoizedState)||(hr=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),r.lastRenderedState=s}return[s,n]}function eS(){}function tS(e,t){var r=lt,n=Vr(),i=t(),s=!nn(n.memoizedState,i);if(s&&(n.memoizedState=i,hr=!0),n=n.queue,Gd(iS.bind(null,r,n,e),[e]),n.getSnapshot!==t||s||xt!==null&&xt.memoizedState.tag&1){if(r.flags|=2048,na(9,nS.bind(null,r,n,i,t),void 0,null),Rt===null)throw Error(fe(349));Ki&30||rS(r,t,i)}return i}function rS(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=lt.updateQueue,t===null?(t={lastEffect:null,stores:null},lt.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function nS(e,t,r,n){t.value=r,t.getSnapshot=n,sS(t)&&oS(e)}function iS(e,t,r){return r(function(){sS(t)&&oS(e)})}function sS(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!nn(e,r)}catch{return!0}}function oS(e){var t=Hn(e,1);t!==null&&rn(t,e,1,-1)}function Gg(e){var t=mn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ra,lastRenderedState:e},t.queue=e,e=e.dispatch=$T.bind(null,lt,e),[t.memoizedState,e]}function na(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=lt.updateQueue,t===null?(t={lastEffect:null,stores:null},lt.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function aS(){return Vr().memoizedState}function gl(e,t,r,n){var i=mn();lt.flags|=e,i.memoizedState=na(1|t,r,void 0,n===void 0?null:n)}function Yu(e,t,r,n){var i=Vr();n=n===void 0?null:n;var s=void 0;if(wt!==null){var a=wt.memoizedState;if(s=a.destroy,n!==null&&zd(n,a.deps)){i.memoizedState=na(t,r,s,n);return}}lt.flags|=e,i.memoizedState=na(1|t,r,s,n)}function qg(e,t){return gl(8390656,8,e,t)}function Gd(e,t){return Yu(2048,8,e,t)}function lS(e,t){return Yu(4,2,e,t)}function uS(e,t){return Yu(4,4,e,t)}function cS(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function hS(e,t,r){return r=r!=null?r.concat([e]):null,Yu(4,4,cS.bind(null,t,e),r)}function qd(){}function fS(e,t){var r=Vr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&zd(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function dS(e,t){var r=Vr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&zd(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function pS(e,t,r){return Ki&21?(nn(r,t)||(r=_0(),lt.lanes|=r,Vi|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,hr=!0),e.memoizedState=r)}function FT(e,t){var r=ze;ze=r!==0&&4>r?r:4,e(!0);var n=Jc.transition;Jc.transition={};try{e(!1),t()}finally{ze=r,Jc.transition=n}}function vS(){return Vr().memoizedState}function NT(e,t,r){var n=di(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},gS(e))mS(t,r);else if(r=J0(e,t,r,n),r!==null){var i=Zt();rn(r,e,n,i),yS(r,t,n)}}function $T(e,t,r){var n=di(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(gS(e))mS(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var a=t.lastRenderedState,o=s(a,r);if(i.hasEagerState=!0,i.eagerState=o,nn(o,a)){var l=t.interleaved;l===null?(i.next=i,$d(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}r=J0(e,t,i,n),r!==null&&(i=Zt(),rn(r,e,n,i),yS(r,t,n))}}function gS(e){var t=e.alternate;return e===lt||t!==null&&t===lt}function mS(e,t){Lo=nu=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function yS(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,xd(e,r)}}var iu={readContext:Kr,useCallback:Nt,useContext:Nt,useEffect:Nt,useImperativeHandle:Nt,useInsertionEffect:Nt,useLayoutEffect:Nt,useMemo:Nt,useReducer:Nt,useRef:Nt,useState:Nt,useDebugValue:Nt,useDeferredValue:Nt,useTransition:Nt,useMutableSource:Nt,useSyncExternalStore:Nt,useId:Nt,unstable_isNewReconciler:!1},HT={readContext:Kr,useCallback:function(e,t){return mn().memoizedState=[e,t===void 0?null:t],e},useContext:Kr,useEffect:qg,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,gl(4194308,4,cS.bind(null,t,e),r)},useLayoutEffect:function(e,t){return gl(4194308,4,e,t)},useInsertionEffect:function(e,t){return gl(4,2,e,t)},useMemo:function(e,t){var r=mn();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=mn();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=NT.bind(null,lt,e),[n.memoizedState,e]},useRef:function(e){var t=mn();return e={current:e},t.memoizedState=e},useState:Gg,useDebugValue:qd,useDeferredValue:function(e){return mn().memoizedState=e},useTransition:function(){var e=Gg(!1),t=e[0];return e=FT.bind(null,e[1]),mn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=lt,i=mn();if(ot){if(r===void 0)throw Error(fe(407));r=r()}else{if(r=t(),Rt===null)throw Error(fe(349));Ki&30||rS(n,t,r)}i.memoizedState=r;var s={value:r,getSnapshot:t};return i.queue=s,qg(iS.bind(null,n,s,e),[e]),n.flags|=2048,na(9,nS.bind(null,n,s,r,t),void 0,null),r},useId:function(){var e=mn(),t=Rt.identifierPrefix;if(ot){var r=In,n=On;r=(n&~(1<<32-tn(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=ta++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=BT++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},UT={readContext:Kr,useCallback:fS,useContext:Kr,useEffect:Gd,useImperativeHandle:hS,useInsertionEffect:lS,useLayoutEffect:uS,useMemo:dS,useReducer:Yc,useRef:aS,useState:function(){return Yc(ra)},useDebugValue:qd,useDeferredValue:function(e){var t=Vr();return pS(t,wt.memoizedState,e)},useTransition:function(){var e=Yc(ra)[0],t=Vr().memoizedState;return[e,t]},useMutableSource:eS,useSyncExternalStore:tS,useId:vS,unstable_isNewReconciler:!1},jT={readContext:Kr,useCallback:fS,useContext:Kr,useEffect:Gd,useImperativeHandle:hS,useInsertionEffect:lS,useLayoutEffect:uS,useMemo:dS,useReducer:Zc,useRef:aS,useState:function(){return Zc(ra)},useDebugValue:qd,useDeferredValue:function(e){var t=Vr();return wt===null?t.memoizedState=e:pS(t,wt.memoizedState,e)},useTransition:function(){var e=Zc(ra)[0],t=Vr().memoizedState;return[e,t]},useMutableSource:eS,useSyncExternalStore:tS,useId:vS,unstable_isNewReconciler:!1};function Qr(e,t){if(e&&e.defaultProps){t=ut({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function of(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:ut({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Zu={isMounted:function(e){return(e=e._reactInternals)?Ji(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Zt(),i=di(e),s=Dn(n,i);s.payload=t,r!=null&&(s.callback=r),t=hi(e,s,i),t!==null&&(rn(t,e,i,n),pl(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Zt(),i=di(e),s=Dn(n,i);s.tag=1,s.payload=t,r!=null&&(s.callback=r),t=hi(e,s,i),t!==null&&(rn(t,e,i,n),pl(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Zt(),n=di(e),i=Dn(r,n);i.tag=2,t!=null&&(i.callback=t),t=hi(e,i,n),t!==null&&(rn(t,e,n,r),pl(t,e,n))}};function Qg(e,t,r,n,i,s,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,s,a):t.prototype&&t.prototype.isPureReactComponent?!Qo(r,n)||!Qo(i,s):!0}function _S(e,t,r){var n=!1,i=gi,s=t.contextType;return typeof s=="object"&&s!==null?s=Kr(s):(i=pr(t)?Wi:Kt.current,n=t.contextTypes,s=(n=n!=null)?Os(e,i):gi),t=new t(r,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Zu,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function Xg(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Zu.enqueueReplaceState(t,t.state,null)}function af(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},Hd(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=Kr(s):(s=pr(t)?Wi:Kt.current,i.context=Os(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(of(e,t,s,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Zu.enqueueReplaceState(i,i.state,null),tu(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Fs(e,t){try{var r="",n=t;do r+=gR(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function eh(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function lf(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var WT=typeof WeakMap=="function"?WeakMap:Map;function SS(e,t,r){r=Dn(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){ou||(ou=!0,yf=n),lf(e,t)},r}function CS(e,t,r){r=Dn(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){lf(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){lf(e,t),typeof n!="function"&&(fi===null?fi=new Set([this]):fi.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),r}function Jg(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new WT;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=nL.bind(null,e,t,r),t.then(e,e))}function Yg(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Zg(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Dn(-1,1),t.tag=2,hi(r,t,1))),r.lanes|=1),e)}var zT=jn.ReactCurrentOwner,hr=!1;function Jt(e,t,r,n){t.child=e===null?X0(t,null,r,n):Ds(t,e.child,r,n)}function em(e,t,r,n,i){r=r.render;var s=t.ref;return bs(t,i),n=Kd(e,t,r,n,s,i),r=Vd(),e!==null&&!hr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Un(e,t,i)):(ot&&r&&Od(t),t.flags|=1,Jt(e,t,n,i),t.child)}function tm(e,t,r,n,i){if(e===null){var s=r.type;return typeof s=="function"&&!rp(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=s,wS(e,t,s,n,i)):(e=Sl(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var a=s.memoizedProps;if(r=r.compare,r=r!==null?r:Qo,r(a,n)&&e.ref===t.ref)return Un(e,t,i)}return t.flags|=1,e=pi(s,n),e.ref=t.ref,e.return=t,t.child=e}function wS(e,t,r,n,i){if(e!==null){var s=e.memoizedProps;if(Qo(s,n)&&e.ref===t.ref)if(hr=!1,t.pendingProps=n=s,(e.lanes&i)!==0)e.flags&131072&&(hr=!0);else return t.lanes=e.lanes,Un(e,t,i)}return uf(e,t,r,n,i)}function kS(e,t,r){var n=t.pendingProps,i=n.children,s=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},et(vs,Rr),Rr|=r;else{if(!(r&1073741824))return e=s!==null?s.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,et(vs,Rr),Rr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,et(vs,Rr),Rr|=n}else s!==null?(n=s.baseLanes|r,t.memoizedState=null):n=r,et(vs,Rr),Rr|=n;return Jt(e,t,i,r),t.child}function bS(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function uf(e,t,r,n,i){var s=pr(r)?Wi:Kt.current;return s=Os(t,s),bs(t,i),r=Kd(e,t,r,n,s,i),n=Vd(),e!==null&&!hr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Un(e,t,i)):(ot&&n&&Od(t),t.flags|=1,Jt(e,t,r,i),t.child)}function rm(e,t,r,n,i){if(pr(r)){var s=!0;Xl(t)}else s=!1;if(bs(t,i),t.stateNode===null)ml(e,t),_S(t,r,n),af(t,r,n,i),n=!0;else if(e===null){var a=t.stateNode,o=t.memoizedProps;a.props=o;var l=a.context,h=r.contextType;typeof h=="object"&&h!==null?h=Kr(h):(h=pr(r)?Wi:Kt.current,h=Os(t,h));var g=r.getDerivedStateFromProps,p=typeof g=="function"||typeof a.getSnapshotBeforeUpdate=="function";p||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==n||l!==h)&&Xg(t,a,n,h),Jn=!1;var m=t.memoizedState;a.state=m,tu(t,n,a,i),l=t.memoizedState,o!==n||m!==l||dr.current||Jn?(typeof g=="function"&&(of(t,r,g,n),l=t.memoizedState),(o=Jn||Qg(t,r,o,n,m,l,h))?(p||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),a.props=n,a.state=l,a.context=h,n=o):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{a=t.stateNode,Y0(e,t),o=t.memoizedProps,h=t.type===t.elementType?o:Qr(t.type,o),a.props=h,p=t.pendingProps,m=a.context,l=r.contextType,typeof l=="object"&&l!==null?l=Kr(l):(l=pr(r)?Wi:Kt.current,l=Os(t,l));var w=r.getDerivedStateFromProps;(g=typeof w=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==p||m!==l)&&Xg(t,a,n,l),Jn=!1,m=t.memoizedState,a.state=m,tu(t,n,a,i);var C=t.memoizedState;o!==p||m!==C||dr.current||Jn?(typeof w=="function"&&(of(t,r,w,n),C=t.memoizedState),(h=Jn||Qg(t,r,h,n,m,C,l)||!1)?(g||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,C,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,C,l)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=C),a.props=n,a.state=C,a.context=l,n=h):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),n=!1)}return cf(e,t,r,n,s,i)}function cf(e,t,r,n,i,s){bS(e,t);var a=(t.flags&128)!==0;if(!n&&!a)return i&&Ug(t,r,!1),Un(e,t,s);n=t.stateNode,zT.current=t;var o=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&a?(t.child=Ds(t,e.child,null,s),t.child=Ds(t,null,o,s)):Jt(e,t,o,s),t.memoizedState=n.state,i&&Ug(t,r,!0),t.child}function xS(e){var t=e.stateNode;t.pendingContext?Hg(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Hg(e,t.context,!1),Ud(e,t.containerInfo)}function nm(e,t,r,n,i){return Is(),Dd(i),t.flags|=256,Jt(e,t,r,n),t.child}var hf={dehydrated:null,treeContext:null,retryLane:0};function ff(e){return{baseLanes:e,cachePool:null,transitions:null}}function ES(e,t,r){var n=t.pendingProps,i=at.current,s=!1,a=(t.flags&128)!==0,o;if((o=a)||(o=e!==null&&e.memoizedState===null?!1:(i&2)!==0),o?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),et(at,i&1),e===null)return nf(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=n.children,e=n.fallback,s?(n=t.mode,s=t.child,a={mode:"hidden",children:a},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=rc(a,n,0,null),e=Ui(e,n,r,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=ff(r),t.memoizedState=hf,e):Qd(t,a));if(i=e.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return KT(e,t,a,n,o,i,r);if(s){s=n.fallback,a=t.mode,i=e.child,o=i.sibling;var l={mode:"hidden",children:n.children};return!(a&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=pi(i,l),n.subtreeFlags=i.subtreeFlags&14680064),o!==null?s=pi(o,s):(s=Ui(s,a,r,null),s.flags|=2),s.return=t,n.return=t,n.sibling=s,t.child=n,n=s,s=t.child,a=e.child.memoizedState,a=a===null?ff(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=e.childLanes&~r,t.memoizedState=hf,n}return s=e.child,e=s.sibling,n=pi(s,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Qd(e,t){return t=rc({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function $a(e,t,r,n){return n!==null&&Dd(n),Ds(t,e.child,null,r),e=Qd(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function KT(e,t,r,n,i,s,a){if(r)return t.flags&256?(t.flags&=-257,n=eh(Error(fe(422))),$a(e,t,a,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=n.fallback,i=t.mode,n=rc({mode:"visible",children:n.children},i,0,null),s=Ui(s,i,a,null),s.flags|=2,n.return=t,s.return=t,n.sibling=s,t.child=n,t.mode&1&&Ds(t,e.child,null,a),t.child.memoizedState=ff(a),t.memoizedState=hf,s);if(!(t.mode&1))return $a(e,t,a,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var o=n.dgst;return n=o,s=Error(fe(419)),n=eh(s,n,void 0),$a(e,t,a,n)}if(o=(a&e.childLanes)!==0,hr||o){if(n=Rt,n!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Hn(e,i),rn(n,e,i,-1))}return tp(),n=eh(Error(fe(421))),$a(e,t,a,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=iL.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,Tr=ci(i.nextSibling),Mr=t,ot=!0,Zr=null,e!==null&&(Hr[Ur++]=On,Hr[Ur++]=In,Hr[Ur++]=zi,On=e.id,In=e.overflow,zi=t),t=Qd(t,n.children),t.flags|=4096,t)}function im(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),sf(e.return,t,r)}function th(e,t,r,n,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function RS(e,t,r){var n=t.pendingProps,i=n.revealOrder,s=n.tail;if(Jt(e,t,n.children,r),n=at.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&im(e,r,t);else if(e.tag===19)im(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(et(at,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&ru(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),th(t,!1,i,r,s);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&ru(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}th(t,!0,r,null,s);break;case"together":th(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ml(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Un(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Vi|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(fe(153));if(t.child!==null){for(e=t.child,r=pi(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=pi(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function VT(e,t,r){switch(t.tag){case 3:xS(t),Is();break;case 5:Z0(t);break;case 1:pr(t.type)&&Xl(t);break;case 4:Ud(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;et(Zl,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(et(at,at.current&1),t.flags|=128,null):r&t.child.childLanes?ES(e,t,r):(et(at,at.current&1),e=Un(e,t,r),e!==null?e.sibling:null);et(at,at.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return RS(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),et(at,at.current),n)break;return null;case 22:case 23:return t.lanes=0,kS(e,t,r)}return Un(e,t,r)}var TS,df,LS,AS;TS=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};df=function(){};LS=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,Ni(bn.current);var s=null;switch(r){case"input":i=Ih(e,i),n=Ih(e,n),s=[];break;case"select":i=ut({},i,{value:void 0}),n=ut({},n,{value:void 0}),s=[];break;case"textarea":i=Fh(e,i),n=Fh(e,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=ql)}$h(r,n);var a;r=null;for(h in i)if(!n.hasOwnProperty(h)&&i.hasOwnProperty(h)&&i[h]!=null)if(h==="style"){var o=i[h];for(a in o)o.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(jo.hasOwnProperty(h)?s||(s=[]):(s=s||[]).push(h,null));for(h in n){var l=n[h];if(o=i?.[h],n.hasOwnProperty(h)&&l!==o&&(l!=null||o!=null))if(h==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(r||(r={}),r[a]=l[a])}else r||(s||(s=[]),s.push(h,r)),r=l;else h==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(s=s||[]).push(h,l)):h==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(h,""+l):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(jo.hasOwnProperty(h)?(l!=null&&h==="onScroll"&&nt("scroll",e),s||o===l||(s=[])):(s=s||[]).push(h,l))}r&&(s=s||[]).push("style",r);var h=s;(t.updateQueue=h)&&(t.flags|=4)}};AS=function(e,t,r,n){r!==n&&(t.flags|=4)};function ao(e,t){if(!ot)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function $t(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function GT(e,t,r){var n=t.pendingProps;switch(Id(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $t(t),null;case 1:return pr(t.type)&&Ql(),$t(t),null;case 3:return n=t.stateNode,Bs(),st(dr),st(Kt),Wd(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Fa(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Zr!==null&&(Cf(Zr),Zr=null))),df(e,t),$t(t),null;case 5:jd(t);var i=Ni(ea.current);if(r=t.type,e!==null&&t.stateNode!=null)LS(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(fe(166));return $t(t),null}if(e=Ni(bn.current),Fa(t)){n=t.stateNode,r=t.type;var s=t.memoizedProps;switch(n[Cn]=t,n[Yo]=s,e=(t.mode&1)!==0,r){case"dialog":nt("cancel",n),nt("close",n);break;case"iframe":case"object":case"embed":nt("load",n);break;case"video":case"audio":for(i=0;i<So.length;i++)nt(So[i],n);break;case"source":nt("error",n);break;case"img":case"image":case"link":nt("error",n),nt("load",n);break;case"details":nt("toggle",n);break;case"input":dg(n,s),nt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},nt("invalid",n);break;case"textarea":vg(n,s),nt("invalid",n)}$h(r,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?n.textContent!==o&&(s.suppressHydrationWarning!==!0&&Ba(n.textContent,o,e),i=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&Ba(n.textContent,o,e),i=["children",""+o]):jo.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&nt("scroll",n)}switch(r){case"input":Ta(n),pg(n,s,!0);break;case"textarea":Ta(n),gg(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=ql)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=i0(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=a.createElement(r,{is:n.is}):(e=a.createElement(r),r==="select"&&(a=e,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):e=a.createElementNS(e,r),e[Cn]=t,e[Yo]=n,TS(e,t,!1,!1),t.stateNode=e;e:{switch(a=Hh(r,n),r){case"dialog":nt("cancel",e),nt("close",e),i=n;break;case"iframe":case"object":case"embed":nt("load",e),i=n;break;case"video":case"audio":for(i=0;i<So.length;i++)nt(So[i],e);i=n;break;case"source":nt("error",e),i=n;break;case"img":case"image":case"link":nt("error",e),nt("load",e),i=n;break;case"details":nt("toggle",e),i=n;break;case"input":dg(e,n),i=Ih(e,n),nt("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=ut({},n,{value:void 0}),nt("invalid",e);break;case"textarea":vg(e,n),i=Fh(e,n),nt("invalid",e);break;default:i=n}$h(r,i),o=i;for(s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="style"?a0(e,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&s0(e,l)):s==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Wo(e,l):typeof l=="number"&&Wo(e,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(jo.hasOwnProperty(s)?l!=null&&s==="onScroll"&&nt("scroll",e):l!=null&&_d(e,s,l,a))}switch(r){case"input":Ta(e),pg(e,n,!1);break;case"textarea":Ta(e),gg(e);break;case"option":n.value!=null&&e.setAttribute("value",""+vi(n.value));break;case"select":e.multiple=!!n.multiple,s=n.value,s!=null?Ss(e,!!n.multiple,s,!1):n.defaultValue!=null&&Ss(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=ql)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return $t(t),null;case 6:if(e&&t.stateNode!=null)AS(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(fe(166));if(r=Ni(ea.current),Ni(bn.current),Fa(t)){if(n=t.stateNode,r=t.memoizedProps,n[Cn]=t,(s=n.nodeValue!==r)&&(e=Mr,e!==null))switch(e.tag){case 3:Ba(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ba(n.nodeValue,r,(e.mode&1)!==0)}s&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Cn]=t,t.stateNode=n}return $t(t),null;case 13:if(st(at),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ot&&Tr!==null&&t.mode&1&&!(t.flags&128))q0(),Is(),t.flags|=98560,s=!1;else if(s=Fa(t),n!==null&&n.dehydrated!==null){if(e===null){if(!s)throw Error(fe(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(fe(317));s[Cn]=t}else Is(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;$t(t),s=!1}else Zr!==null&&(Cf(Zr),Zr=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||at.current&1?bt===0&&(bt=3):tp())),t.updateQueue!==null&&(t.flags|=4),$t(t),null);case 4:return Bs(),df(e,t),e===null&&Xo(t.stateNode.containerInfo),$t(t),null;case 10:return Nd(t.type._context),$t(t),null;case 17:return pr(t.type)&&Ql(),$t(t),null;case 19:if(st(at),s=t.memoizedState,s===null)return $t(t),null;if(n=(t.flags&128)!==0,a=s.rendering,a===null)if(n)ao(s,!1);else{if(bt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=ru(e),a!==null){for(t.flags|=128,ao(s,!1),n=a.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)s=r,e=n,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,e=a.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return et(at,at.current&1|2),t.child}e=e.sibling}s.tail!==null&&vt()>Ns&&(t.flags|=128,n=!0,ao(s,!1),t.lanes=4194304)}else{if(!n)if(e=ru(a),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),ao(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!ot)return $t(t),null}else 2*vt()-s.renderingStartTime>Ns&&r!==1073741824&&(t.flags|=128,n=!0,ao(s,!1),t.lanes=4194304);s.isBackwards?(a.sibling=t.child,t.child=a):(r=s.last,r!==null?r.sibling=a:t.child=a,s.last=a)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=vt(),t.sibling=null,r=at.current,et(at,n?r&1|2:r&1),t):($t(t),null);case 22:case 23:return ep(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Rr&1073741824&&($t(t),t.subtreeFlags&6&&(t.flags|=8192)):$t(t),null;case 24:return null;case 25:return null}throw Error(fe(156,t.tag))}function qT(e,t){switch(Id(t),t.tag){case 1:return pr(t.type)&&Ql(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Bs(),st(dr),st(Kt),Wd(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return jd(t),null;case 13:if(st(at),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(fe(340));Is()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return st(at),null;case 4:return Bs(),null;case 10:return Nd(t.type._context),null;case 22:case 23:return ep(),null;case 24:return null;default:return null}}var Ha=!1,Wt=!1,QT=typeof WeakSet=="function"?WeakSet:Set,ke=null;function ps(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){dt(e,t,n)}else r.current=null}function pf(e,t,r){try{r()}catch(n){dt(e,t,n)}}var sm=!1;function XT(e,t){if(Xh=Kl,e=D0(),Pd(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var a=0,o=-1,l=-1,h=0,g=0,p=e,m=null;t:for(;;){for(var w;p!==r||i!==0&&p.nodeType!==3||(o=a+i),p!==s||n!==0&&p.nodeType!==3||(l=a+n),p.nodeType===3&&(a+=p.nodeValue.length),(w=p.firstChild)!==null;)m=p,p=w;for(;;){if(p===e)break t;if(m===r&&++h===i&&(o=a),m===s&&++g===n&&(l=a),(w=p.nextSibling)!==null)break;p=m,m=p.parentNode}p=w}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(Jh={focusedElem:e,selectionRange:r},Kl=!1,ke=t;ke!==null;)if(t=ke,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ke=e;else for(;ke!==null;){t=ke;try{var C=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(C!==null){var y=C.memoizedProps,v=C.memoizedState,f=t.stateNode,u=f.getSnapshotBeforeUpdate(t.elementType===t.type?y:Qr(t.type,y),v);f.__reactInternalSnapshotBeforeUpdate=u}break;case 3:var d=t.stateNode.containerInfo;d.nodeType===1?d.textContent="":d.nodeType===9&&d.documentElement&&d.removeChild(d.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(fe(163))}}catch(_){dt(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,ke=e;break}ke=t.return}return C=sm,sm=!1,C}function Ao(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&pf(t,r,s)}i=i.next}while(i!==n)}}function ec(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function vf(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function MS(e){var t=e.alternate;t!==null&&(e.alternate=null,MS(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Cn],delete t[Yo],delete t[ef],delete t[PT],delete t[OT])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function PS(e){return e.tag===5||e.tag===3||e.tag===4}function om(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||PS(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function gf(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=ql));else if(n!==4&&(e=e.child,e!==null))for(gf(e,t,r),e=e.sibling;e!==null;)gf(e,t,r),e=e.sibling}function mf(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(mf(e,t,r),e=e.sibling;e!==null;)mf(e,t,r),e=e.sibling}var At=null,Yr=!1;function zn(e,t,r){for(r=r.child;r!==null;)OS(e,t,r),r=r.sibling}function OS(e,t,r){if(kn&&typeof kn.onCommitFiberUnmount=="function")try{kn.onCommitFiberUnmount(Vu,r)}catch{}switch(r.tag){case 5:Wt||ps(r,t);case 6:var n=At,i=Yr;At=null,zn(e,t,r),At=n,Yr=i,At!==null&&(Yr?(e=At,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):At.removeChild(r.stateNode));break;case 18:At!==null&&(Yr?(e=At,r=r.stateNode,e.nodeType===8?qc(e.parentNode,r):e.nodeType===1&&qc(e,r),Go(e)):qc(At,r.stateNode));break;case 4:n=At,i=Yr,At=r.stateNode.containerInfo,Yr=!0,zn(e,t,r),At=n,Yr=i;break;case 0:case 11:case 14:case 15:if(!Wt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&pf(r,t,a),i=i.next}while(i!==n)}zn(e,t,r);break;case 1:if(!Wt&&(ps(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){dt(r,t,o)}zn(e,t,r);break;case 21:zn(e,t,r);break;case 22:r.mode&1?(Wt=(n=Wt)||r.memoizedState!==null,zn(e,t,r),Wt=n):zn(e,t,r);break;default:zn(e,t,r)}}function am(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new QT),t.forEach(function(n){var i=sL.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function qr(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=e,a=t,o=a;e:for(;o!==null;){switch(o.tag){case 5:At=o.stateNode,Yr=!1;break e;case 3:At=o.stateNode.containerInfo,Yr=!0;break e;case 4:At=o.stateNode.containerInfo,Yr=!0;break e}o=o.return}if(At===null)throw Error(fe(160));OS(s,a,i),At=null,Yr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(h){dt(i,t,h)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)IS(t,e),t=t.sibling}function IS(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(qr(t,e),fn(e),n&4){try{Ao(3,e,e.return),ec(3,e)}catch(y){dt(e,e.return,y)}try{Ao(5,e,e.return)}catch(y){dt(e,e.return,y)}}break;case 1:qr(t,e),fn(e),n&512&&r!==null&&ps(r,r.return);break;case 5:if(qr(t,e),fn(e),n&512&&r!==null&&ps(r,r.return),e.flags&32){var i=e.stateNode;try{Wo(i,"")}catch(y){dt(e,e.return,y)}}if(n&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,a=r!==null?r.memoizedProps:s,o=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&r0(i,s),Hh(o,a);var h=Hh(o,s);for(a=0;a<l.length;a+=2){var g=l[a],p=l[a+1];g==="style"?a0(i,p):g==="dangerouslySetInnerHTML"?s0(i,p):g==="children"?Wo(i,p):_d(i,g,p,h)}switch(o){case"input":Dh(i,s);break;case"textarea":n0(i,s);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var w=s.value;w!=null?Ss(i,!!s.multiple,w,!1):m!==!!s.multiple&&(s.defaultValue!=null?Ss(i,!!s.multiple,s.defaultValue,!0):Ss(i,!!s.multiple,s.multiple?[]:"",!1))}i[Yo]=s}catch(y){dt(e,e.return,y)}}break;case 6:if(qr(t,e),fn(e),n&4){if(e.stateNode===null)throw Error(fe(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(y){dt(e,e.return,y)}}break;case 3:if(qr(t,e),fn(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Go(t.containerInfo)}catch(y){dt(e,e.return,y)}break;case 4:qr(t,e),fn(e);break;case 13:qr(t,e),fn(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Yd=vt())),n&4&&am(e);break;case 22:if(g=r!==null&&r.memoizedState!==null,e.mode&1?(Wt=(h=Wt)||g,qr(t,e),Wt=h):qr(t,e),fn(e),n&8192){if(h=e.memoizedState!==null,(e.stateNode.isHidden=h)&&!g&&e.mode&1)for(ke=e,g=e.child;g!==null;){for(p=ke=g;ke!==null;){switch(m=ke,w=m.child,m.tag){case 0:case 11:case 14:case 15:Ao(4,m,m.return);break;case 1:ps(m,m.return);var C=m.stateNode;if(typeof C.componentWillUnmount=="function"){n=m,r=m.return;try{t=n,C.props=t.memoizedProps,C.state=t.memoizedState,C.componentWillUnmount()}catch(y){dt(n,r,y)}}break;case 5:ps(m,m.return);break;case 22:if(m.memoizedState!==null){um(p);continue}}w!==null?(w.return=m,ke=w):um(p)}g=g.sibling}e:for(g=null,p=e;;){if(p.tag===5){if(g===null){g=p;try{i=p.stateNode,h?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=p.stateNode,l=p.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=o0("display",a))}catch(y){dt(e,e.return,y)}}}else if(p.tag===6){if(g===null)try{p.stateNode.nodeValue=h?"":p.memoizedProps}catch(y){dt(e,e.return,y)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===e)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;p.sibling===null;){if(p.return===null||p.return===e)break e;g===p&&(g=null),p=p.return}g===p&&(g=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:qr(t,e),fn(e),n&4&&am(e);break;case 21:break;default:qr(t,e),fn(e)}}function fn(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(PS(r)){var n=r;break e}r=r.return}throw Error(fe(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Wo(i,""),n.flags&=-33);var s=om(e);mf(e,s,i);break;case 3:case 4:var a=n.stateNode.containerInfo,o=om(e);gf(e,o,a);break;default:throw Error(fe(161))}}catch(l){dt(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function JT(e,t,r){ke=e,DS(e)}function DS(e,t,r){for(var n=(e.mode&1)!==0;ke!==null;){var i=ke,s=i.child;if(i.tag===22&&n){var a=i.memoizedState!==null||Ha;if(!a){var o=i.alternate,l=o!==null&&o.memoizedState!==null||Wt;o=Ha;var h=Wt;if(Ha=a,(Wt=l)&&!h)for(ke=i;ke!==null;)a=ke,l=a.child,a.tag===22&&a.memoizedState!==null?cm(i):l!==null?(l.return=a,ke=l):cm(i);for(;s!==null;)ke=s,DS(s),s=s.sibling;ke=i,Ha=o,Wt=h}lm(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ke=s):lm(e)}}function lm(e){for(;ke!==null;){var t=ke;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Wt||ec(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Wt)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:Qr(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&Vg(t,s,n);break;case 3:var a=t.updateQueue;if(a!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Vg(t,a,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var h=t.alternate;if(h!==null){var g=h.memoizedState;if(g!==null){var p=g.dehydrated;p!==null&&Go(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(fe(163))}Wt||t.flags&512&&vf(t)}catch(m){dt(t,t.return,m)}}if(t===e){ke=null;break}if(r=t.sibling,r!==null){r.return=t.return,ke=r;break}ke=t.return}}function um(e){for(;ke!==null;){var t=ke;if(t===e){ke=null;break}var r=t.sibling;if(r!==null){r.return=t.return,ke=r;break}ke=t.return}}function cm(e){for(;ke!==null;){var t=ke;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{ec(4,t)}catch(l){dt(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(l){dt(t,i,l)}}var s=t.return;try{vf(t)}catch(l){dt(t,s,l)}break;case 5:var a=t.return;try{vf(t)}catch(l){dt(t,a,l)}}}catch(l){dt(t,t.return,l)}if(t===e){ke=null;break}var o=t.sibling;if(o!==null){o.return=t.return,ke=o;break}ke=t.return}}var YT=Math.ceil,su=jn.ReactCurrentDispatcher,Xd=jn.ReactCurrentOwner,zr=jn.ReactCurrentBatchConfig,Fe=0,Rt=null,St=null,Ot=0,Rr=0,vs=Si(0),bt=0,ia=null,Vi=0,tc=0,Jd=0,Mo=null,ur=null,Yd=0,Ns=1/0,Mn=null,ou=!1,yf=null,fi=null,Ua=!1,ii=null,au=0,Po=0,_f=null,yl=-1,_l=0;function Zt(){return Fe&6?vt():yl!==-1?yl:yl=vt()}function di(e){return e.mode&1?Fe&2&&Ot!==0?Ot&-Ot:DT.transition!==null?(_l===0&&(_l=_0()),_l):(e=ze,e!==0||(e=window.event,e=e===void 0?16:E0(e.type)),e):1}function rn(e,t,r,n){if(50<Po)throw Po=0,_f=null,Error(fe(185));da(e,r,n),(!(Fe&2)||e!==Rt)&&(e===Rt&&(!(Fe&2)&&(tc|=r),bt===4&&ei(e,Ot)),vr(e,n),r===1&&Fe===0&&!(t.mode&1)&&(Ns=vt()+500,Ju&&Ci()))}function vr(e,t){var r=e.callbackNode;DR(e,t);var n=zl(e,e===Rt?Ot:0);if(n===0)r!==null&&_g(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&_g(r),t===1)e.tag===0?IT(hm.bind(null,e)):K0(hm.bind(null,e)),AT(function(){!(Fe&6)&&Ci()}),r=null;else{switch(S0(n)){case 1:r=bd;break;case 4:r=m0;break;case 16:r=Wl;break;case 536870912:r=y0;break;default:r=Wl}r=WS(r,BS.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function BS(e,t){if(yl=-1,_l=0,Fe&6)throw Error(fe(327));var r=e.callbackNode;if(xs()&&e.callbackNode!==r)return null;var n=zl(e,e===Rt?Ot:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=lu(e,n);else{t=n;var i=Fe;Fe|=2;var s=NS();(Rt!==e||Ot!==t)&&(Mn=null,Ns=vt()+500,Hi(e,t));do try{tL();break}catch(o){FS(e,o)}while(!0);Fd(),su.current=s,Fe=i,St!==null?t=0:(Rt=null,Ot=0,t=bt)}if(t!==0){if(t===2&&(i=Kh(e),i!==0&&(n=i,t=Sf(e,i))),t===1)throw r=ia,Hi(e,0),ei(e,n),vr(e,vt()),r;if(t===6)ei(e,n);else{if(i=e.current.alternate,!(n&30)&&!ZT(i)&&(t=lu(e,n),t===2&&(s=Kh(e),s!==0&&(n=s,t=Sf(e,s))),t===1))throw r=ia,Hi(e,0),ei(e,n),vr(e,vt()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(fe(345));case 2:Ti(e,ur,Mn);break;case 3:if(ei(e,n),(n&130023424)===n&&(t=Yd+500-vt(),10<t)){if(zl(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){Zt(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Zh(Ti.bind(null,e,ur,Mn),t);break}Ti(e,ur,Mn);break;case 4:if(ei(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var a=31-tn(n);s=1<<a,a=t[a],a>i&&(i=a),n&=~s}if(n=i,n=vt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*YT(n/1960))-n,10<n){e.timeoutHandle=Zh(Ti.bind(null,e,ur,Mn),n);break}Ti(e,ur,Mn);break;case 5:Ti(e,ur,Mn);break;default:throw Error(fe(329))}}}return vr(e,vt()),e.callbackNode===r?BS.bind(null,e):null}function Sf(e,t){var r=Mo;return e.current.memoizedState.isDehydrated&&(Hi(e,t).flags|=256),e=lu(e,t),e!==2&&(t=ur,ur=r,t!==null&&Cf(t)),e}function Cf(e){ur===null?ur=e:ur.push.apply(ur,e)}function ZT(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!nn(s(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ei(e,t){for(t&=~Jd,t&=~tc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-tn(t),n=1<<r;e[r]=-1,t&=~n}}function hm(e){if(Fe&6)throw Error(fe(327));xs();var t=zl(e,0);if(!(t&1))return vr(e,vt()),null;var r=lu(e,t);if(e.tag!==0&&r===2){var n=Kh(e);n!==0&&(t=n,r=Sf(e,n))}if(r===1)throw r=ia,Hi(e,0),ei(e,t),vr(e,vt()),r;if(r===6)throw Error(fe(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ti(e,ur,Mn),vr(e,vt()),null}function Zd(e,t){var r=Fe;Fe|=1;try{return e(t)}finally{Fe=r,Fe===0&&(Ns=vt()+500,Ju&&Ci())}}function Gi(e){ii!==null&&ii.tag===0&&!(Fe&6)&&xs();var t=Fe;Fe|=1;var r=zr.transition,n=ze;try{if(zr.transition=null,ze=1,e)return e()}finally{ze=n,zr.transition=r,Fe=t,!(Fe&6)&&Ci()}}function ep(){Rr=vs.current,st(vs)}function Hi(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,LT(r)),St!==null)for(r=St.return;r!==null;){var n=r;switch(Id(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Ql();break;case 3:Bs(),st(dr),st(Kt),Wd();break;case 5:jd(n);break;case 4:Bs();break;case 13:st(at);break;case 19:st(at);break;case 10:Nd(n.type._context);break;case 22:case 23:ep()}r=r.return}if(Rt=e,St=e=pi(e.current,null),Ot=Rr=t,bt=0,ia=null,Jd=tc=Vi=0,ur=Mo=null,Fi!==null){for(t=0;t<Fi.length;t++)if(r=Fi[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var a=s.next;s.next=i,n.next=a}r.pending=n}Fi=null}return e}function FS(e,t){do{var r=St;try{if(Fd(),vl.current=iu,nu){for(var n=lt.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}nu=!1}if(Ki=0,xt=wt=lt=null,Lo=!1,ta=0,Xd.current=null,r===null||r.return===null){bt=1,ia=t,St=null;break}e:{var s=e,a=r.return,o=r,l=t;if(t=Ot,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var h=l,g=o,p=g.tag;if(!(g.mode&1)&&(p===0||p===11||p===15)){var m=g.alternate;m?(g.updateQueue=m.updateQueue,g.memoizedState=m.memoizedState,g.lanes=m.lanes):(g.updateQueue=null,g.memoizedState=null)}var w=Yg(a);if(w!==null){w.flags&=-257,Zg(w,a,o,s,t),w.mode&1&&Jg(s,h,t),t=w,l=h;var C=t.updateQueue;if(C===null){var y=new Set;y.add(l),t.updateQueue=y}else C.add(l);break e}else{if(!(t&1)){Jg(s,h,t),tp();break e}l=Error(fe(426))}}else if(ot&&o.mode&1){var v=Yg(a);if(v!==null){!(v.flags&65536)&&(v.flags|=256),Zg(v,a,o,s,t),Dd(Fs(l,o));break e}}s=l=Fs(l,o),bt!==4&&(bt=2),Mo===null?Mo=[s]:Mo.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var f=SS(s,l,t);Kg(s,f);break e;case 1:o=l;var u=s.type,d=s.stateNode;if(!(s.flags&128)&&(typeof u.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(fi===null||!fi.has(d)))){s.flags|=65536,t&=-t,s.lanes|=t;var _=CS(s,o,t);Kg(s,_);break e}}s=s.return}while(s!==null)}HS(r)}catch(R){t=R,St===r&&r!==null&&(St=r=r.return);continue}break}while(!0)}function NS(){var e=su.current;return su.current=iu,e===null?iu:e}function tp(){(bt===0||bt===3||bt===2)&&(bt=4),Rt===null||!(Vi&268435455)&&!(tc&268435455)||ei(Rt,Ot)}function lu(e,t){var r=Fe;Fe|=2;var n=NS();(Rt!==e||Ot!==t)&&(Mn=null,Hi(e,t));do try{eL();break}catch(i){FS(e,i)}while(!0);if(Fd(),Fe=r,su.current=n,St!==null)throw Error(fe(261));return Rt=null,Ot=0,bt}function eL(){for(;St!==null;)$S(St)}function tL(){for(;St!==null&&!ER();)$S(St)}function $S(e){var t=jS(e.alternate,e,Rr);e.memoizedProps=e.pendingProps,t===null?HS(e):St=t,Xd.current=null}function HS(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=qT(r,t),r!==null){r.flags&=32767,St=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{bt=6,St=null;return}}else if(r=GT(r,t,Rr),r!==null){St=r;return}if(t=t.sibling,t!==null){St=t;return}St=t=e}while(t!==null);bt===0&&(bt=5)}function Ti(e,t,r){var n=ze,i=zr.transition;try{zr.transition=null,ze=1,rL(e,t,r,n)}finally{zr.transition=i,ze=n}return null}function rL(e,t,r,n){do xs();while(ii!==null);if(Fe&6)throw Error(fe(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(fe(177));e.callbackNode=null,e.callbackPriority=0;var s=r.lanes|r.childLanes;if(BR(e,s),e===Rt&&(St=Rt=null,Ot=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Ua||(Ua=!0,WS(Wl,function(){return xs(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=zr.transition,zr.transition=null;var a=ze;ze=1;var o=Fe;Fe|=4,Xd.current=null,XT(e,r),IS(r,e),wT(Jh),Kl=!!Xh,Jh=Xh=null,e.current=r,JT(r),RR(),Fe=o,ze=a,zr.transition=s}else e.current=r;if(Ua&&(Ua=!1,ii=e,au=i),s=e.pendingLanes,s===0&&(fi=null),AR(r.stateNode),vr(e,vt()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(ou)throw ou=!1,e=yf,yf=null,e;return au&1&&e.tag!==0&&xs(),s=e.pendingLanes,s&1?e===_f?Po++:(Po=0,_f=e):Po=0,Ci(),null}function xs(){if(ii!==null){var e=S0(au),t=zr.transition,r=ze;try{if(zr.transition=null,ze=16>e?16:e,ii===null)var n=!1;else{if(e=ii,ii=null,au=0,Fe&6)throw Error(fe(331));var i=Fe;for(Fe|=4,ke=e.current;ke!==null;){var s=ke,a=s.child;if(ke.flags&16){var o=s.deletions;if(o!==null){for(var l=0;l<o.length;l++){var h=o[l];for(ke=h;ke!==null;){var g=ke;switch(g.tag){case 0:case 11:case 15:Ao(8,g,s)}var p=g.child;if(p!==null)p.return=g,ke=p;else for(;ke!==null;){g=ke;var m=g.sibling,w=g.return;if(MS(g),g===h){ke=null;break}if(m!==null){m.return=w,ke=m;break}ke=w}}}var C=s.alternate;if(C!==null){var y=C.child;if(y!==null){C.child=null;do{var v=y.sibling;y.sibling=null,y=v}while(y!==null)}}ke=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,ke=a;else e:for(;ke!==null;){if(s=ke,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Ao(9,s,s.return)}var f=s.sibling;if(f!==null){f.return=s.return,ke=f;break e}ke=s.return}}var u=e.current;for(ke=u;ke!==null;){a=ke;var d=a.child;if(a.subtreeFlags&2064&&d!==null)d.return=a,ke=d;else e:for(a=u;ke!==null;){if(o=ke,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:ec(9,o)}}catch(R){dt(o,o.return,R)}if(o===a){ke=null;break e}var _=o.sibling;if(_!==null){_.return=o.return,ke=_;break e}ke=o.return}}if(Fe=i,Ci(),kn&&typeof kn.onPostCommitFiberRoot=="function")try{kn.onPostCommitFiberRoot(Vu,e)}catch{}n=!0}return n}finally{ze=r,zr.transition=t}}return!1}function fm(e,t,r){t=Fs(r,t),t=SS(e,t,1),e=hi(e,t,1),t=Zt(),e!==null&&(da(e,1,t),vr(e,t))}function dt(e,t,r){if(e.tag===3)fm(e,e,r);else for(;t!==null;){if(t.tag===3){fm(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(fi===null||!fi.has(n))){e=Fs(r,e),e=CS(t,e,1),t=hi(t,e,1),e=Zt(),t!==null&&(da(t,1,e),vr(t,e));break}}t=t.return}}function nL(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Zt(),e.pingedLanes|=e.suspendedLanes&r,Rt===e&&(Ot&r)===r&&(bt===4||bt===3&&(Ot&130023424)===Ot&&500>vt()-Yd?Hi(e,0):Jd|=r),vr(e,t)}function US(e,t){t===0&&(e.mode&1?(t=Ma,Ma<<=1,!(Ma&130023424)&&(Ma=4194304)):t=1);var r=Zt();e=Hn(e,t),e!==null&&(da(e,t,r),vr(e,r))}function iL(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),US(e,r)}function sL(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(fe(314))}n!==null&&n.delete(t),US(e,r)}var jS;jS=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||dr.current)hr=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return hr=!1,VT(e,t,r);hr=!!(e.flags&131072)}else hr=!1,ot&&t.flags&1048576&&V0(t,Yl,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;ml(e,t),e=t.pendingProps;var i=Os(t,Kt.current);bs(t,r),i=Kd(null,t,n,e,i,r);var s=Vd();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,pr(n)?(s=!0,Xl(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Hd(t),i.updater=Zu,t.stateNode=i,i._reactInternals=t,af(t,n,e,r),t=cf(null,t,n,!0,s,r)):(t.tag=0,ot&&s&&Od(t),Jt(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(ml(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=aL(n),e=Qr(n,e),i){case 0:t=uf(null,t,n,e,r);break e;case 1:t=rm(null,t,n,e,r);break e;case 11:t=em(null,t,n,e,r);break e;case 14:t=tm(null,t,n,Qr(n.type,e),r);break e}throw Error(fe(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Qr(n,i),uf(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Qr(n,i),rm(e,t,n,i,r);case 3:e:{if(xS(t),e===null)throw Error(fe(387));n=t.pendingProps,s=t.memoizedState,i=s.element,Y0(e,t),tu(t,n,null,r);var a=t.memoizedState;if(n=a.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=Fs(Error(fe(423)),t),t=nm(e,t,n,r,i);break e}else if(n!==i){i=Fs(Error(fe(424)),t),t=nm(e,t,n,r,i);break e}else for(Tr=ci(t.stateNode.containerInfo.firstChild),Mr=t,ot=!0,Zr=null,r=X0(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Is(),n===i){t=Un(e,t,r);break e}Jt(e,t,n,r)}t=t.child}return t;case 5:return Z0(t),e===null&&nf(t),n=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,a=i.children,Yh(n,i)?a=null:s!==null&&Yh(n,s)&&(t.flags|=32),bS(e,t),Jt(e,t,a,r),t.child;case 6:return e===null&&nf(t),null;case 13:return ES(e,t,r);case 4:return Ud(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Ds(t,null,n,r):Jt(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Qr(n,i),em(e,t,n,i,r);case 7:return Jt(e,t,t.pendingProps,r),t.child;case 8:return Jt(e,t,t.pendingProps.children,r),t.child;case 12:return Jt(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value,et(Zl,n._currentValue),n._currentValue=a,s!==null)if(nn(s.value,a)){if(s.children===i.children&&!dr.current){t=Un(e,t,r);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(s.tag===1){l=Dn(-1,r&-r),l.tag=2;var h=s.updateQueue;if(h!==null){h=h.shared;var g=h.pending;g===null?l.next=l:(l.next=g.next,g.next=l),h.pending=l}}s.lanes|=r,l=s.alternate,l!==null&&(l.lanes|=r),sf(s.return,r,t),o.lanes|=r;break}l=l.next}}else if(s.tag===10)a=s.type===t.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(fe(341));a.lanes|=r,o=a.alternate,o!==null&&(o.lanes|=r),sf(a,r,t),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===t){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}Jt(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,bs(t,r),i=Kr(i),n=n(i),t.flags|=1,Jt(e,t,n,r),t.child;case 14:return n=t.type,i=Qr(n,t.pendingProps),i=Qr(n.type,i),tm(e,t,n,i,r);case 15:return wS(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Qr(n,i),ml(e,t),t.tag=1,pr(n)?(e=!0,Xl(t)):e=!1,bs(t,r),_S(t,n,i),af(t,n,i,r),cf(null,t,n,!0,e,r);case 19:return RS(e,t,r);case 22:return kS(e,t,r)}throw Error(fe(156,t.tag))};function WS(e,t){return g0(e,t)}function oL(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wr(e,t,r,n){return new oL(e,t,r,n)}function rp(e){return e=e.prototype,!(!e||!e.isReactComponent)}function aL(e){if(typeof e=="function")return rp(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Cd)return 11;if(e===wd)return 14}return 2}function pi(e,t){var r=e.alternate;return r===null?(r=Wr(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Sl(e,t,r,n,i,s){var a=2;if(n=e,typeof e=="function")rp(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case ss:return Ui(r.children,i,s,t);case Sd:a=8,i|=8;break;case Ah:return e=Wr(12,r,t,i|2),e.elementType=Ah,e.lanes=s,e;case Mh:return e=Wr(13,r,t,i),e.elementType=Mh,e.lanes=s,e;case Ph:return e=Wr(19,r,t,i),e.elementType=Ph,e.lanes=s,e;case Z_:return rc(r,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case J_:a=10;break e;case Y_:a=9;break e;case Cd:a=11;break e;case wd:a=14;break e;case Xn:a=16,n=null;break e}throw Error(fe(130,e==null?e:typeof e,""))}return t=Wr(a,r,t,i),t.elementType=e,t.type=n,t.lanes=s,t}function Ui(e,t,r,n){return e=Wr(7,e,n,t),e.lanes=r,e}function rc(e,t,r,n){return e=Wr(22,e,n,t),e.elementType=Z_,e.lanes=r,e.stateNode={isHidden:!1},e}function rh(e,t,r){return e=Wr(6,e,null,t),e.lanes=r,e}function nh(e,t,r){return t=Wr(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function lL(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Fc(0),this.expirationTimes=Fc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fc(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function np(e,t,r,n,i,s,a,o,l){return e=new lL(e,t,r,o,l),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Wr(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Hd(s),e}function uL(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:is,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function zS(e){if(!e)return gi;e=e._reactInternals;e:{if(Ji(e)!==e||e.tag!==1)throw Error(fe(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(pr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(fe(171))}if(e.tag===1){var r=e.type;if(pr(r))return z0(e,r,t)}return t}function KS(e,t,r,n,i,s,a,o,l){return e=np(r,n,!0,e,i,s,a,o,l),e.context=zS(null),r=e.current,n=Zt(),i=di(r),s=Dn(n,i),s.callback=t??null,hi(r,s,i),e.current.lanes=i,da(e,i,n),vr(e,n),e}function nc(e,t,r,n){var i=t.current,s=Zt(),a=di(i);return r=zS(r),t.context===null?t.context=r:t.pendingContext=r,t=Dn(s,a),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=hi(i,t,a),e!==null&&(rn(e,i,a,s),pl(e,i,a)),a}function uu(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function dm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function ip(e,t){dm(e,t),(e=e.alternate)&&dm(e,t)}function cL(){return null}var VS=typeof reportError=="function"?reportError:function(e){console.error(e)};function sp(e){this._internalRoot=e}ic.prototype.render=sp.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(fe(409));nc(e,t,null,null)};ic.prototype.unmount=sp.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Gi(function(){nc(null,e,null,null)}),t[$n]=null}};function ic(e){this._internalRoot=e}ic.prototype.unstable_scheduleHydration=function(e){if(e){var t=k0();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Zn.length&&t!==0&&t<Zn[r].priority;r++);Zn.splice(r,0,e),r===0&&x0(e)}};function op(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function sc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function pm(){}function hL(e,t,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var h=uu(a);s.call(h)}}var a=KS(t,n,e,0,null,!1,!1,"",pm);return e._reactRootContainer=a,e[$n]=a.current,Xo(e.nodeType===8?e.parentNode:e),Gi(),a}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var o=n;n=function(){var h=uu(l);o.call(h)}}var l=np(e,0,!1,null,null,!1,!1,"",pm);return e._reactRootContainer=l,e[$n]=l.current,Xo(e.nodeType===8?e.parentNode:e),Gi(function(){nc(t,l,r,n)}),l}function oc(e,t,r,n,i){var s=r._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var o=i;i=function(){var l=uu(a);o.call(l)}}nc(t,a,e,i)}else a=hL(r,t,e,i,n);return uu(a)}C0=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=_o(t.pendingLanes);r!==0&&(xd(t,r|1),vr(t,vt()),!(Fe&6)&&(Ns=vt()+500,Ci()))}break;case 13:Gi(function(){var n=Hn(e,1);if(n!==null){var i=Zt();rn(n,e,1,i)}}),ip(e,1)}};Ed=function(e){if(e.tag===13){var t=Hn(e,134217728);if(t!==null){var r=Zt();rn(t,e,134217728,r)}ip(e,134217728)}};w0=function(e){if(e.tag===13){var t=di(e),r=Hn(e,t);if(r!==null){var n=Zt();rn(r,e,t,n)}ip(e,t)}};k0=function(){return ze};b0=function(e,t){var r=ze;try{return ze=e,t()}finally{ze=r}};jh=function(e,t,r){switch(t){case"input":if(Dh(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=Xu(n);if(!i)throw Error(fe(90));t0(n),Dh(n,i)}}}break;case"textarea":n0(e,r);break;case"select":t=r.value,t!=null&&Ss(e,!!r.multiple,t,!1)}};c0=Zd;h0=Gi;var fL={usingClientEntryPoint:!1,Events:[va,us,Xu,l0,u0,Zd]},lo={findFiberByHostInstance:Bi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},dL={bundleType:lo.bundleType,version:lo.version,rendererPackageName:lo.rendererPackageName,rendererConfig:lo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:jn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=p0(e),e===null?null:e.stateNode},findFiberByHostInstance:lo.findFiberByHostInstance||cL,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ja=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ja.isDisabled&&ja.supportsFiber)try{Vu=ja.inject(dL),kn=ja}catch{}}Ir.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fL;Ir.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!op(t))throw Error(fe(200));return uL(e,t,null,r)};Ir.createRoot=function(e,t){if(!op(e))throw Error(fe(299));var r=!1,n="",i=VS;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=np(e,1,!1,null,null,r,!1,n,i),e[$n]=t.current,Xo(e.nodeType===8?e.parentNode:e),new sp(t)};Ir.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(fe(188)):(e=Object.keys(e).join(","),Error(fe(268,e)));return e=p0(t),e=e===null?null:e.stateNode,e};Ir.flushSync=function(e){return Gi(e)};Ir.hydrate=function(e,t,r){if(!sc(t))throw Error(fe(200));return oc(null,e,t,!0,r)};Ir.hydrateRoot=function(e,t,r){if(!op(e))throw Error(fe(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",a=VS;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),t=KS(t,null,e,1,r??null,i,!1,s,a),e[$n]=t.current,Xo(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new ic(t)};Ir.render=function(e,t,r){if(!sc(t))throw Error(fe(200));return oc(null,e,t,!1,r)};Ir.unmountComponentAtNode=function(e){if(!sc(e))throw Error(fe(40));return e._reactRootContainer?(Gi(function(){oc(null,null,e,!1,function(){e._reactRootContainer=null,e[$n]=null})}),!0):!1};Ir.unstable_batchedUpdates=Zd;Ir.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!sc(r))throw Error(fe(200));if(e==null||e._reactInternals===void 0)throw Error(fe(38));return oc(e,t,r,!1,n)};Ir.version="18.3.1-next-f1338f8080-20240426";function GS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(GS)}catch(e){console.error(e)}}GS(),G_.exports=Ir;var eP=G_.exports;/**
 * @remix-run/router v1.22.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function cu(){return cu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cu.apply(this,arguments)}var si;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(si||(si={}));const vm="popstate";function pL(e){e===void 0&&(e={});function t(n,i){let{pathname:s,search:a,hash:o}=n.location;return wf("",{pathname:s,search:a,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:QS(i)}return gL(t,r,null,e)}function mr(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function qS(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function vL(){return Math.random().toString(36).substr(2,8)}function gm(e,t){return{usr:e.state,key:e.key,idx:t}}function wf(e,t,r,n){return r===void 0&&(r=null),cu({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?ac(t):t,{state:r,key:t&&t.key||n||vL()})}function QS(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ac(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function gL(e,t,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:s=!1}=n,a=i.history,o=si.Pop,l=null,h=g();h==null&&(h=0,a.replaceState(cu({},a.state,{idx:h}),""));function g(){return(a.state||{idx:null}).idx}function p(){o=si.Pop;let v=g(),f=v==null?null:v-h;h=v,l&&l({action:o,location:y.location,delta:f})}function m(v,f){o=si.Push;let u=wf(y.location,v,f);h=g()+1;let d=gm(u,h),_=y.createHref(u);try{a.pushState(d,"",_)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;i.location.assign(_)}s&&l&&l({action:o,location:y.location,delta:1})}function w(v,f){o=si.Replace;let u=wf(y.location,v,f);h=g();let d=gm(u,h),_=y.createHref(u);a.replaceState(d,"",_),s&&l&&l({action:o,location:y.location,delta:0})}function C(v){let f=i.location.origin!=="null"?i.location.origin:i.location.href,u=typeof v=="string"?v:QS(v);return u=u.replace(/ $/,"%20"),mr(f,"No window.location.(origin|href) available to create URL for href: "+u),new URL(u,f)}let y={get action(){return o},get location(){return e(i,a)},listen(v){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(vm,p),l=v,()=>{i.removeEventListener(vm,p),l=null}},createHref(v){return t(i,v)},createURL:C,encodeLocation(v){let f=C(v);return{pathname:f.pathname,search:f.search,hash:f.hash}},push:m,replace:w,go(v){return a.go(v)}};return y}var mm;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(mm||(mm={}));function mL(e,t,r){return r===void 0&&(r="/"),yL(e,t,r)}function yL(e,t,r,n){let i=typeof t=="string"?ac(t):t,s=YS(i.pathname||"/",r);if(s==null)return null;let a=XS(e);_L(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let h=ML(s);o=TL(a[l],h)}return o}function XS(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(s,a,o)=>{let l={relativePath:o===void 0?s.path||"":o,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};l.relativePath.startsWith("/")&&(mr(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let h=Es([n,l.relativePath]),g=r.concat(l);s.children&&s.children.length>0&&(mr(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),XS(s.children,t,g,h)),!(s.path==null&&!s.index)&&t.push({path:h,score:EL(h,s.index),routesMeta:g})};return e.forEach((s,a)=>{var o;if(s.path===""||!((o=s.path)!=null&&o.includes("?")))i(s,a);else for(let l of JS(s.path))i(s,a,l)}),t}function JS(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let a=JS(n.join("/")),o=[];return o.push(...a.map(l=>l===""?s:[s,l].join("/"))),i&&o.push(...a),o.map(l=>e.startsWith("/")&&l===""?"/":l)}function _L(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:RL(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const SL=/^:[\w-]+$/,CL=3,wL=2,kL=1,bL=10,xL=-2,ym=e=>e==="*";function EL(e,t){let r=e.split("/"),n=r.length;return r.some(ym)&&(n+=xL),t&&(n+=wL),r.filter(i=>!ym(i)).reduce((i,s)=>i+(SL.test(s)?CL:s===""?kL:bL),n)}function RL(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function TL(e,t,r){let{routesMeta:n}=e,i={},s="/",a=[];for(let o=0;o<n.length;++o){let l=n[o],h=o===n.length-1,g=s==="/"?t:t.slice(s.length)||"/",p=LL({path:l.relativePath,caseSensitive:l.caseSensitive,end:h},g),m=l.route;if(!p)return null;Object.assign(i,p.params),a.push({params:i,pathname:Es([s,p.pathname]),pathnameBase:PL(Es([s,p.pathnameBase])),route:m}),p.pathnameBase!=="/"&&(s=Es([s,p.pathnameBase]))}return a}function LL(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=AL(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:n.reduce((h,g,p)=>{let{paramName:m,isOptional:w}=g;if(m==="*"){let y=o[p]||"";a=s.slice(0,s.length-y.length).replace(/(.)\/+$/,"$1")}const C=o[p];return w&&!C?h[m]=void 0:h[m]=(C||"").replace(/%2F/g,"/"),h},{}),pathname:s,pathnameBase:a,pattern:e}}function AL(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),qS(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(n.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function ML(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return qS(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function YS(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const Es=e=>e.join("/").replace(/\/\/+/g,"/"),PL=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/");function OL(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const ZS=["post","put","patch","delete"];new Set(ZS);const IL=["get",...ZS];new Set(IL);/**
 * React Router v6.29.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function hu(){return hu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hu.apply(this,arguments)}const DL=G.createContext(null),BL=G.createContext(null),e1=G.createContext(null),lc=G.createContext(null),uc=G.createContext({outlet:null,matches:[],isDataRoute:!1}),t1=G.createContext(null);function ap(){return G.useContext(lc)!=null}function FL(){return ap()||mr(!1),G.useContext(lc).location}function NL(e,t){return $L(e,t)}function $L(e,t,r,n){ap()||mr(!1);let{navigator:i,static:s}=G.useContext(e1),{matches:a}=G.useContext(uc),o=a[a.length-1],l=o?o.params:{};o&&o.pathname;let h=o?o.pathnameBase:"/";o&&o.route;let g=FL(),p;if(t){var m;let f=typeof t=="string"?ac(t):t;h==="/"||(m=f.pathname)!=null&&m.startsWith(h)||mr(!1),p=f}else p=g;let w=p.pathname||"/",C=w;if(h!=="/"){let f=h.replace(/^\//,"").split("/");C="/"+w.replace(/^\//,"").split("/").slice(f.length).join("/")}let y=mL(e,{pathname:C}),v=zL(y&&y.map(f=>Object.assign({},f,{params:Object.assign({},l,f.params),pathname:Es([h,i.encodeLocation?i.encodeLocation(f.pathname).pathname:f.pathname]),pathnameBase:f.pathnameBase==="/"?h:Es([h,i.encodeLocation?i.encodeLocation(f.pathnameBase).pathname:f.pathnameBase])})),a,r,n);return t&&v?G.createElement(lc.Provider,{value:{location:hu({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:si.Pop}},v):v}function HL(){let e=qL(),t=OL(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return G.createElement(G.Fragment,null,G.createElement("h2",null,"Unexpected Application Error!"),G.createElement("h3",{style:{fontStyle:"italic"}},t),r?G.createElement("pre",{style:i},r):null,null)}const UL=G.createElement(HL,null);class jL extends G.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?G.createElement(uc.Provider,{value:this.props.routeContext},G.createElement(t1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function WL(e){let{routeContext:t,match:r,children:n}=e,i=G.useContext(DL);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),G.createElement(uc.Provider,{value:t},n)}function zL(e,t,r,n){var i;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var s;if(!r)return null;if(r.errors)e=r.matches;else if((s=n)!=null&&s.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let a=e,o=(i=r)==null?void 0:i.errors;if(o!=null){let g=a.findIndex(p=>p.route.id&&o?.[p.route.id]!==void 0);g>=0||mr(!1),a=a.slice(0,Math.min(a.length,g+1))}let l=!1,h=-1;if(r&&n&&n.v7_partialHydration)for(let g=0;g<a.length;g++){let p=a[g];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(h=g),p.route.id){let{loaderData:m,errors:w}=r,C=p.route.loader&&m[p.route.id]===void 0&&(!w||w[p.route.id]===void 0);if(p.route.lazy||C){l=!0,h>=0?a=a.slice(0,h+1):a=[a[0]];break}}}return a.reduceRight((g,p,m)=>{let w,C=!1,y=null,v=null;r&&(w=o&&p.route.id?o[p.route.id]:void 0,y=p.route.errorElement||UL,l&&(h<0&&m===0?(QL("route-fallback"),C=!0,v=null):h===m&&(C=!0,v=p.route.hydrateFallbackElement||null)));let f=t.concat(a.slice(0,m+1)),u=()=>{let d;return w?d=y:C?d=v:p.route.Component?d=G.createElement(p.route.Component,null):p.route.element?d=p.route.element:d=g,G.createElement(WL,{match:p,routeContext:{outlet:g,matches:f,isDataRoute:r!=null},children:d})};return r&&(p.route.ErrorBoundary||p.route.errorElement||m===0)?G.createElement(jL,{location:r.location,revalidation:r.revalidation,component:y,error:w,children:u(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):u()},null)}var kf=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(kf||{});function KL(e){let t=G.useContext(BL);return t||mr(!1),t}function VL(e){let t=G.useContext(uc);return t||mr(!1),t}function GL(e){let t=VL(),r=t.matches[t.matches.length-1];return r.route.id||mr(!1),r.route.id}function qL(){var e;let t=G.useContext(t1),r=KL(kf.UseRouteError),n=GL(kf.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}const _m={};function QL(e,t,r){_m[e]||(_m[e]=!0)}function XL(e,t){e?.v7_startTransition,e?.v7_relativeSplatPath}function r1(e){mr(!1)}function JL(e){let{basename:t="/",children:r=null,location:n,navigationType:i=si.Pop,navigator:s,static:a=!1,future:o}=e;ap()&&mr(!1);let l=t.replace(/^\/*/,"/"),h=G.useMemo(()=>({basename:l,navigator:s,static:a,future:hu({v7_relativeSplatPath:!1},o)}),[l,o,s,a]);typeof n=="string"&&(n=ac(n));let{pathname:g="/",search:p="",hash:m="",state:w=null,key:C="default"}=n,y=G.useMemo(()=>{let v=YS(g,l);return v==null?null:{location:{pathname:v,search:p,hash:m,state:w,key:C},navigationType:i}},[l,g,p,m,w,C,i]);return y==null?null:G.createElement(e1.Provider,{value:h},G.createElement(lc.Provider,{children:r,value:y}))}function YL(e){let{children:t,location:r}=e;return NL(bf(t),r)}new Promise(()=>{});function bf(e,t){t===void 0&&(t=[]);let r=[];return G.Children.forEach(e,(n,i)=>{if(!G.isValidElement(n))return;let s=[...t,i];if(n.type===G.Fragment){r.push.apply(r,bf(n.props.children,s));return}n.type!==r1&&mr(!1),!n.props.index||!n.props.children||mr(!1);let a={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=bf(n.props.children,s)),r.push(a)}),r}/**
 * React Router DOM v6.29.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const ZL="6";try{window.__reactRouterVersion=ZL}catch{}const eA="startTransition",Sm=oh[eA];function tA(e){let{basename:t,children:r,future:n,window:i}=e,s=G.useRef();s.current==null&&(s.current=pL({window:i,v5Compat:!0}));let a=s.current,[o,l]=G.useState({action:a.action,location:a.location}),{v7_startTransition:h}=n||{},g=G.useCallback(p=>{h&&Sm?Sm(()=>l(p)):l(p)},[l,h]);return G.useLayoutEffect(()=>a.listen(g),[a,g]),G.useEffect(()=>XL(n),[n]),G.createElement(JL,{basename:t,children:r,location:o.location,navigationType:o.action,navigator:a,future:n})}var Cm;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Cm||(Cm={}));var wm;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(wm||(wm={}));var lp={};(function e(t,r,n,i){var s=!!(t.Worker&&t.Blob&&t.Promise&&t.OffscreenCanvas&&t.OffscreenCanvasRenderingContext2D&&t.HTMLCanvasElement&&t.HTMLCanvasElement.prototype.transferControlToOffscreen&&t.URL&&t.URL.createObjectURL),a=typeof Path2D=="function"&&typeof DOMMatrix=="function",o=function(){if(!t.OffscreenCanvas)return!1;var P=new OffscreenCanvas(1,1),O=P.getContext("2d");O.fillRect(0,0,1,1);var j=P.transferToImageBitmap();try{O.createPattern(j,"no-repeat")}catch{return!1}return!0}();function l(){}function h(P){var O=r.exports.Promise,j=O!==void 0?O:t.Promise;return typeof j=="function"?new j(P):(P(l,l),null)}var g=function(P,O){return{transform:function(j){if(P)return j;if(O.has(j))return O.get(j);var Z=new OffscreenCanvas(j.width,j.height),re=Z.getContext("2d");return re.drawImage(j,0,0),O.set(j,Z),Z},clear:function(){O.clear()}}}(o,new Map),p=function(){var P=Math.floor(16.666666666666668),O,j,Z={},re=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(O=function(le){var ue=Math.random();return Z[ue]=requestAnimationFrame(function X(D){re===D||re+P-1<D?(re=D,delete Z[ue],le()):Z[ue]=requestAnimationFrame(X)}),ue},j=function(le){Z[le]&&cancelAnimationFrame(Z[le])}):(O=function(le){return setTimeout(le,P)},j=function(le){return clearTimeout(le)}),{frame:O,cancel:j}}(),m=function(){var P,O,j={};function Z(re){function le(ue,X){re.postMessage({options:ue||{},callback:X})}re.init=function(X){var D=X.transferControlToOffscreen();re.postMessage({canvas:D},[D])},re.fire=function(X,D,te){if(O)return le(X,null),O;var ie=Math.random().toString(36).slice(2);return O=h(function(ce){function he(Se){Se.data.callback===ie&&(delete j[ie],re.removeEventListener("message",he),O=null,g.clear(),te(),ce())}re.addEventListener("message",he),le(X,ie),j[ie]=he.bind(null,{data:{callback:ie}})}),O},re.reset=function(){re.postMessage({reset:!0});for(var X in j)j[X](),delete j[X]}}return function(){if(P)return P;if(!n&&s){var re=["var CONFETTI, SIZE = {}, module = {};","("+e.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{P=new Worker(URL.createObjectURL(new Blob([re])))}catch(le){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn(" Could not load worker",le),null}Z(P)}return P}}(),w={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function C(P,O){return O?O(P):P}function y(P){return P!=null}function v(P,O,j){return C(P&&y(P[O])?P[O]:w[O],j)}function f(P){return P<0?0:Math.floor(P)}function u(P,O){return Math.floor(Math.random()*(O-P))+P}function d(P){return parseInt(P,16)}function _(P){return P.map(R)}function R(P){var O=String(P).replace(/[^0-9a-f]/gi,"");return O.length<6&&(O=O[0]+O[0]+O[1]+O[1]+O[2]+O[2]),{r:d(O.substring(0,2)),g:d(O.substring(2,4)),b:d(O.substring(4,6))}}function E(P){var O=v(P,"origin",Object);return O.x=v(O,"x",Number),O.y=v(O,"y",Number),O}function L(P){P.width=document.documentElement.clientWidth,P.height=document.documentElement.clientHeight}function b(P){var O=P.getBoundingClientRect();P.width=O.width,P.height=O.height}function I(P){var O=document.createElement("canvas");return O.style.position="fixed",O.style.top="0px",O.style.left="0px",O.style.pointerEvents="none",O.style.zIndex=P,O}function U(P,O,j,Z,re,le,ue,X,D){P.save(),P.translate(O,j),P.rotate(le),P.scale(Z,re),P.arc(0,0,1,ue,X,D),P.restore()}function W(P){var O=P.angle*(Math.PI/180),j=P.spread*(Math.PI/180);return{x:P.x,y:P.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:P.startVelocity*.5+Math.random()*P.startVelocity,angle2D:-O+(.5*j-Math.random()*j),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:P.color,shape:P.shape,tick:0,totalTicks:P.ticks,decay:P.decay,drift:P.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:P.gravity*3,ovalScalar:.6,scalar:P.scalar,flat:P.flat}}function Y(P,O){O.x+=Math.cos(O.angle2D)*O.velocity+O.drift,O.y+=Math.sin(O.angle2D)*O.velocity+O.gravity,O.velocity*=O.decay,O.flat?(O.wobble=0,O.wobbleX=O.x+10*O.scalar,O.wobbleY=O.y+10*O.scalar,O.tiltSin=0,O.tiltCos=0,O.random=1):(O.wobble+=O.wobbleSpeed,O.wobbleX=O.x+10*O.scalar*Math.cos(O.wobble),O.wobbleY=O.y+10*O.scalar*Math.sin(O.wobble),O.tiltAngle+=.1,O.tiltSin=Math.sin(O.tiltAngle),O.tiltCos=Math.cos(O.tiltAngle),O.random=Math.random()+2);var j=O.tick++/O.totalTicks,Z=O.x+O.random*O.tiltCos,re=O.y+O.random*O.tiltSin,le=O.wobbleX+O.random*O.tiltCos,ue=O.wobbleY+O.random*O.tiltSin;if(P.fillStyle="rgba("+O.color.r+", "+O.color.g+", "+O.color.b+", "+(1-j)+")",P.beginPath(),a&&O.shape.type==="path"&&typeof O.shape.path=="string"&&Array.isArray(O.shape.matrix))P.fill(Q(O.shape.path,O.shape.matrix,O.x,O.y,Math.abs(le-Z)*.1,Math.abs(ue-re)*.1,Math.PI/10*O.wobble));else if(O.shape.type==="bitmap"){var X=Math.PI/10*O.wobble,D=Math.abs(le-Z)*.1,te=Math.abs(ue-re)*.1,ie=O.shape.bitmap.width*O.scalar,ce=O.shape.bitmap.height*O.scalar,he=new DOMMatrix([Math.cos(X)*D,Math.sin(X)*D,-Math.sin(X)*te,Math.cos(X)*te,O.x,O.y]);he.multiplySelf(new DOMMatrix(O.shape.matrix));var Se=P.createPattern(g.transform(O.shape.bitmap),"no-repeat");Se.setTransform(he),P.globalAlpha=1-j,P.fillStyle=Se,P.fillRect(O.x-ie/2,O.y-ce/2,ie,ce),P.globalAlpha=1}else if(O.shape==="circle")P.ellipse?P.ellipse(O.x,O.y,Math.abs(le-Z)*O.ovalScalar,Math.abs(ue-re)*O.ovalScalar,Math.PI/10*O.wobble,0,2*Math.PI):U(P,O.x,O.y,Math.abs(le-Z)*O.ovalScalar,Math.abs(ue-re)*O.ovalScalar,Math.PI/10*O.wobble,0,2*Math.PI);else if(O.shape==="star")for(var _e=Math.PI/2*3,Le=4*O.scalar,we=8*O.scalar,pe=O.x,Oe=O.y,$e=5,ct=Math.PI/$e;$e--;)pe=O.x+Math.cos(_e)*we,Oe=O.y+Math.sin(_e)*we,P.lineTo(pe,Oe),_e+=ct,pe=O.x+Math.cos(_e)*Le,Oe=O.y+Math.sin(_e)*Le,P.lineTo(pe,Oe),_e+=ct;else P.moveTo(Math.floor(O.x),Math.floor(O.y)),P.lineTo(Math.floor(O.wobbleX),Math.floor(re)),P.lineTo(Math.floor(le),Math.floor(ue)),P.lineTo(Math.floor(Z),Math.floor(O.wobbleY));return P.closePath(),P.fill(),O.tick<O.totalTicks}function B(P,O,j,Z,re){var le=O.slice(),ue=P.getContext("2d"),X,D,te=h(function(ie){function ce(){X=D=null,ue.clearRect(0,0,Z.width,Z.height),g.clear(),re(),ie()}function he(){n&&!(Z.width===i.width&&Z.height===i.height)&&(Z.width=P.width=i.width,Z.height=P.height=i.height),!Z.width&&!Z.height&&(j(P),Z.width=P.width,Z.height=P.height),ue.clearRect(0,0,Z.width,Z.height),le=le.filter(function(Se){return Y(ue,Se)}),le.length?X=p.frame(he):ce()}X=p.frame(he),D=ce});return{addFettis:function(ie){return le=le.concat(ie),te},canvas:P,promise:te,reset:function(){X&&p.cancel(X),D&&D()}}}function $(P,O){var j=!P,Z=!!v(O||{},"resize"),re=!1,le=v(O,"disableForReducedMotion",Boolean),ue=s&&!!v(O||{},"useWorker"),X=ue?m():null,D=j?L:b,te=P&&X?!!P.__confetti_initialized:!1,ie=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,ce;function he(_e,Le,we){for(var pe=v(_e,"particleCount",f),Oe=v(_e,"angle",Number),$e=v(_e,"spread",Number),ct=v(_e,"startVelocity",Number),Ft=v(_e,"decay",Number),yr=v(_e,"gravity",Number),mt=v(_e,"drift",Number),Br=v(_e,"colors",_),ir=v(_e,"ticks",Number),ht=v(_e,"shapes"),on=v(_e,"scalar"),tt=!!v(_e,"flat"),En=E(_e),_r=pe,Gr=[],Ve=P.width*En.x,Ge=P.height*En.y;_r--;)Gr.push(W({x:Ve,y:Ge,angle:Oe,spread:$e,startVelocity:ct,color:Br[_r%Br.length],shape:ht[u(0,ht.length)],ticks:ir,decay:Ft,gravity:yr,drift:mt,scalar:on,flat:tt}));return ce?ce.addFettis(Gr):(ce=B(P,Gr,D,Le,we),ce.promise)}function Se(_e){var Le=le||v(_e,"disableForReducedMotion",Boolean),we=v(_e,"zIndex",Number);if(Le&&ie)return h(function(ct){ct()});j&&ce?P=ce.canvas:j&&!P&&(P=I(we),document.body.appendChild(P)),Z&&!te&&D(P);var pe={width:P.width,height:P.height};X&&!te&&X.init(P),te=!0,X&&(P.__confetti_initialized=!0);function Oe(){if(X){var ct={getBoundingClientRect:function(){if(!j)return P.getBoundingClientRect()}};D(ct),X.postMessage({resize:{width:ct.width,height:ct.height}});return}pe.width=pe.height=null}function $e(){ce=null,Z&&(re=!1,t.removeEventListener("resize",Oe)),j&&P&&(document.body.contains(P)&&document.body.removeChild(P),P=null,te=!1)}return Z&&!re&&(re=!0,t.addEventListener("resize",Oe,!1)),X?X.fire(_e,pe,$e):he(_e,pe,$e)}return Se.reset=function(){X&&X.reset(),ce&&ce.reset()},Se}var N;function z(){return N||(N=$(null,{useWorker:!0,resize:!0})),N}function Q(P,O,j,Z,re,le,ue){var X=new Path2D(P),D=new Path2D;D.addPath(X,new DOMMatrix(O));var te=new Path2D;return te.addPath(D,new DOMMatrix([Math.cos(ue)*re,Math.sin(ue)*re,-Math.sin(ue)*le,Math.cos(ue)*le,j,Z])),te}function V(P){if(!a)throw new Error("path confetti are not supported in this browser");var O,j;typeof P=="string"?O=P:(O=P.path,j=P.matrix);var Z=new Path2D(O),re=document.createElement("canvas"),le=re.getContext("2d");if(!j){for(var ue=1e3,X=ue,D=ue,te=0,ie=0,ce,he,Se=0;Se<ue;Se+=2)for(var _e=0;_e<ue;_e+=2)le.isPointInPath(Z,Se,_e,"nonzero")&&(X=Math.min(X,Se),D=Math.min(D,_e),te=Math.max(te,Se),ie=Math.max(ie,_e));ce=te-X,he=ie-D;var Le=10,we=Math.min(Le/ce,Le/he);j=[we,0,0,we,-Math.round(ce/2+X)*we,-Math.round(he/2+D)*we]}return{type:"path",path:O,matrix:j}}function M(P){var O,j=1,Z="#000000",re='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof P=="string"?O=P:(O=P.text,j="scalar"in P?P.scalar:j,re="fontFamily"in P?P.fontFamily:re,Z="color"in P?P.color:Z);var le=10*j,ue=""+le+"px "+re,X=new OffscreenCanvas(le,le),D=X.getContext("2d");D.font=ue;var te=D.measureText(O),ie=Math.ceil(te.actualBoundingBoxRight+te.actualBoundingBoxLeft),ce=Math.ceil(te.actualBoundingBoxAscent+te.actualBoundingBoxDescent),he=2,Se=te.actualBoundingBoxLeft+he,_e=te.actualBoundingBoxAscent+he;ie+=he+he,ce+=he+he,X=new OffscreenCanvas(ie,ce),D=X.getContext("2d"),D.font=ue,D.fillStyle=Z,D.fillText(O,Se,_e);var Le=1/j;return{type:"bitmap",bitmap:X.transferToImageBitmap(),matrix:[Le,0,0,Le,-ie*Le/2,-ce*Le/2]}}r.exports=function(){return z().apply(this,arguments)},r.exports.reset=function(){z().reset()},r.exports.create=$,r.exports.shapeFromPath=V,r.exports.shapeFromText=M})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),lp,!1);const rA=lp.exports;lp.exports.create;const fu=gt([]),ma=gt(""),n1=gt(new Date),nA=gt(""),i1=e=>{fu.value=[...fu.value,{char:e,timestamp:performance.now()}]},iA=()=>{fu.value=[]},Kn=e=>{ma.value=e},sA=e=>{n1.value=e},s1=gt(null),oA=gt(!1),o1=gt(!1),a1="completed-game-phrases",{signal:du,update:aA}=Vf({key:a1,signal:gt(new Set),serialize:e=>JSON.stringify([...e]),deserialize:e=>new Set(JSON.parse(e))}),l1=e=>{aA(t=>t.add(e))},xf=e=>Je.filter(n=>n.tutorialGroup===e&&n.displayAs==="Game").filter(n=>!Array.from(du.value).includes(n.key)),ts=()=>{const e=Je.find(t=>!du.value.has(t.key));return e===void 0?null:e},km=(e,t)=>{if(oA.value=!0,o1.value=!0,e!=null){const r=t!=null?Je.filter(n=>n.key===t):xf(e);r.length>0&&(s1.value=r[0]??null)}},pu=e=>{s1.value=e},lA=()=>{const e=localStorage.getItem(a1);if(e)try{const t=JSON.parse(e);du.value=new Set(t)}catch(t){console.error("Failed to parse stored tutorials:",t),du.value=new Set}pu(ts())};lA();const Vn={Run:{imagePath:"/images/Adventurer/Adventurer-1.5/adventurer-v1.5-Sheet.png",frameCount:6,frameWidth:50,frameHeight:37,framePositions:[{leftX:50,topY:37},{leftX:100,topY:37},{leftX:150,topY:37},{leftX:200,topY:37},{leftX:250,topY:37},{leftX:300,topY:37}]},Idle:{imagePath:"/images/Adventurer/Adventurer-1.5/adventurer-v1.5-Sheet.png",frameCount:4,frameWidth:50,frameHeight:37,framePositions:[{leftX:0,topY:0},{leftX:50,topY:0},{leftX:100,topY:0},{leftX:150,topY:0}]},Walk:{imagePath:"/images/Adventurer/Adventurer-1.5/adventurer-v1.5-Sheet.png",frameCount:4,frameWidth:50,frameHeight:37,framePositions:[{leftX:0,topY:0},{leftX:50,topY:0},{leftX:100,topY:0},{leftX:150,topY:0}]},Attack:{imagePath:"/images/Adventurer/Adventurer-1.5/adventurer-v1.5-Sheet.png",frameCount:4,frameWidth:50,frameHeight:37,framePositions:[{leftX:0,topY:0},{leftX:50,topY:0},{leftX:100,topY:0},{leftX:150,topY:0}]},Summersault:{imagePath:"/images/Adventurer/Adventurer-1.5/adventurer-v1.5-Sheet.png",frameCount:4,frameWidth:50,frameHeight:37,framePositions:[{leftX:200,topY:74},{leftX:250,topY:74},{leftX:300,topY:74},{leftX:0,topY:106}]},Hurt:{imagePath:"/images/Adventurer/Adventurer-1.5/adventurer-v1.5-Sheet.png",frameCount:3,frameWidth:50,frameHeight:37,framePositions:[{leftX:150,topY:296},{leftX:200,topY:296},{leftX:250,topY:296}]},Death:{imagePath:"/images/Adventurer/Adventurer-1.5/adventurer-v1.5-Sheet.png",frameCount:6,frameWidth:50,frameHeight:37,framePositions:[{leftX:300,topY:296},{leftX:0,topY:333},{leftX:50,topY:333},{leftX:100,topY:333},{leftX:150,topY:333},{leftX:200,topY:333}]},Jump:{imagePath:"/images/Adventurer/Adventurer-1.5/adventurer-v1.5-Sheet.png",frameCount:4,frameWidth:50,frameHeight:37,framePositions:[{leftX:0,topY:0},{leftX:50,topY:0},{leftX:100,topY:0},{leftX:150,topY:0}]}},uo={Idle:{imagePath:"/images/Zombie4Package/Sprites/Idle.png",frameCount:5,frameWidth:62,frameHeight:62},Walk:{imagePath:"/images/Zombie4Package/Sprites/Walk.png",frameCount:13,frameWidth:62,frameHeight:62},Attack:{imagePath:"/images/Zombie4Package/Sprites/Attack.png",frameCount:15,frameWidth:62,frameHeight:62},Hurt:{imagePath:"/images/Zombie4Package/Sprites/Hurt.png",frameCount:7,frameWidth:62,frameHeight:62},Death:{imagePath:"/images/Zombie4Package/Sprites/Death.png",frameCount:12,frameWidth:62,frameHeight:62}},uA={Run:{animation:Vn.Run,dx:2,dy:0,continueous:!0},Idle:{animation:Vn.Idle,dx:0,dy:0,continueous:!0},Walk:{animation:Vn.Walk,dx:1,dy:0,continueous:!0},Jump:{animation:Vn.Jump,dx:0,dy:0,continueous:!1},Attack:{animation:Vn.Attack,dx:0,dy:0,continueous:!1},Summersault:{animation:Vn.Summersault,dx:3,dy:1,continueous:!1},Death:{animation:Vn.Death,dx:0,dy:0,continueous:!1},Hurt:{animation:Vn.Hurt,dx:0,dy:0,continueous:!1}},cA={Attack:{animation:uo.Attack,dx:2,dy:0,continueous:!1},Idle:{animation:uo.Idle,dx:0,dy:0,continueous:!0},Walk:{animation:uo.Walk,dx:1,dy:0,continueous:!0},Hurt:{animation:uo.Hurt,dx:0,dy:0,continueous:!1},Death:{animation:uo.Death,dx:0,dy:0,continueous:!1}};function hA(e,t){if(!e)throw new Error(`Assertion failed: ${t}`)}class fA{image;frameCount;frameWidth;frameHeight;frameSequence;constructor(t,r,n,i,s){this.image=new Image,this.image.onload=()=>{hA(this.image.complete,"Image failed to load: "+t),this.frameWidth==null&&(this.frameWidth=this.image.width/this.frameCount),this.frameHeight==null&&(this.frameHeight=this.image.height)},this.image.onerror=()=>{const a="Image failed to load: "+t;window!=null&&window.console.error!=null&&window.console.error(a)},this.image.src=t,this.frameCount=r,this.frameWidth=n??0,this.frameHeight=i??0,this.frameSequence=s}updateFrameIndex(t,r,n,i){return r-n>i?(t+1)%this.frameCount:t}draw=(t,r,n,i,s=1.5)=>{let a=0,o=0;if(this.frameSequence!=null){const l=this.frameSequence[r];if(l!=null)a=l.leftX,o=l.topY;else{const h=`No frameCoords found for frameIndex: ${r}`;typeof window.console.error=="function"&&window.console.error(h)}}else a=this.frameWidth*r,o=0;t.drawImage(this.image,a,o,this.frameWidth,this.frameHeight,n,i,this.frameWidth*s,this.frameHeight*s)}}const dA=Vt({prefix:"SpriteManager",level:mi.ERROR});class pA{spriteCache=new Map;async loadSprite(t){if(this.spriteCache.has(t.imagePath)){const n=this.spriteCache.get(t.imagePath);if(n!==void 0)return n}const r=new fA(t.imagePath,t.frameCount,t.frameWidth,t.frameHeight,t.framePositions);return await this.waitForManagerImageLoad(r.image),this.spriteCache.set(t.imagePath,r),r}waitForManagerImageLoad(t){return new Promise((r,n)=>{const i=()=>{t.removeEventListener("load",i),t.removeEventListener("error",s),r()},s=()=>{t.removeEventListener("load",i),t.removeEventListener("error",s),dA.error("Image failed to load: "+t.src),n(new Error(`Image failed to load: ${t.src}`))};t.addEventListener("load",i),t.addEventListener("error",s)})}}const u1=e=>{const[,t]=G.useState(null),r=G.useMemo(()=>new pA,[]),n=G.useRef(0),i=G.useRef(e.currentActionType),s=G.useRef(Object.keys(e.actions).reduce((p,m)=>({...p,[m]:void 0}),{})),{currentActionType:a,actions:o}=e,l=G.useCallback(async(p,m)=>{const w=await r.loadSprite(m);w!=null&&(s.current[p]=w,p===i.current&&t(w))},[r]),h=G.useCallback(p=>{if(i.current===p)return;i.current=p,n.current=0;const m=s.current[p];m!=null?t(m):l(p,o[p].animation).catch(console.error)},[o,l]),g=(p,m,w)=>{const C=s.current[i.current],y=o[i.current],v=(m?.current?.leftX??0)+e.xOffset+y.dx;if(C!=null){const f=(n.current+1)%C.frameCount;n.current=f,C.draw(p,n.current,v,m?.current?.topY??0,w??e.scale)}return y.dx};return G.useEffect(()=>(Object.entries(o).forEach(([p,m])=>{l(p,m.animation).catch(console.error)}),()=>{s.current=Object.keys(o).reduce((p,m)=>({...p,[m]:void 0}),{}),t(null)}),[o,l]),G.useEffect(()=>{typeof a=="string"&&a!==i.current&&h(a)},[a,h]),G.useEffect(()=>{s.current[i.current]==null&&l(i.current,o[i.current].animation).catch(console.error)},[o,l]),{draw:g,setCurrentActionType:h}},c1=G.forwardRef((e,t)=>{const{draw:r}=u1({actions:uA,currentActionType:e.currentActionType,scale:e.scale,xOffset:0,positionRef:e.positionRef});return G.useImperativeHandle(t,()=>({draw:n=>r(n,e.positionRef,e.scale)})),null});c1.displayName="Hero";const Cl=[[{imageSrc:"/images/parallax-industrial-pack/parallax-industrial-pack/layers/skill-desc_0003_bg.png",scale:1,movementRate:0},{imageSrc:"/images/parallax-industrial-pack/parallax-industrial-pack/layers/skill-desc_0002_far-buildings.png",scale:.8,movementRate:.4},{imageSrc:"/images/parallax-industrial-pack/parallax-industrial-pack/layers/skill-desc_0001_buildings.png",scale:.6,movementRate:.6},{imageSrc:"/images/parallax-industrial-pack/parallax-industrial-pack/layers/skill-desc_0000_foreground.png",scale:.6,movementRate:1}],[{imageSrc:"/images/cyberpunk-street-files/cyberpunk-street-files/PNG/layers/far-buildings.png",scale:1,movementRate:.4},{imageSrc:"/images/cyberpunk-street-files/cyberpunk-street-files/PNG/layers/back-buildings.png",scale:.8,movementRate:.6},{imageSrc:"/images/cyberpunk-street-files/cyberpunk-street-files/PNG/layers/foreground.png",scale:1,movementRate:1}],[{imageSrc:"/images/post_soviet_city_parallax/post_soviet_city_parallax/layer_1_ground.png",scale:1,movementRate:1},{imageSrc:"/images/post_soviet_city_parallax/post_soviet_city_parallax/layer_2_stars.png",scale:.8,movementRate:0},{imageSrc:"/images/post_soviet_city_parallax/post_soviet_city_parallax/layer_3_moon.png",scale:.8,movementRate:0},{imageSrc:"/images/post_soviet_city_parallax/post_soviet_city_parallax/layer_4_clouds_1.png",scale:.8,movementRate:.2},{imageSrc:"/images/post_soviet_city_parallax/post_soviet_city_parallax/layer_6_far_buildings.png",scale:.8,movementRate:.3},{imageSrc:"/images/post_soviet_city_parallax/post_soviet_city_parallax/layer_7_bg_buildings.png",scale:.8,movementRate:.5},{imageSrc:"/images/post_soviet_city_parallax/post_soviet_city_parallax/layer_8_fg_buildings.png",scale:.6,movementRate:.6},{imageSrc:"/images/post_soviet_city_parallax/post_soviet_city_parallax/layer_9_wall.png",scale:.6,movementRate:1}],[{imageSrc:"/images/parallax-city-background-pack/1BG.png",scale:1,movementRate:0},{imageSrc:"/images/parallax-city-background-pack/2Mountain.png",scale:1,movementRate:.2},{imageSrc:"/images/parallax-city-background-pack/3MountainCloser.png",scale:1,movementRate:.3},{imageSrc:"/images/parallax-city-background-pack/3MountainCloserWCranes.png",scale:1,movementRate:.4},{imageSrc:"/images/parallax-city-background-pack/5Buildings.png",scale:1,movementRate:.5},{imageSrc:"/images/parallax-city-background-pack/6BlueBuildings.png",scale:1,movementRate:.7},{imageSrc:"/images/parallax-city-background-pack/7FireDept.png",scale:1,movementRate:.8},{imageSrc:"/images/parallax-city-background-pack/8Player.png",scale:1,movementRate:1}],[{imageSrc:"/images/city-ruins/post_apocalipse1.png",scale:1.3,movementRate:0},{imageSrc:"/images/city-ruins/post_apocalipse2.png",scale:1.3,movementRate:.5},{imageSrc:"/images/city-ruins/post_apocalipse3.png",scale:1,movementRate:1}],[{imageSrc:"/images/haunted-forest-parallaxing-background/background_1.png",scale:1,movementRate:0},{imageSrc:"/images/haunted-forest-parallaxing-background/background_2.png",scale:1,movementRate:.2},{imageSrc:"/images/haunted-forest-parallaxing-background/background_3.png",scale:1,movementRate:.4},{imageSrc:"/images/haunted-forest-parallaxing-background/background_4.png",scale:1,movementRate:.6},{imageSrc:"/images/haunted-forest-parallaxing-background/background_5.png",scale:1,movementRate:1}]],vA=()=>Cl.length,gA=({layer:e,offset:t,canvasHeight:r})=>{const n=r*e.scale,i=r-r*e.scale,s={backgroundImage:`url(${e.imageSrc})`,backgroundPositionX:-t*e.movementRate,backgroundRepeat:"repeat-x",backgroundSize:`auto ${n}px`,willChange:"transform",height:`${n}px`,width:"100%",position:"absolute",top:i};return de("div",{className:"parallax-layer",style:s})},mA=e=>{const t=60-e.canvasHeight;return de("div",{className:"scrolling-text-container",style:{position:"absolute",bottom:t,height:e.canvasHeight,width:"100%",zIndex:1,overflow:"hidden"},children:de("div",{className:"scrolling-text",style:{whiteSpace:"nowrap"},children:e.text})})},h1=G.forwardRef((e,t)=>{const{draw:r}=u1({actions:cA,currentActionType:e.currentActionType,scale:e.scale,xOffset:77,positionRef:e.positionRef});return G.useImperativeHandle(t,()=>({draw:n=>r(n,e.positionRef,e.scale)})),null});h1.displayName="Zombie4";const yA=Vt({prefix:"Game",level:mi.DEBUG});function _A(e,t){const{canvasHeight:r,canvasWidth:n}=e,i=G.useMemo(()=>({leftX:0,topY:0}),[]),s=G.useMemo(()=>({leftX:165,topY:29}),[]),a=.23,o=G.useRef(i),l=G.useRef(null),h=G.useRef(null),g=G.useRef(null),p=G.useRef(void 0),m=G.useRef(null),w=G.useRef(null),C=G.useRef(s),[y,v]=G.useState({leftX:n*a,topY:30}),[f,u]=G.useState(1),[d,_]=G.useState(null),[R,E]=G.useState(0),[L,b]=G.useState(!1),[I,U]=G.useState(!1),[W,Y]=G.useState("Idle"),[B,$]=G.useState("Walk"),N="TERMINAL VELOCITY!",[z,Q]=G.useState(Cl[0]??[]),V=xn(()=>ma.value),M=xn(()=>o1.value).value,P=G.useCallback(()=>f,[f]),O=G.useCallback(()=>{const we=p.current;typeof we=="number"&&!Number.isNaN(we)&&(cancelAnimationFrame(we),p.current=void 0)},[]),j=G.useCallback(()=>{rA({zIndex:3,angle:160,spread:45,startVelocity:45,particleCount:150,origin:{x:.99,y:.8}})},[]),Z=G.useCallback(()=>{const we=m.current;we!==null&&(clearTimeout(we),m.current=null),$("Death"),m.current=setTimeout(()=>{$("Walk"),o.current=i,b(!1),m.current=null},3e3)},[i]),re=G.useCallback(we=>{const Oe=n*a;we.clearRect(0,0,n,r);let $e=0;const ct=h.current;ct!==null&&($e=ct.draw(we,y));const Ft=g.current;if(Ft!==null){const yr=Ft.draw(we,o.current);o.current={...o.current,leftX:o.current.leftX+yr-$e}}if($e!==0){E(mt=>mt+$e),y.leftX>=Oe&&v(mt=>({...mt,leftX:Oe}));const yr=o.current.leftX-$e;o.current={...o.current,leftX:yr}}return $e},[n,r,y]),le=G.useCallback(()=>{const pe=y.leftX-o.current.leftX;-20<pe&&pe<100?($("Attack"),pe<50&&Y("Hurt"),pe<30&&Y("Death")):B==="Attack"&&$("Walk")},[y,B,Y]),ue=G.useCallback((we=null)=>{we===null&&(we=!I),U(we)},[I]),X=G.useCallback(()=>{ue(!0),setTimeout(()=>{ue(!1)},3e3)},[ue]),D=G.useCallback(we=>{let Oe=performance.now();const $e=()=>{const ct=performance.now(),Ft=ct-Oe;typeof Ft=="number"&&!Number.isNaN(Ft)&&Ft>=150&&(Oe=ct-Ft%150,L&&X(),re(we),le()),p.current=requestAnimationFrame($e)};p.current=requestAnimationFrame($e)},[L,X,re,le]),te=G.useCallback(()=>{const we=w.current;we!==null&&(clearTimeout(we),w.current=null),Y("Run"),w.current=window.setTimeout(()=>{Y("Idle"),w.current=null},800)},[Y]),ie=G.useCallback(()=>{te()},[te]);Kf(()=>{V.value?.trim()!==""&&ie()});const ce=G.useCallback(we=>{const pe=we.getContext("2d");pe!==null?_(pe):yA.error("Failed to get canvas context.")},[]),he=G.useCallback(we=>{const pe=Math.max(0,Math.min(we-1,Cl.length-1)),Oe=Cl[pe]??[];u(we),Q(Oe)},[]),Se=G.useCallback((we=null)=>{const pe=vA();we!==null&&we>pe&&(we=pe);let Oe=we!==null?we:P()+1;Oe>pe&&(Oe=0),Oe<1&&(Oe=1),he(Oe)},[he,P]),_e=G.useCallback(()=>{d!==null&&D(d),b(!1)},[d,D]),Le=G.useCallback(()=>{Z(),j(),b(!0)},[Z,j]);return G.useEffect(()=>{const we=l.current;return we!==null&&ce(we),()=>{O();const pe=m.current;pe!==null&&clearTimeout(pe)}},[ce,O]),G.useEffect(()=>{d!==null&&D(d)},[d,D]),G.useImperativeHandle(t,()=>({startGame:_e,completeGame:Le,resetGame:()=>{o.current=i,b(!1)},levelUp:Se}),[_e,Le,Se,i]),M?pt("div",{id:"terminal-game",style:{position:"relative",height:r},children:[pt("div",{className:"parallax-background",children:[I&&de(mA,{text:N,canvasHeight:r}),z.map((we,pe)=>de(gA,{layer:we,offset:R,canvasHeight:r},pe))]}),de("canvas",{"data-testid":"game-canvas",style:{position:"absolute",top:0,left:0,zIndex:2},ref:l,width:n,height:r}),de(c1,{ref:h,positionRef:C,currentActionType:W,scale:1.95}),de(h1,{ref:g,positionRef:o,currentActionType:B,scale:1.9})]}):de("div",{})}const SA=G.forwardRef(_A),CA=/^[a-zA-Z0-9\s'";:.!,?]+$/;let wA=class{static getGamePhraseByKey(t){const r=Je.find(n=>n.key==t);return r??this.getGamePhraseByIndex(0)}static getGamePhrasesByTutorialGroup(t){return Je.filter(n=>t.includes(n.tutorialGroup??"exclude"))}checkGamePhrases(){const t={status:200,message:"",data:[],error:[]};return Je.forEach((r,n)=>{CA.test(r.value)||(t.error.push(`Phrase at index ${n} contains non-standard characters: ${r.value}`),t.status=400)}),t}static getGamePhraseByIndex(t){if(t>=0&&t<Je.length&&Je[t]!=null)return Je[t]??null;if(t<0&&Je[0]!=null)return Je[0];if(t>=Je.length&&Je[Je.length-1]!=null)return Je[Je.length-1]??null;if(Je[0]!=null)return Je[0];throw new Error("No phrases available")}static getGamePhraseByValue(t){return Je.find(n=>n.value===t)??null}static getGamePhraseNames(){return Je.map(t=>t.key)}static getRandomGamePhrase(){const t=Je.length;if(t===0)throw new Error("No phrases available");const r=Math.floor(Math.random()*t),n=Je[r];if(n==null)throw new Error("Invalid phrase index");return n.value}static getGamePhrasesAchieved(){const t=localStorage.getItem("phrasesAchieved");try{return JSON.parse(t??"[]").map(n=>{const[i,s]=n.split(":");return{wpm:i??"",phraseName:s??""}})}catch(r){const n=r instanceof Error?r.message:"Unknown parsing error";return typeof window<"u"&&window.console?.error&&window.console.error("Error parsing phrases achieved:",n),[]}}static resetGamePhrasesAchieved(){localStorage.removeItem("phrasesAchieved")}};const dn=Vt({prefix:"useTutorials"}),kA=()=>{const[,e]=G.useState(null),t=xn(()=>oi.value),r=Je.filter(g=>g.displayAs==="Tutorial"),n=()=>{const g=[...oi.value];return dn.debug("Completed tutorials:",g),g},i=G.useCallback(()=>{const g=r.filter(p=>!n().includes(p.key));return dn.debug("Incomplete tutorials:",g),g},[r]),s=g=>{const p=r.filter(m=>m.tutorialGroup===g);return dn.debug("Tutorials in group:",{groupName:g,result:p}),p},a=g=>{const p=r.find(m=>m.key===g);return dn.debug("Getting tutorial by phrase key:",{phraseKey:g,currentTutorial:p,normalizedKey:g,allTutorials:r.map(m=>({key:m.key,value:m.value}))}),p},o=g=>{const p=jt().contentKey??"",m=a(p);return dn.debug("Checking if can unlock tutorial:",{command:g,phraseKey:p,currentTutorial:m,location:jt(),completedTutorials:n()}),m?.key==null?(dn.debug("No current tutorial found"),!1):m.key===g?(dn.debug("Tutorial unlocked:",g),!0):(dn.debug("Tutorial not unlocked:",{expected:m.key,received:g,charCodesExpected:[...m.key].map(w=>w.charCodeAt(0)),charCodesReceived:[...g].map(w=>w.charCodeAt(0))}),!1)},l=g=>{const p=i(),m=s(g),w=m.filter(C=>p.includes(C));return dn.debug("Incomplete tutorials in group:",{groupName:g,result:w,allIncomplete:p,groupTutorials:m}),w},h=()=>i().length>0?Ce.TUTORIAL:Ce.GAME;return G.useEffect(()=>{const g=Xr();dn.debug("Setting current tutorial:",g),e(g)},[t]),{getTutorialByPhrasekey:a,canUnlockTutorial:o,getTutorialsInGroup:s,getIncompleteTutorialsInGroup:l,getNextActivity:h}},rt=Vt({prefix:"ActivityMediator"});function f1(){const[e,t]=G.useState("Idle"),[r,n]=G.useState("Walk"),{getIncompleteTutorialsInGroup:i,canUnlockTutorial:s}=kA(),a=xn(()=>Ne.value).value,o=G.useRef(null),l=G.useCallback((y,v)=>{v!=null?km(v,y):km(),Ne.value=Ce.GAME,Ut({activityKey:Ce.GAME,contentKey:y??null,groupKey:v??null})},[]),h=G.useCallback(y=>{switch(y.displayAs){case"Tutorial":return Ce.TUTORIAL;case"Game":return Ce.GAME;default:return Ce.NORMAL}},[]),g=G.useCallback(y=>{switch(y.displayAs){case"Tutorial":return y.key;case"Game":return y.value;default:return null}},[]),p=G.useCallback(y=>{rt.debug(`Checking game progress: ${JSON.stringify(y)}`);const v=jt().groupKey??"";if(l1(y.key),v!=null){const u=xf(v)[0];if(u!=null){pu(ts()),l(u.key,u.tutorialGroup);return}i(v).forEach(R=>{Yp(R.value)});const _=Xr();if(_!=null){Ut({activityKey:h(_),contentKey:g(_),groupKey:_.tutorialGroup??""});return}}const f=ts();if(f!=null){pu(f),l(f.key,f.tutorialGroup);return}Ne.value=Ce.NORMAL,Ut({activityKey:Ce.NORMAL})},[h,g,i,l]),m=G.useCallback(y=>{if(rt.debug(`Checking tutorial progress: ${JSON.stringify({command:y,currentTutorial:Sn.value,activity:Ne.value,location:jt()})}`),o.current=Xr(),o.current==null){rt.debug("No current tutorial found");return}const v=jt().groupKey??null,f=y===""?"\r":y;if(f!=null){if(o.current?.value==null){rt.error("Current tutorial value is undefined: Undefined tutorial value");return}if(rt.debug(`Checking if can unlock tutorial: ${JSON.stringify({commandOrReturn:f,currentPhrase:o.current.value,charCodesCommand:[...f].map(_=>_.charCodeAt(0)),charCodesPhrase:[...o.current.value].map(_=>_.charCodeAt(0))})}`),s(f)){if(Yp(o.current.key),rt.debug("Tutorial unlocked:",f),v!=null){const E=xf(v)[0];E!=null&&l(E.key,E.tutorialGroup);return}const _=Xr();if(_?.value!=null){rt.debug("Transitioning to next tutorial:",_),Ne.value=Ce.TUTORIAL,Ms(_),Ut({activityKey:Ce.TUTORIAL,contentKey:_.displayAs==="Tutorial"?_.key:_.value,groupKey:_.tutorialGroup??null});return}if(Xr()===null)rt.debug("Tutorial complete - transitioning to NORMAL mode",{currentActivity:Ne.value,nextActivity:Ce.NORMAL}),Ne.value=Ce.NORMAL,Ut({activityKey:Ce.NORMAL});else{rt.debug("Tutorial not complete - transitioning to game mode",{nextTutorial:_,activitySignal:Ne.value,groupKey:v});const E=ts();rt.debug("Next game phrase:",E),E!=null?(rt.debug("Transitioning to game with phrase:",E.key,{currentActivity:Ne.value,nextActivity:Ce.GAME}),Ne.value=Ce.GAME,l(E.key,v)):(rt.debug("No game phrase found - transitioning to NORMAL mode",{currentActivity:Ne.value,nextActivity:Ce.NORMAL}),Ne.value=Ce.NORMAL,Ut({activityKey:Ce.NORMAL}))}}else{rt.debug(`Tutorial not unlocked: ${JSON.stringify({expected:o.current.value,received:f})}`),P2(`Tutorial ${Sn.value?.value} not unlocked with ${f}`);return}}const u=Xr();if(rt.debug("Next tutorial:",u),u?.value!=null){Ms(u),Ut({activityKey:h(u),contentKey:g(u),groupKey:u.tutorialGroup??null});return}const d=ts();d!=null&&l(d?.key,v)},[s,h,g,l]),w=G.useCallback(y=>{rt.debug("Handling command:",y,{currentActivity:Ne.value,tutorialState:Sn.value,location:jt()});let v=!1;if(jt().activityKey===Ce.TUTORIAL)m(y.command);else if(jt().activityKey===Ce.GAME&&jt().contentKey!=null){const f=wA.getGamePhraseByKey(jt().contentKey??"");f!=null&&p(f)}switch(y.command){case"play":{const f=ts();l(f?.key),v=!0;break}case"tut":{"r"in y.switches&&fh();const f=Xr();Ut({activityKey:Ce.TUTORIAL,contentKey:f?.key??null,groupKey:f?.tutorialGroup??null}),v=!0;break}case"edit":{if(!localStorage.getItem(Et.completedTutorials)){rt.debug("Tutorials not complete, staying in current mode\rTo bypass the tutorial execute h `complete` command."),v=!1;break}rt.debug("Tutorials complete, transitioning to edit mode"),Ne.value=Ce.EDIT,Ut({activityKey:Ce.EDIT,contentKey:jt().contentKey??null,groupKey:null}),v=!0;break}default:v=!1}return v},[p,m,l]);G.useEffect(()=>{a===Ce.TUTORIAL&&m(null)},[a,m]),G.useEffect(()=>{rt.debug("Initial activity determination - starting");const y=localStorage.getItem(Et.completedTutorials);if(rt.debug(`Found completed tutorials in localStorage: ${y}`),y)rt.debug("Found completed tutorials - transitioning to NORMAL mode"),fh(),rt.debug("Setting NORMAL activity and clearing URL params"),Ut({activityKey:Ce.NORMAL,contentKey:null,groupKey:null,clearParams:!0},{forceClear:!0,replace:!0,skipTutorial:!0}),Ne.value=Ce.NORMAL;else{rt.debug("No completed tutorials found - checking for next tutorial");const v=Xr();rt.debug(`Next tutorial found: ${v?v.key:"none"}`);const f=v?Ce.TUTORIAL:Ce.NORMAL;Ne.value=f,rt.debug(`Navigating to initial activity: ${f}`),Ut({activityKey:f,contentKey:null,groupKey:null})}},[]);const C=G.useCallback(y=>{rt.debug("Setting activity:",y),Ne.value=y,Ut({activityKey:y,contentKey:jt().contentKey??null,groupKey:jt().groupKey??null})},[]);return{isInGameMode:a===Ce.GAME,isInTutorial:a===Ce.TUTORIAL,isInEdit:a===Ce.EDIT,isInNormal:a===Ce.NORMAL,checkTutorialProgress:m,heroAction:e,zombie4Action:r,handleCommandExecuted:w,setHeroAction:t,setZombie4Action:n,checkGameProgress:p,setActivity:C}}var d1={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(self,()=>(()=>{var r={};return(()=>{var n=r;Object.defineProperty(n,"__esModule",{value:!0}),n.FitAddon=void 0,n.FitAddon=class{activate(i){this._terminal=i}dispose(){}fit(){const i=this.proposeDimensions();if(!i||!this._terminal||isNaN(i.cols)||isNaN(i.rows))return;const s=this._terminal._core;this._terminal.rows===i.rows&&this._terminal.cols===i.cols||(s._renderService.clear(),this._terminal.resize(i.cols,i.rows))}proposeDimensions(){if(!this._terminal||!this._terminal.element||!this._terminal.element.parentElement)return;const i=this._terminal._core,s=i._renderService.dimensions;if(s.css.cell.width===0||s.css.cell.height===0)return;const a=this._terminal.options.scrollback===0?0:i.viewport.scrollBarWidth,o=window.getComputedStyle(this._terminal.element.parentElement),l=parseInt(o.getPropertyValue("height")),h=Math.max(0,parseInt(o.getPropertyValue("width"))),g=window.getComputedStyle(this._terminal.element),p=l-(parseInt(g.getPropertyValue("padding-top"))+parseInt(g.getPropertyValue("padding-bottom"))),m=h-(parseInt(g.getPropertyValue("padding-right"))+parseInt(g.getPropertyValue("padding-left")))-a;return{cols:Math.max(2,Math.floor(m/s.css.cell.width)),rows:Math.max(1,Math.floor(p/s.css.cell.height))}}}})(),r})())})(d1);var bA=d1.exports,p1={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(globalThis,()=>(()=>{var r={4567:function(a,o,l){var h=this&&this.__decorate||function(u,d,_,R){var E,L=arguments.length,b=L<3?d:R===null?R=Object.getOwnPropertyDescriptor(d,_):R;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(u,d,_,R);else for(var I=u.length-1;I>=0;I--)(E=u[I])&&(b=(L<3?E(b):L>3?E(d,_,b):E(d,_))||b);return L>3&&b&&Object.defineProperty(d,_,b),b},g=this&&this.__param||function(u,d){return function(_,R){d(_,R,u)}};Object.defineProperty(o,"__esModule",{value:!0}),o.AccessibilityManager=void 0;const p=l(9042),m=l(9924),w=l(844),C=l(4725),y=l(2585),v=l(3656);let f=o.AccessibilityManager=class extends w.Disposable{constructor(u,d,_,R){super(),this._terminal=u,this._coreBrowserService=_,this._renderService=R,this._rowColumns=new WeakMap,this._liveRegionLineCount=0,this._charsToConsume=[],this._charsToAnnounce="",this._accessibilityContainer=this._coreBrowserService.mainDocument.createElement("div"),this._accessibilityContainer.classList.add("xterm-accessibility"),this._rowContainer=this._coreBrowserService.mainDocument.createElement("div"),this._rowContainer.setAttribute("role","list"),this._rowContainer.classList.add("xterm-accessibility-tree"),this._rowElements=[];for(let E=0;E<this._terminal.rows;E++)this._rowElements[E]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[E]);if(this._topBoundaryFocusListener=E=>this._handleBoundaryFocus(E,0),this._bottomBoundaryFocusListener=E=>this._handleBoundaryFocus(E,1),this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions(),this._accessibilityContainer.appendChild(this._rowContainer),this._liveRegion=this._coreBrowserService.mainDocument.createElement("div"),this._liveRegion.classList.add("live-region"),this._liveRegion.setAttribute("aria-live","assertive"),this._accessibilityContainer.appendChild(this._liveRegion),this._liveRegionDebouncer=this.register(new m.TimeBasedDebouncer(this._renderRows.bind(this))),!this._terminal.element)throw new Error("Cannot enable accessibility before Terminal.open");this._terminal.element.insertAdjacentElement("afterbegin",this._accessibilityContainer),this.register(this._terminal.onResize(E=>this._handleResize(E.rows))),this.register(this._terminal.onRender(E=>this._refreshRows(E.start,E.end))),this.register(this._terminal.onScroll(()=>this._refreshRows())),this.register(this._terminal.onA11yChar(E=>this._handleChar(E))),this.register(this._terminal.onLineFeed(()=>this._handleChar(`
`))),this.register(this._terminal.onA11yTab(E=>this._handleTab(E))),this.register(this._terminal.onKey(E=>this._handleKey(E.key))),this.register(this._terminal.onBlur(()=>this._clearLiveRegion())),this.register(this._renderService.onDimensionsChange(()=>this._refreshRowsDimensions())),this.register((0,v.addDisposableDomListener)(document,"selectionchange",()=>this._handleSelectionChange())),this.register(this._coreBrowserService.onDprChange(()=>this._refreshRowsDimensions())),this._refreshRows(),this.register((0,w.toDisposable)(()=>{this._accessibilityContainer.remove(),this._rowElements.length=0}))}_handleTab(u){for(let d=0;d<u;d++)this._handleChar(" ")}_handleChar(u){this._liveRegionLineCount<21&&(this._charsToConsume.length>0?this._charsToConsume.shift()!==u&&(this._charsToAnnounce+=u):this._charsToAnnounce+=u,u===`
`&&(this._liveRegionLineCount++,this._liveRegionLineCount===21&&(this._liveRegion.textContent+=p.tooMuchOutput)))}_clearLiveRegion(){this._liveRegion.textContent="",this._liveRegionLineCount=0}_handleKey(u){this._clearLiveRegion(),/\p{Control}/u.test(u)||this._charsToConsume.push(u)}_refreshRows(u,d){this._liveRegionDebouncer.refresh(u,d,this._terminal.rows)}_renderRows(u,d){const _=this._terminal.buffer,R=_.lines.length.toString();for(let E=u;E<=d;E++){const L=_.lines.get(_.ydisp+E),b=[],I=L?.translateToString(!0,void 0,void 0,b)||"",U=(_.ydisp+E+1).toString(),W=this._rowElements[E];W&&(I.length===0?(W.innerText="",this._rowColumns.set(W,[0,1])):(W.textContent=I,this._rowColumns.set(W,b)),W.setAttribute("aria-posinset",U),W.setAttribute("aria-setsize",R))}this._announceCharacters()}_announceCharacters(){this._charsToAnnounce.length!==0&&(this._liveRegion.textContent+=this._charsToAnnounce,this._charsToAnnounce="")}_handleBoundaryFocus(u,d){const _=u.target,R=this._rowElements[d===0?1:this._rowElements.length-2];if(_.getAttribute("aria-posinset")===(d===0?"1":`${this._terminal.buffer.lines.length}`)||u.relatedTarget!==R)return;let E,L;if(d===0?(E=_,L=this._rowElements.pop(),this._rowContainer.removeChild(L)):(E=this._rowElements.shift(),L=_,this._rowContainer.removeChild(E)),E.removeEventListener("focus",this._topBoundaryFocusListener),L.removeEventListener("focus",this._bottomBoundaryFocusListener),d===0){const b=this._createAccessibilityTreeNode();this._rowElements.unshift(b),this._rowContainer.insertAdjacentElement("afterbegin",b)}else{const b=this._createAccessibilityTreeNode();this._rowElements.push(b),this._rowContainer.appendChild(b)}this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._terminal.scrollLines(d===0?-1:1),this._rowElements[d===0?1:this._rowElements.length-2].focus(),u.preventDefault(),u.stopImmediatePropagation()}_handleSelectionChange(){if(this._rowElements.length===0)return;const u=document.getSelection();if(!u)return;if(u.isCollapsed)return void(this._rowContainer.contains(u.anchorNode)&&this._terminal.clearSelection());if(!u.anchorNode||!u.focusNode)return void console.error("anchorNode and/or focusNode are null");let d={node:u.anchorNode,offset:u.anchorOffset},_={node:u.focusNode,offset:u.focusOffset};if((d.node.compareDocumentPosition(_.node)&Node.DOCUMENT_POSITION_PRECEDING||d.node===_.node&&d.offset>_.offset)&&([d,_]=[_,d]),d.node.compareDocumentPosition(this._rowElements[0])&(Node.DOCUMENT_POSITION_CONTAINED_BY|Node.DOCUMENT_POSITION_FOLLOWING)&&(d={node:this._rowElements[0].childNodes[0],offset:0}),!this._rowContainer.contains(d.node))return;const R=this._rowElements.slice(-1)[0];if(_.node.compareDocumentPosition(R)&(Node.DOCUMENT_POSITION_CONTAINED_BY|Node.DOCUMENT_POSITION_PRECEDING)&&(_={node:R,offset:R.textContent?.length??0}),!this._rowContainer.contains(_.node))return;const E=({node:I,offset:U})=>{const W=I instanceof Text?I.parentNode:I;let Y=parseInt(W?.getAttribute("aria-posinset"),10)-1;if(isNaN(Y))return console.warn("row is invalid. Race condition?"),null;const B=this._rowColumns.get(W);if(!B)return console.warn("columns is null. Race condition?"),null;let $=U<B.length?B[U]:B.slice(-1)[0]+1;return $>=this._terminal.cols&&(++Y,$=0),{row:Y,column:$}},L=E(d),b=E(_);if(L&&b){if(L.row>b.row||L.row===b.row&&L.column>=b.column)throw new Error("invalid range");this._terminal.select(L.column,L.row,(b.row-L.row)*this._terminal.cols-L.column+b.column)}}_handleResize(u){this._rowElements[this._rowElements.length-1].removeEventListener("focus",this._bottomBoundaryFocusListener);for(let d=this._rowContainer.children.length;d<this._terminal.rows;d++)this._rowElements[d]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[d]);for(;this._rowElements.length>u;)this._rowContainer.removeChild(this._rowElements.pop());this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions()}_createAccessibilityTreeNode(){const u=this._coreBrowserService.mainDocument.createElement("div");return u.setAttribute("role","listitem"),u.tabIndex=-1,this._refreshRowDimensions(u),u}_refreshRowsDimensions(){if(this._renderService.dimensions.css.cell.height){this._accessibilityContainer.style.width=`${this._renderService.dimensions.css.canvas.width}px`,this._rowElements.length!==this._terminal.rows&&this._handleResize(this._terminal.rows);for(let u=0;u<this._terminal.rows;u++)this._refreshRowDimensions(this._rowElements[u])}}_refreshRowDimensions(u){u.style.height=`${this._renderService.dimensions.css.cell.height}px`}};o.AccessibilityManager=f=h([g(1,y.IInstantiationService),g(2,C.ICoreBrowserService),g(3,C.IRenderService)],f)},3614:(a,o)=>{function l(m){return m.replace(/\r?\n/g,"\r")}function h(m,w){return w?"\x1B[200~"+m+"\x1B[201~":m}function g(m,w,C,y){m=h(m=l(m),C.decPrivateModes.bracketedPasteMode&&y.rawOptions.ignoreBracketedPasteMode!==!0),C.triggerDataEvent(m,!0),w.value=""}function p(m,w,C){const y=C.getBoundingClientRect(),v=m.clientX-y.left-10,f=m.clientY-y.top-10;w.style.width="20px",w.style.height="20px",w.style.left=`${v}px`,w.style.top=`${f}px`,w.style.zIndex="1000",w.focus()}Object.defineProperty(o,"__esModule",{value:!0}),o.rightClickHandler=o.moveTextAreaUnderMouseCursor=o.paste=o.handlePasteEvent=o.copyHandler=o.bracketTextForPaste=o.prepareTextForTerminal=void 0,o.prepareTextForTerminal=l,o.bracketTextForPaste=h,o.copyHandler=function(m,w){m.clipboardData&&m.clipboardData.setData("text/plain",w.selectionText),m.preventDefault()},o.handlePasteEvent=function(m,w,C,y){m.stopPropagation(),m.clipboardData&&g(m.clipboardData.getData("text/plain"),w,C,y)},o.paste=g,o.moveTextAreaUnderMouseCursor=p,o.rightClickHandler=function(m,w,C,y,v){p(m,w,C),v&&y.rightClickSelect(m),w.value=y.selectionText,w.select()}},7239:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ColorContrastCache=void 0;const h=l(1505);o.ColorContrastCache=class{constructor(){this._color=new h.TwoKeyMap,this._css=new h.TwoKeyMap}setCss(g,p,m){this._css.set(g,p,m)}getCss(g,p){return this._css.get(g,p)}setColor(g,p,m){this._color.set(g,p,m)}getColor(g,p){return this._color.get(g,p)}clear(){this._color.clear(),this._css.clear()}}},3656:(a,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.addDisposableDomListener=void 0,o.addDisposableDomListener=function(l,h,g,p){l.addEventListener(h,g,p);let m=!1;return{dispose:()=>{m||(m=!0,l.removeEventListener(h,g,p))}}}},3551:function(a,o,l){var h=this&&this.__decorate||function(f,u,d,_){var R,E=arguments.length,L=E<3?u:_===null?_=Object.getOwnPropertyDescriptor(u,d):_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")L=Reflect.decorate(f,u,d,_);else for(var b=f.length-1;b>=0;b--)(R=f[b])&&(L=(E<3?R(L):E>3?R(u,d,L):R(u,d))||L);return E>3&&L&&Object.defineProperty(u,d,L),L},g=this&&this.__param||function(f,u){return function(d,_){u(d,_,f)}};Object.defineProperty(o,"__esModule",{value:!0}),o.Linkifier=void 0;const p=l(3656),m=l(8460),w=l(844),C=l(2585),y=l(4725);let v=o.Linkifier=class extends w.Disposable{get currentLink(){return this._currentLink}constructor(f,u,d,_,R){super(),this._element=f,this._mouseService=u,this._renderService=d,this._bufferService=_,this._linkProviderService=R,this._linkCacheDisposables=[],this._isMouseOut=!0,this._wasResized=!1,this._activeLine=-1,this._onShowLinkUnderline=this.register(new m.EventEmitter),this.onShowLinkUnderline=this._onShowLinkUnderline.event,this._onHideLinkUnderline=this.register(new m.EventEmitter),this.onHideLinkUnderline=this._onHideLinkUnderline.event,this.register((0,w.getDisposeArrayDisposable)(this._linkCacheDisposables)),this.register((0,w.toDisposable)(()=>{this._lastMouseEvent=void 0,this._activeProviderReplies?.clear()})),this.register(this._bufferService.onResize(()=>{this._clearCurrentLink(),this._wasResized=!0})),this.register((0,p.addDisposableDomListener)(this._element,"mouseleave",()=>{this._isMouseOut=!0,this._clearCurrentLink()})),this.register((0,p.addDisposableDomListener)(this._element,"mousemove",this._handleMouseMove.bind(this))),this.register((0,p.addDisposableDomListener)(this._element,"mousedown",this._handleMouseDown.bind(this))),this.register((0,p.addDisposableDomListener)(this._element,"mouseup",this._handleMouseUp.bind(this)))}_handleMouseMove(f){this._lastMouseEvent=f;const u=this._positionFromMouseEvent(f,this._element,this._mouseService);if(!u)return;this._isMouseOut=!1;const d=f.composedPath();for(let _=0;_<d.length;_++){const R=d[_];if(R.classList.contains("xterm"))break;if(R.classList.contains("xterm-hover"))return}this._lastBufferCell&&u.x===this._lastBufferCell.x&&u.y===this._lastBufferCell.y||(this._handleHover(u),this._lastBufferCell=u)}_handleHover(f){if(this._activeLine!==f.y||this._wasResized)return this._clearCurrentLink(),this._askForLink(f,!1),void(this._wasResized=!1);this._currentLink&&this._linkAtPosition(this._currentLink.link,f)||(this._clearCurrentLink(),this._askForLink(f,!0))}_askForLink(f,u){this._activeProviderReplies&&u||(this._activeProviderReplies?.forEach(_=>{_?.forEach(R=>{R.link.dispose&&R.link.dispose()})}),this._activeProviderReplies=new Map,this._activeLine=f.y);let d=!1;for(const[_,R]of this._linkProviderService.linkProviders.entries())u?this._activeProviderReplies?.get(_)&&(d=this._checkLinkProviderResult(_,f,d)):R.provideLinks(f.y,E=>{if(this._isMouseOut)return;const L=E?.map(b=>({link:b}));this._activeProviderReplies?.set(_,L),d=this._checkLinkProviderResult(_,f,d),this._activeProviderReplies?.size===this._linkProviderService.linkProviders.length&&this._removeIntersectingLinks(f.y,this._activeProviderReplies)})}_removeIntersectingLinks(f,u){const d=new Set;for(let _=0;_<u.size;_++){const R=u.get(_);if(R)for(let E=0;E<R.length;E++){const L=R[E],b=L.link.range.start.y<f?0:L.link.range.start.x,I=L.link.range.end.y>f?this._bufferService.cols:L.link.range.end.x;for(let U=b;U<=I;U++){if(d.has(U)){R.splice(E--,1);break}d.add(U)}}}}_checkLinkProviderResult(f,u,d){if(!this._activeProviderReplies)return d;const _=this._activeProviderReplies.get(f);let R=!1;for(let E=0;E<f;E++)this._activeProviderReplies.has(E)&&!this._activeProviderReplies.get(E)||(R=!0);if(!R&&_){const E=_.find(L=>this._linkAtPosition(L.link,u));E&&(d=!0,this._handleNewLink(E))}if(this._activeProviderReplies.size===this._linkProviderService.linkProviders.length&&!d)for(let E=0;E<this._activeProviderReplies.size;E++){const L=this._activeProviderReplies.get(E)?.find(b=>this._linkAtPosition(b.link,u));if(L){d=!0,this._handleNewLink(L);break}}return d}_handleMouseDown(){this._mouseDownLink=this._currentLink}_handleMouseUp(f){if(!this._currentLink)return;const u=this._positionFromMouseEvent(f,this._element,this._mouseService);u&&this._mouseDownLink===this._currentLink&&this._linkAtPosition(this._currentLink.link,u)&&this._currentLink.link.activate(f,this._currentLink.link.text)}_clearCurrentLink(f,u){this._currentLink&&this._lastMouseEvent&&(!f||!u||this._currentLink.link.range.start.y>=f&&this._currentLink.link.range.end.y<=u)&&(this._linkLeave(this._element,this._currentLink.link,this._lastMouseEvent),this._currentLink=void 0,(0,w.disposeArray)(this._linkCacheDisposables))}_handleNewLink(f){if(!this._lastMouseEvent)return;const u=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);u&&this._linkAtPosition(f.link,u)&&(this._currentLink=f,this._currentLink.state={decorations:{underline:f.link.decorations===void 0||f.link.decorations.underline,pointerCursor:f.link.decorations===void 0||f.link.decorations.pointerCursor},isHovered:!0},this._linkHover(this._element,f.link,this._lastMouseEvent),f.link.decorations={},Object.defineProperties(f.link.decorations,{pointerCursor:{get:()=>this._currentLink?.state?.decorations.pointerCursor,set:d=>{this._currentLink?.state&&this._currentLink.state.decorations.pointerCursor!==d&&(this._currentLink.state.decorations.pointerCursor=d,this._currentLink.state.isHovered&&this._element.classList.toggle("xterm-cursor-pointer",d))}},underline:{get:()=>this._currentLink?.state?.decorations.underline,set:d=>{this._currentLink?.state&&this._currentLink?.state?.decorations.underline!==d&&(this._currentLink.state.decorations.underline=d,this._currentLink.state.isHovered&&this._fireUnderlineEvent(f.link,d))}}}),this._linkCacheDisposables.push(this._renderService.onRenderedViewportChange(d=>{if(!this._currentLink)return;const _=d.start===0?0:d.start+1+this._bufferService.buffer.ydisp,R=this._bufferService.buffer.ydisp+1+d.end;if(this._currentLink.link.range.start.y>=_&&this._currentLink.link.range.end.y<=R&&(this._clearCurrentLink(_,R),this._lastMouseEvent)){const E=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);E&&this._askForLink(E,!1)}})))}_linkHover(f,u,d){this._currentLink?.state&&(this._currentLink.state.isHovered=!0,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(u,!0),this._currentLink.state.decorations.pointerCursor&&f.classList.add("xterm-cursor-pointer")),u.hover&&u.hover(d,u.text)}_fireUnderlineEvent(f,u){const d=f.range,_=this._bufferService.buffer.ydisp,R=this._createLinkUnderlineEvent(d.start.x-1,d.start.y-_-1,d.end.x,d.end.y-_-1,void 0);(u?this._onShowLinkUnderline:this._onHideLinkUnderline).fire(R)}_linkLeave(f,u,d){this._currentLink?.state&&(this._currentLink.state.isHovered=!1,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(u,!1),this._currentLink.state.decorations.pointerCursor&&f.classList.remove("xterm-cursor-pointer")),u.leave&&u.leave(d,u.text)}_linkAtPosition(f,u){const d=f.range.start.y*this._bufferService.cols+f.range.start.x,_=f.range.end.y*this._bufferService.cols+f.range.end.x,R=u.y*this._bufferService.cols+u.x;return d<=R&&R<=_}_positionFromMouseEvent(f,u,d){const _=d.getCoords(f,u,this._bufferService.cols,this._bufferService.rows);if(_)return{x:_[0],y:_[1]+this._bufferService.buffer.ydisp}}_createLinkUnderlineEvent(f,u,d,_,R){return{x1:f,y1:u,x2:d,y2:_,cols:this._bufferService.cols,fg:R}}};o.Linkifier=v=h([g(1,y.IMouseService),g(2,y.IRenderService),g(3,C.IBufferService),g(4,y.ILinkProviderService)],v)},9042:(a,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.tooMuchOutput=o.promptLabel=void 0,o.promptLabel="Terminal input",o.tooMuchOutput="Too much output to announce, navigate to rows manually to read"},3730:function(a,o,l){var h=this&&this.__decorate||function(y,v,f,u){var d,_=arguments.length,R=_<3?v:u===null?u=Object.getOwnPropertyDescriptor(v,f):u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")R=Reflect.decorate(y,v,f,u);else for(var E=y.length-1;E>=0;E--)(d=y[E])&&(R=(_<3?d(R):_>3?d(v,f,R):d(v,f))||R);return _>3&&R&&Object.defineProperty(v,f,R),R},g=this&&this.__param||function(y,v){return function(f,u){v(f,u,y)}};Object.defineProperty(o,"__esModule",{value:!0}),o.OscLinkProvider=void 0;const p=l(511),m=l(2585);let w=o.OscLinkProvider=class{constructor(y,v,f){this._bufferService=y,this._optionsService=v,this._oscLinkService=f}provideLinks(y,v){const f=this._bufferService.buffer.lines.get(y-1);if(!f)return void v(void 0);const u=[],d=this._optionsService.rawOptions.linkHandler,_=new p.CellData,R=f.getTrimmedLength();let E=-1,L=-1,b=!1;for(let I=0;I<R;I++)if(L!==-1||f.hasContent(I)){if(f.loadCell(I,_),_.hasExtendedAttrs()&&_.extended.urlId){if(L===-1){L=I,E=_.extended.urlId;continue}b=_.extended.urlId!==E}else L!==-1&&(b=!0);if(b||L!==-1&&I===R-1){const U=this._oscLinkService.getLinkData(E)?.uri;if(U){const W={start:{x:L+1,y},end:{x:I+(b||I!==R-1?0:1),y}};let Y=!1;if(!d?.allowNonHttpProtocols)try{const B=new URL(U);["http:","https:"].includes(B.protocol)||(Y=!0)}catch{Y=!0}Y||u.push({text:U,range:W,activate:(B,$)=>d?d.activate(B,$,W):C(0,$),hover:(B,$)=>d?.hover?.(B,$,W),leave:(B,$)=>d?.leave?.(B,$,W)})}b=!1,_.hasExtendedAttrs()&&_.extended.urlId?(L=I,E=_.extended.urlId):(L=-1,E=-1)}}v(u)}};function C(y,v){if(confirm(`Do you want to navigate to ${v}?

WARNING: This link could potentially be dangerous`)){const f=window.open();if(f){try{f.opener=null}catch{}f.location.href=v}else console.warn("Opening link blocked as opener could not be cleared")}}o.OscLinkProvider=w=h([g(0,m.IBufferService),g(1,m.IOptionsService),g(2,m.IOscLinkService)],w)},6193:(a,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.RenderDebouncer=void 0,o.RenderDebouncer=class{constructor(l,h){this._renderCallback=l,this._coreBrowserService=h,this._refreshCallbacks=[]}dispose(){this._animationFrame&&(this._coreBrowserService.window.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)}addRefreshCallback(l){return this._refreshCallbacks.push(l),this._animationFrame||(this._animationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._innerRefresh())),this._animationFrame}refresh(l,h,g){this._rowCount=g,l=l!==void 0?l:0,h=h!==void 0?h:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,l):l,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,h):h,this._animationFrame||(this._animationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._innerRefresh()))}_innerRefresh(){if(this._animationFrame=void 0,this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0)return void this._runRefreshCallbacks();const l=Math.max(this._rowStart,0),h=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(l,h),this._runRefreshCallbacks()}_runRefreshCallbacks(){for(const l of this._refreshCallbacks)l(0);this._refreshCallbacks=[]}}},3236:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.Terminal=void 0;const h=l(3614),g=l(3656),p=l(3551),m=l(9042),w=l(3730),C=l(1680),y=l(3107),v=l(5744),f=l(2950),u=l(1296),d=l(428),_=l(4269),R=l(5114),E=l(8934),L=l(3230),b=l(9312),I=l(4725),U=l(6731),W=l(8055),Y=l(8969),B=l(8460),$=l(844),N=l(6114),z=l(8437),Q=l(2584),V=l(7399),M=l(5941),P=l(9074),O=l(2585),j=l(5435),Z=l(4567),re=l(779);class le extends Y.CoreTerminal{get onFocus(){return this._onFocus.event}get onBlur(){return this._onBlur.event}get onA11yChar(){return this._onA11yCharEmitter.event}get onA11yTab(){return this._onA11yTabEmitter.event}get onWillOpen(){return this._onWillOpen.event}constructor(X={}){super(X),this.browser=N,this._keyDownHandled=!1,this._keyDownSeen=!1,this._keyPressHandled=!1,this._unprocessedDeadKey=!1,this._accessibilityManager=this.register(new $.MutableDisposable),this._onCursorMove=this.register(new B.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onKey=this.register(new B.EventEmitter),this.onKey=this._onKey.event,this._onRender=this.register(new B.EventEmitter),this.onRender=this._onRender.event,this._onSelectionChange=this.register(new B.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onTitleChange=this.register(new B.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onBell=this.register(new B.EventEmitter),this.onBell=this._onBell.event,this._onFocus=this.register(new B.EventEmitter),this._onBlur=this.register(new B.EventEmitter),this._onA11yCharEmitter=this.register(new B.EventEmitter),this._onA11yTabEmitter=this.register(new B.EventEmitter),this._onWillOpen=this.register(new B.EventEmitter),this._setup(),this._decorationService=this._instantiationService.createInstance(P.DecorationService),this._instantiationService.setService(O.IDecorationService,this._decorationService),this._linkProviderService=this._instantiationService.createInstance(re.LinkProviderService),this._instantiationService.setService(I.ILinkProviderService,this._linkProviderService),this._linkProviderService.registerLinkProvider(this._instantiationService.createInstance(w.OscLinkProvider)),this.register(this._inputHandler.onRequestBell(()=>this._onBell.fire())),this.register(this._inputHandler.onRequestRefreshRows((D,te)=>this.refresh(D,te))),this.register(this._inputHandler.onRequestSendFocus(()=>this._reportFocus())),this.register(this._inputHandler.onRequestReset(()=>this.reset())),this.register(this._inputHandler.onRequestWindowsOptionsReport(D=>this._reportWindowsOptions(D))),this.register(this._inputHandler.onColor(D=>this._handleColorEvent(D))),this.register((0,B.forwardEvent)(this._inputHandler.onCursorMove,this._onCursorMove)),this.register((0,B.forwardEvent)(this._inputHandler.onTitleChange,this._onTitleChange)),this.register((0,B.forwardEvent)(this._inputHandler.onA11yChar,this._onA11yCharEmitter)),this.register((0,B.forwardEvent)(this._inputHandler.onA11yTab,this._onA11yTabEmitter)),this.register(this._bufferService.onResize(D=>this._afterResize(D.cols,D.rows))),this.register((0,$.toDisposable)(()=>{this._customKeyEventHandler=void 0,this.element?.parentNode?.removeChild(this.element)}))}_handleColorEvent(X){if(this._themeService)for(const D of X){let te,ie="";switch(D.index){case 256:te="foreground",ie="10";break;case 257:te="background",ie="11";break;case 258:te="cursor",ie="12";break;default:te="ansi",ie="4;"+D.index}switch(D.type){case 0:const ce=W.color.toColorRGB(te==="ansi"?this._themeService.colors.ansi[D.index]:this._themeService.colors[te]);this.coreService.triggerDataEvent(`${Q.C0.ESC}]${ie};${(0,M.toRgbString)(ce)}${Q.C1_ESCAPED.ST}`);break;case 1:if(te==="ansi")this._themeService.modifyColors(he=>he.ansi[D.index]=W.channels.toColor(...D.color));else{const he=te;this._themeService.modifyColors(Se=>Se[he]=W.channels.toColor(...D.color))}break;case 2:this._themeService.restoreColor(D.index)}}}_setup(){super._setup(),this._customKeyEventHandler=void 0}get buffer(){return this.buffers.active}focus(){this.textarea&&this.textarea.focus({preventScroll:!0})}_handleScreenReaderModeOptionChange(X){X?!this._accessibilityManager.value&&this._renderService&&(this._accessibilityManager.value=this._instantiationService.createInstance(Z.AccessibilityManager,this)):this._accessibilityManager.clear()}_handleTextAreaFocus(X){this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(Q.C0.ESC+"[I"),this.element.classList.add("focus"),this._showCursor(),this._onFocus.fire()}blur(){return this.textarea?.blur()}_handleTextAreaBlur(){this.textarea.value="",this.refresh(this.buffer.y,this.buffer.y),this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(Q.C0.ESC+"[O"),this.element.classList.remove("focus"),this._onBlur.fire()}_syncTextArea(){if(!this.textarea||!this.buffer.isCursorInViewport||this._compositionHelper.isComposing||!this._renderService)return;const X=this.buffer.ybase+this.buffer.y,D=this.buffer.lines.get(X);if(!D)return;const te=Math.min(this.buffer.x,this.cols-1),ie=this._renderService.dimensions.css.cell.height,ce=D.getWidth(te),he=this._renderService.dimensions.css.cell.width*ce,Se=this.buffer.y*this._renderService.dimensions.css.cell.height,_e=te*this._renderService.dimensions.css.cell.width;this.textarea.style.left=_e+"px",this.textarea.style.top=Se+"px",this.textarea.style.width=he+"px",this.textarea.style.height=ie+"px",this.textarea.style.lineHeight=ie+"px",this.textarea.style.zIndex="-5"}_initGlobal(){this._bindKeys(),this.register((0,g.addDisposableDomListener)(this.element,"copy",D=>{this.hasSelection()&&(0,h.copyHandler)(D,this._selectionService)}));const X=D=>(0,h.handlePasteEvent)(D,this.textarea,this.coreService,this.optionsService);this.register((0,g.addDisposableDomListener)(this.textarea,"paste",X)),this.register((0,g.addDisposableDomListener)(this.element,"paste",X)),N.isFirefox?this.register((0,g.addDisposableDomListener)(this.element,"mousedown",D=>{D.button===2&&(0,h.rightClickHandler)(D,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)})):this.register((0,g.addDisposableDomListener)(this.element,"contextmenu",D=>{(0,h.rightClickHandler)(D,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)})),N.isLinux&&this.register((0,g.addDisposableDomListener)(this.element,"auxclick",D=>{D.button===1&&(0,h.moveTextAreaUnderMouseCursor)(D,this.textarea,this.screenElement)}))}_bindKeys(){this.register((0,g.addDisposableDomListener)(this.textarea,"keyup",X=>this._keyUp(X),!0)),this.register((0,g.addDisposableDomListener)(this.textarea,"keydown",X=>this._keyDown(X),!0)),this.register((0,g.addDisposableDomListener)(this.textarea,"keypress",X=>this._keyPress(X),!0)),this.register((0,g.addDisposableDomListener)(this.textarea,"compositionstart",()=>this._compositionHelper.compositionstart())),this.register((0,g.addDisposableDomListener)(this.textarea,"compositionupdate",X=>this._compositionHelper.compositionupdate(X))),this.register((0,g.addDisposableDomListener)(this.textarea,"compositionend",()=>this._compositionHelper.compositionend())),this.register((0,g.addDisposableDomListener)(this.textarea,"input",X=>this._inputEvent(X),!0)),this.register(this.onRender(()=>this._compositionHelper.updateCompositionElements()))}open(X){if(!X)throw new Error("Terminal requires a parent element.");if(X.isConnected||this._logService.debug("Terminal.open was called on an element that was not attached to the DOM"),this.element?.ownerDocument.defaultView&&this._coreBrowserService)return void(this.element.ownerDocument.defaultView!==this._coreBrowserService.window&&(this._coreBrowserService.window=this.element.ownerDocument.defaultView));this._document=X.ownerDocument,this.options.documentOverride&&this.options.documentOverride instanceof Document&&(this._document=this.optionsService.rawOptions.documentOverride),this.element=this._document.createElement("div"),this.element.dir="ltr",this.element.classList.add("terminal"),this.element.classList.add("xterm"),X.appendChild(this.element);const D=this._document.createDocumentFragment();this._viewportElement=this._document.createElement("div"),this._viewportElement.classList.add("xterm-viewport"),D.appendChild(this._viewportElement),this._viewportScrollArea=this._document.createElement("div"),this._viewportScrollArea.classList.add("xterm-scroll-area"),this._viewportElement.appendChild(this._viewportScrollArea),this.screenElement=this._document.createElement("div"),this.screenElement.classList.add("xterm-screen"),this.register((0,g.addDisposableDomListener)(this.screenElement,"mousemove",te=>this.updateCursorStyle(te))),this._helperContainer=this._document.createElement("div"),this._helperContainer.classList.add("xterm-helpers"),this.screenElement.appendChild(this._helperContainer),D.appendChild(this.screenElement),this.textarea=this._document.createElement("textarea"),this.textarea.classList.add("xterm-helper-textarea"),this.textarea.setAttribute("aria-label",m.promptLabel),N.isChromeOS||this.textarea.setAttribute("aria-multiline","false"),this.textarea.setAttribute("autocorrect","off"),this.textarea.setAttribute("autocapitalize","off"),this.textarea.setAttribute("spellcheck","false"),this.textarea.tabIndex=0,this._coreBrowserService=this.register(this._instantiationService.createInstance(R.CoreBrowserService,this.textarea,X.ownerDocument.defaultView??window,this._document??typeof window<"u"?window.document:null)),this._instantiationService.setService(I.ICoreBrowserService,this._coreBrowserService),this.register((0,g.addDisposableDomListener)(this.textarea,"focus",te=>this._handleTextAreaFocus(te))),this.register((0,g.addDisposableDomListener)(this.textarea,"blur",()=>this._handleTextAreaBlur())),this._helperContainer.appendChild(this.textarea),this._charSizeService=this._instantiationService.createInstance(d.CharSizeService,this._document,this._helperContainer),this._instantiationService.setService(I.ICharSizeService,this._charSizeService),this._themeService=this._instantiationService.createInstance(U.ThemeService),this._instantiationService.setService(I.IThemeService,this._themeService),this._characterJoinerService=this._instantiationService.createInstance(_.CharacterJoinerService),this._instantiationService.setService(I.ICharacterJoinerService,this._characterJoinerService),this._renderService=this.register(this._instantiationService.createInstance(L.RenderService,this.rows,this.screenElement)),this._instantiationService.setService(I.IRenderService,this._renderService),this.register(this._renderService.onRenderedViewportChange(te=>this._onRender.fire(te))),this.onResize(te=>this._renderService.resize(te.cols,te.rows)),this._compositionView=this._document.createElement("div"),this._compositionView.classList.add("composition-view"),this._compositionHelper=this._instantiationService.createInstance(f.CompositionHelper,this.textarea,this._compositionView),this._helperContainer.appendChild(this._compositionView),this._mouseService=this._instantiationService.createInstance(E.MouseService),this._instantiationService.setService(I.IMouseService,this._mouseService),this.linkifier=this.register(this._instantiationService.createInstance(p.Linkifier,this.screenElement)),this.element.appendChild(D);try{this._onWillOpen.fire(this.element)}catch{}this._renderService.hasRenderer()||this._renderService.setRenderer(this._createRenderer()),this.viewport=this._instantiationService.createInstance(C.Viewport,this._viewportElement,this._viewportScrollArea),this.viewport.onRequestScrollLines(te=>this.scrollLines(te.amount,te.suppressScrollEvent,1)),this.register(this._inputHandler.onRequestSyncScrollBar(()=>this.viewport.syncScrollArea())),this.register(this.viewport),this.register(this.onCursorMove(()=>{this._renderService.handleCursorMove(),this._syncTextArea()})),this.register(this.onResize(()=>this._renderService.handleResize(this.cols,this.rows))),this.register(this.onBlur(()=>this._renderService.handleBlur())),this.register(this.onFocus(()=>this._renderService.handleFocus())),this.register(this._renderService.onDimensionsChange(()=>this.viewport.syncScrollArea())),this._selectionService=this.register(this._instantiationService.createInstance(b.SelectionService,this.element,this.screenElement,this.linkifier)),this._instantiationService.setService(I.ISelectionService,this._selectionService),this.register(this._selectionService.onRequestScrollLines(te=>this.scrollLines(te.amount,te.suppressScrollEvent))),this.register(this._selectionService.onSelectionChange(()=>this._onSelectionChange.fire())),this.register(this._selectionService.onRequestRedraw(te=>this._renderService.handleSelectionChanged(te.start,te.end,te.columnSelectMode))),this.register(this._selectionService.onLinuxMouseSelection(te=>{this.textarea.value=te,this.textarea.focus(),this.textarea.select()})),this.register(this._onScroll.event(te=>{this.viewport.syncScrollArea(),this._selectionService.refresh()})),this.register((0,g.addDisposableDomListener)(this._viewportElement,"scroll",()=>this._selectionService.refresh())),this.register(this._instantiationService.createInstance(y.BufferDecorationRenderer,this.screenElement)),this.register((0,g.addDisposableDomListener)(this.element,"mousedown",te=>this._selectionService.handleMouseDown(te))),this.coreMouseService.areMouseEventsActive?(this._selectionService.disable(),this.element.classList.add("enable-mouse-events")):this._selectionService.enable(),this.options.screenReaderMode&&(this._accessibilityManager.value=this._instantiationService.createInstance(Z.AccessibilityManager,this)),this.register(this.optionsService.onSpecificOptionChange("screenReaderMode",te=>this._handleScreenReaderModeOptionChange(te))),this.options.overviewRulerWidth&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(v.OverviewRulerRenderer,this._viewportElement,this.screenElement))),this.optionsService.onSpecificOptionChange("overviewRulerWidth",te=>{!this._overviewRulerRenderer&&te&&this._viewportElement&&this.screenElement&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(v.OverviewRulerRenderer,this._viewportElement,this.screenElement)))}),this._charSizeService.measure(),this.refresh(0,this.rows-1),this._initGlobal(),this.bindMouse()}_createRenderer(){return this._instantiationService.createInstance(u.DomRenderer,this,this._document,this.element,this.screenElement,this._viewportElement,this._helperContainer,this.linkifier)}bindMouse(){const X=this,D=this.element;function te(he){const Se=X._mouseService.getMouseReportCoords(he,X.screenElement);if(!Se)return!1;let _e,Le;switch(he.overrideType||he.type){case"mousemove":Le=32,he.buttons===void 0?(_e=3,he.button!==void 0&&(_e=he.button<3?he.button:3)):_e=1&he.buttons?0:4&he.buttons?1:2&he.buttons?2:3;break;case"mouseup":Le=0,_e=he.button<3?he.button:3;break;case"mousedown":Le=1,_e=he.button<3?he.button:3;break;case"wheel":if(X._customWheelEventHandler&&X._customWheelEventHandler(he)===!1||X.viewport.getLinesScrolled(he)===0)return!1;Le=he.deltaY<0?0:1,_e=4;break;default:return!1}return!(Le===void 0||_e===void 0||_e>4)&&X.coreMouseService.triggerMouseEvent({col:Se.col,row:Se.row,x:Se.x,y:Se.y,button:_e,action:Le,ctrl:he.ctrlKey,alt:he.altKey,shift:he.shiftKey})}const ie={mouseup:null,wheel:null,mousedrag:null,mousemove:null},ce={mouseup:he=>(te(he),he.buttons||(this._document.removeEventListener("mouseup",ie.mouseup),ie.mousedrag&&this._document.removeEventListener("mousemove",ie.mousedrag)),this.cancel(he)),wheel:he=>(te(he),this.cancel(he,!0)),mousedrag:he=>{he.buttons&&te(he)},mousemove:he=>{he.buttons||te(he)}};this.register(this.coreMouseService.onProtocolChange(he=>{he?(this.optionsService.rawOptions.logLevel==="debug"&&this._logService.debug("Binding to mouse events:",this.coreMouseService.explainEvents(he)),this.element.classList.add("enable-mouse-events"),this._selectionService.disable()):(this._logService.debug("Unbinding from mouse events."),this.element.classList.remove("enable-mouse-events"),this._selectionService.enable()),8&he?ie.mousemove||(D.addEventListener("mousemove",ce.mousemove),ie.mousemove=ce.mousemove):(D.removeEventListener("mousemove",ie.mousemove),ie.mousemove=null),16&he?ie.wheel||(D.addEventListener("wheel",ce.wheel,{passive:!1}),ie.wheel=ce.wheel):(D.removeEventListener("wheel",ie.wheel),ie.wheel=null),2&he?ie.mouseup||(ie.mouseup=ce.mouseup):(this._document.removeEventListener("mouseup",ie.mouseup),ie.mouseup=null),4&he?ie.mousedrag||(ie.mousedrag=ce.mousedrag):(this._document.removeEventListener("mousemove",ie.mousedrag),ie.mousedrag=null)})),this.coreMouseService.activeProtocol=this.coreMouseService.activeProtocol,this.register((0,g.addDisposableDomListener)(D,"mousedown",he=>{if(he.preventDefault(),this.focus(),this.coreMouseService.areMouseEventsActive&&!this._selectionService.shouldForceSelection(he))return te(he),ie.mouseup&&this._document.addEventListener("mouseup",ie.mouseup),ie.mousedrag&&this._document.addEventListener("mousemove",ie.mousedrag),this.cancel(he)})),this.register((0,g.addDisposableDomListener)(D,"wheel",he=>{if(!ie.wheel){if(this._customWheelEventHandler&&this._customWheelEventHandler(he)===!1)return!1;if(!this.buffer.hasScrollback){const Se=this.viewport.getLinesScrolled(he);if(Se===0)return;const _e=Q.C0.ESC+(this.coreService.decPrivateModes.applicationCursorKeys?"O":"[")+(he.deltaY<0?"A":"B");let Le="";for(let we=0;we<Math.abs(Se);we++)Le+=_e;return this.coreService.triggerDataEvent(Le,!0),this.cancel(he,!0)}return this.viewport.handleWheel(he)?this.cancel(he):void 0}},{passive:!1})),this.register((0,g.addDisposableDomListener)(D,"touchstart",he=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchStart(he),this.cancel(he)},{passive:!0})),this.register((0,g.addDisposableDomListener)(D,"touchmove",he=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchMove(he)?void 0:this.cancel(he)},{passive:!1}))}refresh(X,D){this._renderService?.refreshRows(X,D)}updateCursorStyle(X){this._selectionService?.shouldColumnSelect(X)?this.element.classList.add("column-select"):this.element.classList.remove("column-select")}_showCursor(){this.coreService.isCursorInitialized||(this.coreService.isCursorInitialized=!0,this.refresh(this.buffer.y,this.buffer.y))}scrollLines(X,D,te=0){te===1?(super.scrollLines(X,D,te),this.refresh(0,this.rows-1)):this.viewport?.scrollLines(X)}paste(X){(0,h.paste)(X,this.textarea,this.coreService,this.optionsService)}attachCustomKeyEventHandler(X){this._customKeyEventHandler=X}attachCustomWheelEventHandler(X){this._customWheelEventHandler=X}registerLinkProvider(X){return this._linkProviderService.registerLinkProvider(X)}registerCharacterJoiner(X){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");const D=this._characterJoinerService.register(X);return this.refresh(0,this.rows-1),D}deregisterCharacterJoiner(X){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");this._characterJoinerService.deregister(X)&&this.refresh(0,this.rows-1)}get markers(){return this.buffer.markers}registerMarker(X){return this.buffer.addMarker(this.buffer.ybase+this.buffer.y+X)}registerDecoration(X){return this._decorationService.registerDecoration(X)}hasSelection(){return!!this._selectionService&&this._selectionService.hasSelection}select(X,D,te){this._selectionService.setSelection(X,D,te)}getSelection(){return this._selectionService?this._selectionService.selectionText:""}getSelectionPosition(){if(this._selectionService&&this._selectionService.hasSelection)return{start:{x:this._selectionService.selectionStart[0],y:this._selectionService.selectionStart[1]},end:{x:this._selectionService.selectionEnd[0],y:this._selectionService.selectionEnd[1]}}}clearSelection(){this._selectionService?.clearSelection()}selectAll(){this._selectionService?.selectAll()}selectLines(X,D){this._selectionService?.selectLines(X,D)}_keyDown(X){if(this._keyDownHandled=!1,this._keyDownSeen=!0,this._customKeyEventHandler&&this._customKeyEventHandler(X)===!1)return!1;const D=this.browser.isMac&&this.options.macOptionIsMeta&&X.altKey;if(!D&&!this._compositionHelper.keydown(X))return this.options.scrollOnUserInput&&this.buffer.ybase!==this.buffer.ydisp&&this.scrollToBottom(),!1;D||X.key!=="Dead"&&X.key!=="AltGraph"||(this._unprocessedDeadKey=!0);const te=(0,V.evaluateKeyboardEvent)(X,this.coreService.decPrivateModes.applicationCursorKeys,this.browser.isMac,this.options.macOptionIsMeta);if(this.updateCursorStyle(X),te.type===3||te.type===2){const ie=this.rows-1;return this.scrollLines(te.type===2?-ie:ie),this.cancel(X,!0)}return te.type===1&&this.selectAll(),!!this._isThirdLevelShift(this.browser,X)||(te.cancel&&this.cancel(X,!0),!te.key||!!(X.key&&!X.ctrlKey&&!X.altKey&&!X.metaKey&&X.key.length===1&&X.key.charCodeAt(0)>=65&&X.key.charCodeAt(0)<=90)||(this._unprocessedDeadKey?(this._unprocessedDeadKey=!1,!0):(te.key!==Q.C0.ETX&&te.key!==Q.C0.CR||(this.textarea.value=""),this._onKey.fire({key:te.key,domEvent:X}),this._showCursor(),this.coreService.triggerDataEvent(te.key,!0),!this.optionsService.rawOptions.screenReaderMode||X.altKey||X.ctrlKey?this.cancel(X,!0):void(this._keyDownHandled=!0))))}_isThirdLevelShift(X,D){const te=X.isMac&&!this.options.macOptionIsMeta&&D.altKey&&!D.ctrlKey&&!D.metaKey||X.isWindows&&D.altKey&&D.ctrlKey&&!D.metaKey||X.isWindows&&D.getModifierState("AltGraph");return D.type==="keypress"?te:te&&(!D.keyCode||D.keyCode>47)}_keyUp(X){this._keyDownSeen=!1,this._customKeyEventHandler&&this._customKeyEventHandler(X)===!1||(function(D){return D.keyCode===16||D.keyCode===17||D.keyCode===18}(X)||this.focus(),this.updateCursorStyle(X),this._keyPressHandled=!1)}_keyPress(X){let D;if(this._keyPressHandled=!1,this._keyDownHandled||this._customKeyEventHandler&&this._customKeyEventHandler(X)===!1)return!1;if(this.cancel(X),X.charCode)D=X.charCode;else if(X.which===null||X.which===void 0)D=X.keyCode;else{if(X.which===0||X.charCode===0)return!1;D=X.which}return!(!D||(X.altKey||X.ctrlKey||X.metaKey)&&!this._isThirdLevelShift(this.browser,X)||(D=String.fromCharCode(D),this._onKey.fire({key:D,domEvent:X}),this._showCursor(),this.coreService.triggerDataEvent(D,!0),this._keyPressHandled=!0,this._unprocessedDeadKey=!1,0))}_inputEvent(X){if(X.data&&X.inputType==="insertText"&&(!X.composed||!this._keyDownSeen)&&!this.optionsService.rawOptions.screenReaderMode){if(this._keyPressHandled)return!1;this._unprocessedDeadKey=!1;const D=X.data;return this.coreService.triggerDataEvent(D,!0),this.cancel(X),!0}return!1}resize(X,D){X!==this.cols||D!==this.rows?super.resize(X,D):this._charSizeService&&!this._charSizeService.hasValidSize&&this._charSizeService.measure()}_afterResize(X,D){this._charSizeService?.measure(),this.viewport?.syncScrollArea(!0)}clear(){if(this.buffer.ybase!==0||this.buffer.y!==0){this.buffer.clearAllMarkers(),this.buffer.lines.set(0,this.buffer.lines.get(this.buffer.ybase+this.buffer.y)),this.buffer.lines.length=1,this.buffer.ydisp=0,this.buffer.ybase=0,this.buffer.y=0;for(let X=1;X<this.rows;X++)this.buffer.lines.push(this.buffer.getBlankLine(z.DEFAULT_ATTR_DATA));this._onScroll.fire({position:this.buffer.ydisp,source:0}),this.viewport?.reset(),this.refresh(0,this.rows-1)}}reset(){this.options.rows=this.rows,this.options.cols=this.cols;const X=this._customKeyEventHandler;this._setup(),super.reset(),this._selectionService?.reset(),this._decorationService.reset(),this.viewport?.reset(),this._customKeyEventHandler=X,this.refresh(0,this.rows-1)}clearTextureAtlas(){this._renderService?.clearTextureAtlas()}_reportFocus(){this.element?.classList.contains("focus")?this.coreService.triggerDataEvent(Q.C0.ESC+"[I"):this.coreService.triggerDataEvent(Q.C0.ESC+"[O")}_reportWindowsOptions(X){if(this._renderService)switch(X){case j.WindowsOptionsReportType.GET_WIN_SIZE_PIXELS:const D=this._renderService.dimensions.css.canvas.width.toFixed(0),te=this._renderService.dimensions.css.canvas.height.toFixed(0);this.coreService.triggerDataEvent(`${Q.C0.ESC}[4;${te};${D}t`);break;case j.WindowsOptionsReportType.GET_CELL_SIZE_PIXELS:const ie=this._renderService.dimensions.css.cell.width.toFixed(0),ce=this._renderService.dimensions.css.cell.height.toFixed(0);this.coreService.triggerDataEvent(`${Q.C0.ESC}[6;${ce};${ie}t`)}}cancel(X,D){if(this.options.cancelEvents||D)return X.preventDefault(),X.stopPropagation(),!1}}o.Terminal=le},9924:(a,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.TimeBasedDebouncer=void 0,o.TimeBasedDebouncer=class{constructor(l,h=1e3){this._renderCallback=l,this._debounceThresholdMS=h,this._lastRefreshMs=0,this._additionalRefreshRequested=!1}dispose(){this._refreshTimeoutID&&clearTimeout(this._refreshTimeoutID)}refresh(l,h,g){this._rowCount=g,l=l!==void 0?l:0,h=h!==void 0?h:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,l):l,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,h):h;const p=Date.now();if(p-this._lastRefreshMs>=this._debounceThresholdMS)this._lastRefreshMs=p,this._innerRefresh();else if(!this._additionalRefreshRequested){const m=p-this._lastRefreshMs,w=this._debounceThresholdMS-m;this._additionalRefreshRequested=!0,this._refreshTimeoutID=window.setTimeout(()=>{this._lastRefreshMs=Date.now(),this._innerRefresh(),this._additionalRefreshRequested=!1,this._refreshTimeoutID=void 0},w)}}_innerRefresh(){if(this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0)return;const l=Math.max(this._rowStart,0),h=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(l,h)}}},1680:function(a,o,l){var h=this&&this.__decorate||function(f,u,d,_){var R,E=arguments.length,L=E<3?u:_===null?_=Object.getOwnPropertyDescriptor(u,d):_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")L=Reflect.decorate(f,u,d,_);else for(var b=f.length-1;b>=0;b--)(R=f[b])&&(L=(E<3?R(L):E>3?R(u,d,L):R(u,d))||L);return E>3&&L&&Object.defineProperty(u,d,L),L},g=this&&this.__param||function(f,u){return function(d,_){u(d,_,f)}};Object.defineProperty(o,"__esModule",{value:!0}),o.Viewport=void 0;const p=l(3656),m=l(4725),w=l(8460),C=l(844),y=l(2585);let v=o.Viewport=class extends C.Disposable{constructor(f,u,d,_,R,E,L,b){super(),this._viewportElement=f,this._scrollArea=u,this._bufferService=d,this._optionsService=_,this._charSizeService=R,this._renderService=E,this._coreBrowserService=L,this.scrollBarWidth=0,this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._wheelPartialScroll=0,this._refreshAnimationFrame=null,this._ignoreNextScrollEvent=!1,this._smoothScrollState={startTime:0,origin:-1,target:-1},this._onRequestScrollLines=this.register(new w.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this.scrollBarWidth=this._viewportElement.offsetWidth-this._scrollArea.offsetWidth||15,this.register((0,p.addDisposableDomListener)(this._viewportElement,"scroll",this._handleScroll.bind(this))),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate(I=>this._activeBuffer=I.activeBuffer)),this._renderDimensions=this._renderService.dimensions,this.register(this._renderService.onDimensionsChange(I=>this._renderDimensions=I)),this._handleThemeChange(b.colors),this.register(b.onChangeColors(I=>this._handleThemeChange(I))),this.register(this._optionsService.onSpecificOptionChange("scrollback",()=>this.syncScrollArea())),setTimeout(()=>this.syncScrollArea())}_handleThemeChange(f){this._viewportElement.style.backgroundColor=f.background.css}reset(){this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._coreBrowserService.window.requestAnimationFrame(()=>this.syncScrollArea())}_refresh(f){if(f)return this._innerRefresh(),void(this._refreshAnimationFrame!==null&&this._coreBrowserService.window.cancelAnimationFrame(this._refreshAnimationFrame));this._refreshAnimationFrame===null&&(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._innerRefresh()))}_innerRefresh(){if(this._charSizeService.height>0){this._currentRowHeight=this._renderDimensions.device.cell.height/this._coreBrowserService.dpr,this._currentDeviceCellHeight=this._renderDimensions.device.cell.height,this._lastRecordedViewportHeight=this._viewportElement.offsetHeight;const u=Math.round(this._currentRowHeight*this._lastRecordedBufferLength)+(this._lastRecordedViewportHeight-this._renderDimensions.css.canvas.height);this._lastRecordedBufferHeight!==u&&(this._lastRecordedBufferHeight=u,this._scrollArea.style.height=this._lastRecordedBufferHeight+"px")}const f=this._bufferService.buffer.ydisp*this._currentRowHeight;this._viewportElement.scrollTop!==f&&(this._ignoreNextScrollEvent=!0,this._viewportElement.scrollTop=f),this._refreshAnimationFrame=null}syncScrollArea(f=!1){if(this._lastRecordedBufferLength!==this._bufferService.buffer.lines.length)return this._lastRecordedBufferLength=this._bufferService.buffer.lines.length,void this._refresh(f);this._lastRecordedViewportHeight===this._renderService.dimensions.css.canvas.height&&this._lastScrollTop===this._activeBuffer.ydisp*this._currentRowHeight&&this._renderDimensions.device.cell.height===this._currentDeviceCellHeight||this._refresh(f)}_handleScroll(f){if(this._lastScrollTop=this._viewportElement.scrollTop,!this._viewportElement.offsetParent)return;if(this._ignoreNextScrollEvent)return this._ignoreNextScrollEvent=!1,void this._onRequestScrollLines.fire({amount:0,suppressScrollEvent:!0});const u=Math.round(this._lastScrollTop/this._currentRowHeight)-this._bufferService.buffer.ydisp;this._onRequestScrollLines.fire({amount:u,suppressScrollEvent:!0})}_smoothScroll(){if(this._isDisposed||this._smoothScrollState.origin===-1||this._smoothScrollState.target===-1)return;const f=this._smoothScrollPercent();this._viewportElement.scrollTop=this._smoothScrollState.origin+Math.round(f*(this._smoothScrollState.target-this._smoothScrollState.origin)),f<1?this._coreBrowserService.window.requestAnimationFrame(()=>this._smoothScroll()):this._clearSmoothScrollState()}_smoothScrollPercent(){return this._optionsService.rawOptions.smoothScrollDuration&&this._smoothScrollState.startTime?Math.max(Math.min((Date.now()-this._smoothScrollState.startTime)/this._optionsService.rawOptions.smoothScrollDuration,1),0):1}_clearSmoothScrollState(){this._smoothScrollState.startTime=0,this._smoothScrollState.origin=-1,this._smoothScrollState.target=-1}_bubbleScroll(f,u){const d=this._viewportElement.scrollTop+this._lastRecordedViewportHeight;return!(u<0&&this._viewportElement.scrollTop!==0||u>0&&d<this._lastRecordedBufferHeight)||(f.cancelable&&f.preventDefault(),!1)}handleWheel(f){const u=this._getPixelsScrolled(f);return u!==0&&(this._optionsService.rawOptions.smoothScrollDuration?(this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,this._smoothScrollState.target===-1?this._smoothScrollState.target=this._viewportElement.scrollTop+u:this._smoothScrollState.target+=u,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()):this._viewportElement.scrollTop+=u,this._bubbleScroll(f,u))}scrollLines(f){if(f!==0)if(this._optionsService.rawOptions.smoothScrollDuration){const u=f*this._currentRowHeight;this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,this._smoothScrollState.target=this._smoothScrollState.origin+u,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()}else this._onRequestScrollLines.fire({amount:f,suppressScrollEvent:!1})}_getPixelsScrolled(f){if(f.deltaY===0||f.shiftKey)return 0;let u=this._applyScrollModifier(f.deltaY,f);return f.deltaMode===WheelEvent.DOM_DELTA_LINE?u*=this._currentRowHeight:f.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(u*=this._currentRowHeight*this._bufferService.rows),u}getBufferElements(f,u){let d,_="";const R=[],E=u??this._bufferService.buffer.lines.length,L=this._bufferService.buffer.lines;for(let b=f;b<E;b++){const I=L.get(b);if(!I)continue;const U=L.get(b+1)?.isWrapped;if(_+=I.translateToString(!U),!U||b===L.length-1){const W=document.createElement("div");W.textContent=_,R.push(W),_.length>0&&(d=W),_=""}}return{bufferElements:R,cursorElement:d}}getLinesScrolled(f){if(f.deltaY===0||f.shiftKey)return 0;let u=this._applyScrollModifier(f.deltaY,f);return f.deltaMode===WheelEvent.DOM_DELTA_PIXEL?(u/=this._currentRowHeight+0,this._wheelPartialScroll+=u,u=Math.floor(Math.abs(this._wheelPartialScroll))*(this._wheelPartialScroll>0?1:-1),this._wheelPartialScroll%=1):f.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(u*=this._bufferService.rows),u}_applyScrollModifier(f,u){const d=this._optionsService.rawOptions.fastScrollModifier;return d==="alt"&&u.altKey||d==="ctrl"&&u.ctrlKey||d==="shift"&&u.shiftKey?f*this._optionsService.rawOptions.fastScrollSensitivity*this._optionsService.rawOptions.scrollSensitivity:f*this._optionsService.rawOptions.scrollSensitivity}handleTouchStart(f){this._lastTouchY=f.touches[0].pageY}handleTouchMove(f){const u=this._lastTouchY-f.touches[0].pageY;return this._lastTouchY=f.touches[0].pageY,u!==0&&(this._viewportElement.scrollTop+=u,this._bubbleScroll(f,u))}};o.Viewport=v=h([g(2,y.IBufferService),g(3,y.IOptionsService),g(4,m.ICharSizeService),g(5,m.IRenderService),g(6,m.ICoreBrowserService),g(7,m.IThemeService)],v)},3107:function(a,o,l){var h=this&&this.__decorate||function(y,v,f,u){var d,_=arguments.length,R=_<3?v:u===null?u=Object.getOwnPropertyDescriptor(v,f):u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")R=Reflect.decorate(y,v,f,u);else for(var E=y.length-1;E>=0;E--)(d=y[E])&&(R=(_<3?d(R):_>3?d(v,f,R):d(v,f))||R);return _>3&&R&&Object.defineProperty(v,f,R),R},g=this&&this.__param||function(y,v){return function(f,u){v(f,u,y)}};Object.defineProperty(o,"__esModule",{value:!0}),o.BufferDecorationRenderer=void 0;const p=l(4725),m=l(844),w=l(2585);let C=o.BufferDecorationRenderer=class extends m.Disposable{constructor(y,v,f,u,d){super(),this._screenElement=y,this._bufferService=v,this._coreBrowserService=f,this._decorationService=u,this._renderService=d,this._decorationElements=new Map,this._altBufferIsActive=!1,this._dimensionsChanged=!1,this._container=document.createElement("div"),this._container.classList.add("xterm-decoration-container"),this._screenElement.appendChild(this._container),this.register(this._renderService.onRenderedViewportChange(()=>this._doRefreshDecorations())),this.register(this._renderService.onDimensionsChange(()=>{this._dimensionsChanged=!0,this._queueRefresh()})),this.register(this._coreBrowserService.onDprChange(()=>this._queueRefresh())),this.register(this._bufferService.buffers.onBufferActivate(()=>{this._altBufferIsActive=this._bufferService.buffer===this._bufferService.buffers.alt})),this.register(this._decorationService.onDecorationRegistered(()=>this._queueRefresh())),this.register(this._decorationService.onDecorationRemoved(_=>this._removeDecoration(_))),this.register((0,m.toDisposable)(()=>{this._container.remove(),this._decorationElements.clear()}))}_queueRefresh(){this._animationFrame===void 0&&(this._animationFrame=this._renderService.addRefreshCallback(()=>{this._doRefreshDecorations(),this._animationFrame=void 0}))}_doRefreshDecorations(){for(const y of this._decorationService.decorations)this._renderDecoration(y);this._dimensionsChanged=!1}_renderDecoration(y){this._refreshStyle(y),this._dimensionsChanged&&this._refreshXPosition(y)}_createElement(y){const v=this._coreBrowserService.mainDocument.createElement("div");v.classList.add("xterm-decoration"),v.classList.toggle("xterm-decoration-top-layer",y?.options?.layer==="top"),v.style.width=`${Math.round((y.options.width||1)*this._renderService.dimensions.css.cell.width)}px`,v.style.height=(y.options.height||1)*this._renderService.dimensions.css.cell.height+"px",v.style.top=(y.marker.line-this._bufferService.buffers.active.ydisp)*this._renderService.dimensions.css.cell.height+"px",v.style.lineHeight=`${this._renderService.dimensions.css.cell.height}px`;const f=y.options.x??0;return f&&f>this._bufferService.cols&&(v.style.display="none"),this._refreshXPosition(y,v),v}_refreshStyle(y){const v=y.marker.line-this._bufferService.buffers.active.ydisp;if(v<0||v>=this._bufferService.rows)y.element&&(y.element.style.display="none",y.onRenderEmitter.fire(y.element));else{let f=this._decorationElements.get(y);f||(f=this._createElement(y),y.element=f,this._decorationElements.set(y,f),this._container.appendChild(f),y.onDispose(()=>{this._decorationElements.delete(y),f.remove()})),f.style.top=v*this._renderService.dimensions.css.cell.height+"px",f.style.display=this._altBufferIsActive?"none":"block",y.onRenderEmitter.fire(f)}}_refreshXPosition(y,v=y.element){if(!v)return;const f=y.options.x??0;(y.options.anchor||"left")==="right"?v.style.right=f?f*this._renderService.dimensions.css.cell.width+"px":"":v.style.left=f?f*this._renderService.dimensions.css.cell.width+"px":""}_removeDecoration(y){this._decorationElements.get(y)?.remove(),this._decorationElements.delete(y),y.dispose()}};o.BufferDecorationRenderer=C=h([g(1,w.IBufferService),g(2,p.ICoreBrowserService),g(3,w.IDecorationService),g(4,p.IRenderService)],C)},5871:(a,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ColorZoneStore=void 0,o.ColorZoneStore=class{constructor(){this._zones=[],this._zonePool=[],this._zonePoolIndex=0,this._linePadding={full:0,left:0,center:0,right:0}}get zones(){return this._zonePool.length=Math.min(this._zonePool.length,this._zones.length),this._zones}clear(){this._zones.length=0,this._zonePoolIndex=0}addDecoration(l){if(l.options.overviewRulerOptions){for(const h of this._zones)if(h.color===l.options.overviewRulerOptions.color&&h.position===l.options.overviewRulerOptions.position){if(this._lineIntersectsZone(h,l.marker.line))return;if(this._lineAdjacentToZone(h,l.marker.line,l.options.overviewRulerOptions.position))return void this._addLineToZone(h,l.marker.line)}if(this._zonePoolIndex<this._zonePool.length)return this._zonePool[this._zonePoolIndex].color=l.options.overviewRulerOptions.color,this._zonePool[this._zonePoolIndex].position=l.options.overviewRulerOptions.position,this._zonePool[this._zonePoolIndex].startBufferLine=l.marker.line,this._zonePool[this._zonePoolIndex].endBufferLine=l.marker.line,void this._zones.push(this._zonePool[this._zonePoolIndex++]);this._zones.push({color:l.options.overviewRulerOptions.color,position:l.options.overviewRulerOptions.position,startBufferLine:l.marker.line,endBufferLine:l.marker.line}),this._zonePool.push(this._zones[this._zones.length-1]),this._zonePoolIndex++}}setPadding(l){this._linePadding=l}_lineIntersectsZone(l,h){return h>=l.startBufferLine&&h<=l.endBufferLine}_lineAdjacentToZone(l,h,g){return h>=l.startBufferLine-this._linePadding[g||"full"]&&h<=l.endBufferLine+this._linePadding[g||"full"]}_addLineToZone(l,h){l.startBufferLine=Math.min(l.startBufferLine,h),l.endBufferLine=Math.max(l.endBufferLine,h)}}},5744:function(a,o,l){var h=this&&this.__decorate||function(d,_,R,E){var L,b=arguments.length,I=b<3?_:E===null?E=Object.getOwnPropertyDescriptor(_,R):E;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")I=Reflect.decorate(d,_,R,E);else for(var U=d.length-1;U>=0;U--)(L=d[U])&&(I=(b<3?L(I):b>3?L(_,R,I):L(_,R))||I);return b>3&&I&&Object.defineProperty(_,R,I),I},g=this&&this.__param||function(d,_){return function(R,E){_(R,E,d)}};Object.defineProperty(o,"__esModule",{value:!0}),o.OverviewRulerRenderer=void 0;const p=l(5871),m=l(4725),w=l(844),C=l(2585),y={full:0,left:0,center:0,right:0},v={full:0,left:0,center:0,right:0},f={full:0,left:0,center:0,right:0};let u=o.OverviewRulerRenderer=class extends w.Disposable{get _width(){return this._optionsService.options.overviewRulerWidth||0}constructor(d,_,R,E,L,b,I){super(),this._viewportElement=d,this._screenElement=_,this._bufferService=R,this._decorationService=E,this._renderService=L,this._optionsService=b,this._coreBrowserService=I,this._colorZoneStore=new p.ColorZoneStore,this._shouldUpdateDimensions=!0,this._shouldUpdateAnchor=!0,this._lastKnownBufferLength=0,this._canvas=this._coreBrowserService.mainDocument.createElement("canvas"),this._canvas.classList.add("xterm-decoration-overview-ruler"),this._refreshCanvasDimensions(),this._viewportElement.parentElement?.insertBefore(this._canvas,this._viewportElement);const U=this._canvas.getContext("2d");if(!U)throw new Error("Ctx cannot be null");this._ctx=U,this._registerDecorationListeners(),this._registerBufferChangeListeners(),this._registerDimensionChangeListeners(),this.register((0,w.toDisposable)(()=>{this._canvas?.remove()}))}_registerDecorationListeners(){this.register(this._decorationService.onDecorationRegistered(()=>this._queueRefresh(void 0,!0))),this.register(this._decorationService.onDecorationRemoved(()=>this._queueRefresh(void 0,!0)))}_registerBufferChangeListeners(){this.register(this._renderService.onRenderedViewportChange(()=>this._queueRefresh())),this.register(this._bufferService.buffers.onBufferActivate(()=>{this._canvas.style.display=this._bufferService.buffer===this._bufferService.buffers.alt?"none":"block"})),this.register(this._bufferService.onScroll(()=>{this._lastKnownBufferLength!==this._bufferService.buffers.normal.lines.length&&(this._refreshDrawHeightConstants(),this._refreshColorZonePadding())}))}_registerDimensionChangeListeners(){this.register(this._renderService.onRender(()=>{this._containerHeight&&this._containerHeight===this._screenElement.clientHeight||(this._queueRefresh(!0),this._containerHeight=this._screenElement.clientHeight)})),this.register(this._optionsService.onSpecificOptionChange("overviewRulerWidth",()=>this._queueRefresh(!0))),this.register(this._coreBrowserService.onDprChange(()=>this._queueRefresh(!0))),this._queueRefresh(!0)}_refreshDrawConstants(){const d=Math.floor(this._canvas.width/3),_=Math.ceil(this._canvas.width/3);v.full=this._canvas.width,v.left=d,v.center=_,v.right=d,this._refreshDrawHeightConstants(),f.full=0,f.left=0,f.center=v.left,f.right=v.left+v.center}_refreshDrawHeightConstants(){y.full=Math.round(2*this._coreBrowserService.dpr);const d=this._canvas.height/this._bufferService.buffer.lines.length,_=Math.round(Math.max(Math.min(d,12),6)*this._coreBrowserService.dpr);y.left=_,y.center=_,y.right=_}_refreshColorZonePadding(){this._colorZoneStore.setPadding({full:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*y.full),left:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*y.left),center:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*y.center),right:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*y.right)}),this._lastKnownBufferLength=this._bufferService.buffers.normal.lines.length}_refreshCanvasDimensions(){this._canvas.style.width=`${this._width}px`,this._canvas.width=Math.round(this._width*this._coreBrowserService.dpr),this._canvas.style.height=`${this._screenElement.clientHeight}px`,this._canvas.height=Math.round(this._screenElement.clientHeight*this._coreBrowserService.dpr),this._refreshDrawConstants(),this._refreshColorZonePadding()}_refreshDecorations(){this._shouldUpdateDimensions&&this._refreshCanvasDimensions(),this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height),this._colorZoneStore.clear();for(const _ of this._decorationService.decorations)this._colorZoneStore.addDecoration(_);this._ctx.lineWidth=1;const d=this._colorZoneStore.zones;for(const _ of d)_.position!=="full"&&this._renderColorZone(_);for(const _ of d)_.position==="full"&&this._renderColorZone(_);this._shouldUpdateDimensions=!1,this._shouldUpdateAnchor=!1}_renderColorZone(d){this._ctx.fillStyle=d.color,this._ctx.fillRect(f[d.position||"full"],Math.round((this._canvas.height-1)*(d.startBufferLine/this._bufferService.buffers.active.lines.length)-y[d.position||"full"]/2),v[d.position||"full"],Math.round((this._canvas.height-1)*((d.endBufferLine-d.startBufferLine)/this._bufferService.buffers.active.lines.length)+y[d.position||"full"]))}_queueRefresh(d,_){this._shouldUpdateDimensions=d||this._shouldUpdateDimensions,this._shouldUpdateAnchor=_||this._shouldUpdateAnchor,this._animationFrame===void 0&&(this._animationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>{this._refreshDecorations(),this._animationFrame=void 0}))}};o.OverviewRulerRenderer=u=h([g(2,C.IBufferService),g(3,C.IDecorationService),g(4,m.IRenderService),g(5,C.IOptionsService),g(6,m.ICoreBrowserService)],u)},2950:function(a,o,l){var h=this&&this.__decorate||function(y,v,f,u){var d,_=arguments.length,R=_<3?v:u===null?u=Object.getOwnPropertyDescriptor(v,f):u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")R=Reflect.decorate(y,v,f,u);else for(var E=y.length-1;E>=0;E--)(d=y[E])&&(R=(_<3?d(R):_>3?d(v,f,R):d(v,f))||R);return _>3&&R&&Object.defineProperty(v,f,R),R},g=this&&this.__param||function(y,v){return function(f,u){v(f,u,y)}};Object.defineProperty(o,"__esModule",{value:!0}),o.CompositionHelper=void 0;const p=l(4725),m=l(2585),w=l(2584);let C=o.CompositionHelper=class{get isComposing(){return this._isComposing}constructor(y,v,f,u,d,_){this._textarea=y,this._compositionView=v,this._bufferService=f,this._optionsService=u,this._coreService=d,this._renderService=_,this._isComposing=!1,this._isSendingComposition=!1,this._compositionPosition={start:0,end:0},this._dataAlreadySent=""}compositionstart(){this._isComposing=!0,this._compositionPosition.start=this._textarea.value.length,this._compositionView.textContent="",this._dataAlreadySent="",this._compositionView.classList.add("active")}compositionupdate(y){this._compositionView.textContent=y.data,this.updateCompositionElements(),setTimeout(()=>{this._compositionPosition.end=this._textarea.value.length},0)}compositionend(){this._finalizeComposition(!0)}keydown(y){if(this._isComposing||this._isSendingComposition){if(y.keyCode===229||y.keyCode===16||y.keyCode===17||y.keyCode===18)return!1;this._finalizeComposition(!1)}return y.keyCode!==229||(this._handleAnyTextareaChanges(),!1)}_finalizeComposition(y){if(this._compositionView.classList.remove("active"),this._isComposing=!1,y){const v={start:this._compositionPosition.start,end:this._compositionPosition.end};this._isSendingComposition=!0,setTimeout(()=>{if(this._isSendingComposition){let f;this._isSendingComposition=!1,v.start+=this._dataAlreadySent.length,f=this._isComposing?this._textarea.value.substring(v.start,v.end):this._textarea.value.substring(v.start),f.length>0&&this._coreService.triggerDataEvent(f,!0)}},0)}else{this._isSendingComposition=!1;const v=this._textarea.value.substring(this._compositionPosition.start,this._compositionPosition.end);this._coreService.triggerDataEvent(v,!0)}}_handleAnyTextareaChanges(){const y=this._textarea.value;setTimeout(()=>{if(!this._isComposing){const v=this._textarea.value,f=v.replace(y,"");this._dataAlreadySent=f,v.length>y.length?this._coreService.triggerDataEvent(f,!0):v.length<y.length?this._coreService.triggerDataEvent(`${w.C0.DEL}`,!0):v.length===y.length&&v!==y&&this._coreService.triggerDataEvent(v,!0)}},0)}updateCompositionElements(y){if(this._isComposing){if(this._bufferService.buffer.isCursorInViewport){const v=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1),f=this._renderService.dimensions.css.cell.height,u=this._bufferService.buffer.y*this._renderService.dimensions.css.cell.height,d=v*this._renderService.dimensions.css.cell.width;this._compositionView.style.left=d+"px",this._compositionView.style.top=u+"px",this._compositionView.style.height=f+"px",this._compositionView.style.lineHeight=f+"px",this._compositionView.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._compositionView.style.fontSize=this._optionsService.rawOptions.fontSize+"px";const _=this._compositionView.getBoundingClientRect();this._textarea.style.left=d+"px",this._textarea.style.top=u+"px",this._textarea.style.width=Math.max(_.width,1)+"px",this._textarea.style.height=Math.max(_.height,1)+"px",this._textarea.style.lineHeight=_.height+"px"}y||setTimeout(()=>this.updateCompositionElements(!0),0)}}};o.CompositionHelper=C=h([g(2,m.IBufferService),g(3,m.IOptionsService),g(4,m.ICoreService),g(5,p.IRenderService)],C)},9806:(a,o)=>{function l(h,g,p){const m=p.getBoundingClientRect(),w=h.getComputedStyle(p),C=parseInt(w.getPropertyValue("padding-left")),y=parseInt(w.getPropertyValue("padding-top"));return[g.clientX-m.left-C,g.clientY-m.top-y]}Object.defineProperty(o,"__esModule",{value:!0}),o.getCoords=o.getCoordsRelativeToElement=void 0,o.getCoordsRelativeToElement=l,o.getCoords=function(h,g,p,m,w,C,y,v,f){if(!C)return;const u=l(h,g,p);return u?(u[0]=Math.ceil((u[0]+(f?y/2:0))/y),u[1]=Math.ceil(u[1]/v),u[0]=Math.min(Math.max(u[0],1),m+(f?1:0)),u[1]=Math.min(Math.max(u[1],1),w),u):void 0}},9504:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.moveToCellSequence=void 0;const h=l(2584);function g(v,f,u,d){const _=v-p(v,u),R=f-p(f,u),E=Math.abs(_-R)-function(L,b,I){let U=0;const W=L-p(L,I),Y=b-p(b,I);for(let B=0;B<Math.abs(W-Y);B++){const $=m(L,b)==="A"?-1:1;I.buffer.lines.get(W+$*B)?.isWrapped&&U++}return U}(v,f,u);return y(E,C(m(v,f),d))}function p(v,f){let u=0,d=f.buffer.lines.get(v),_=d?.isWrapped;for(;_&&v>=0&&v<f.rows;)u++,d=f.buffer.lines.get(--v),_=d?.isWrapped;return u}function m(v,f){return v>f?"A":"B"}function w(v,f,u,d,_,R){let E=v,L=f,b="";for(;E!==u||L!==d;)E+=_?1:-1,_&&E>R.cols-1?(b+=R.buffer.translateBufferLineToString(L,!1,v,E),E=0,v=0,L++):!_&&E<0&&(b+=R.buffer.translateBufferLineToString(L,!1,0,v+1),E=R.cols-1,v=E,L--);return b+R.buffer.translateBufferLineToString(L,!1,v,E)}function C(v,f){const u=f?"O":"[";return h.C0.ESC+u+v}function y(v,f){v=Math.floor(v);let u="";for(let d=0;d<v;d++)u+=f;return u}o.moveToCellSequence=function(v,f,u,d){const _=u.buffer.x,R=u.buffer.y;if(!u.buffer.hasScrollback)return function(b,I,U,W,Y,B){return g(I,W,Y,B).length===0?"":y(w(b,I,b,I-p(I,Y),!1,Y).length,C("D",B))}(_,R,0,f,u,d)+g(R,f,u,d)+function(b,I,U,W,Y,B){let $;$=g(I,W,Y,B).length>0?W-p(W,Y):I;const N=W,z=function(Q,V,M,P,O,j){let Z;return Z=g(M,P,O,j).length>0?P-p(P,O):V,Q<M&&Z<=P||Q>=M&&Z<P?"C":"D"}(b,I,U,W,Y,B);return y(w(b,$,U,N,z==="C",Y).length,C(z,B))}(_,R,v,f,u,d);let E;if(R===f)return E=_>v?"D":"C",y(Math.abs(_-v),C(E,d));E=R>f?"D":"C";const L=Math.abs(R-f);return y(function(b,I){return I.cols-b}(R>f?v:_,u)+(L-1)*u.cols+1+((R>f?_:v)-1),C(E,d))}},1296:function(a,o,l){var h=this&&this.__decorate||function(B,$,N,z){var Q,V=arguments.length,M=V<3?$:z===null?z=Object.getOwnPropertyDescriptor($,N):z;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")M=Reflect.decorate(B,$,N,z);else for(var P=B.length-1;P>=0;P--)(Q=B[P])&&(M=(V<3?Q(M):V>3?Q($,N,M):Q($,N))||M);return V>3&&M&&Object.defineProperty($,N,M),M},g=this&&this.__param||function(B,$){return function(N,z){$(N,z,B)}};Object.defineProperty(o,"__esModule",{value:!0}),o.DomRenderer=void 0;const p=l(3787),m=l(2550),w=l(2223),C=l(6171),y=l(6052),v=l(4725),f=l(8055),u=l(8460),d=l(844),_=l(2585),R="xterm-dom-renderer-owner-",E="xterm-rows",L="xterm-fg-",b="xterm-bg-",I="xterm-focus",U="xterm-selection";let W=1,Y=o.DomRenderer=class extends d.Disposable{constructor(B,$,N,z,Q,V,M,P,O,j,Z,re,le){super(),this._terminal=B,this._document=$,this._element=N,this._screenElement=z,this._viewportElement=Q,this._helperContainer=V,this._linkifier2=M,this._charSizeService=O,this._optionsService=j,this._bufferService=Z,this._coreBrowserService=re,this._themeService=le,this._terminalClass=W++,this._rowElements=[],this._selectionRenderModel=(0,y.createSelectionRenderModel)(),this.onRequestRedraw=this.register(new u.EventEmitter).event,this._rowContainer=this._document.createElement("div"),this._rowContainer.classList.add(E),this._rowContainer.style.lineHeight="normal",this._rowContainer.setAttribute("aria-hidden","true"),this._refreshRowElements(this._bufferService.cols,this._bufferService.rows),this._selectionContainer=this._document.createElement("div"),this._selectionContainer.classList.add(U),this._selectionContainer.setAttribute("aria-hidden","true"),this.dimensions=(0,C.createRenderDimensions)(),this._updateDimensions(),this.register(this._optionsService.onOptionChange(()=>this._handleOptionsChanged())),this.register(this._themeService.onChangeColors(ue=>this._injectCss(ue))),this._injectCss(this._themeService.colors),this._rowFactory=P.createInstance(p.DomRendererRowFactory,document),this._element.classList.add(R+this._terminalClass),this._screenElement.appendChild(this._rowContainer),this._screenElement.appendChild(this._selectionContainer),this.register(this._linkifier2.onShowLinkUnderline(ue=>this._handleLinkHover(ue))),this.register(this._linkifier2.onHideLinkUnderline(ue=>this._handleLinkLeave(ue))),this.register((0,d.toDisposable)(()=>{this._element.classList.remove(R+this._terminalClass),this._rowContainer.remove(),this._selectionContainer.remove(),this._widthCache.dispose(),this._themeStyleElement.remove(),this._dimensionsStyleElement.remove()})),this._widthCache=new m.WidthCache(this._document,this._helperContainer),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}_updateDimensions(){const B=this._coreBrowserService.dpr;this.dimensions.device.char.width=this._charSizeService.width*B,this.dimensions.device.char.height=Math.ceil(this._charSizeService.height*B),this.dimensions.device.cell.width=this.dimensions.device.char.width+Math.round(this._optionsService.rawOptions.letterSpacing),this.dimensions.device.cell.height=Math.floor(this.dimensions.device.char.height*this._optionsService.rawOptions.lineHeight),this.dimensions.device.char.left=0,this.dimensions.device.char.top=0,this.dimensions.device.canvas.width=this.dimensions.device.cell.width*this._bufferService.cols,this.dimensions.device.canvas.height=this.dimensions.device.cell.height*this._bufferService.rows,this.dimensions.css.canvas.width=Math.round(this.dimensions.device.canvas.width/B),this.dimensions.css.canvas.height=Math.round(this.dimensions.device.canvas.height/B),this.dimensions.css.cell.width=this.dimensions.css.canvas.width/this._bufferService.cols,this.dimensions.css.cell.height=this.dimensions.css.canvas.height/this._bufferService.rows;for(const N of this._rowElements)N.style.width=`${this.dimensions.css.canvas.width}px`,N.style.height=`${this.dimensions.css.cell.height}px`,N.style.lineHeight=`${this.dimensions.css.cell.height}px`,N.style.overflow="hidden";this._dimensionsStyleElement||(this._dimensionsStyleElement=this._document.createElement("style"),this._screenElement.appendChild(this._dimensionsStyleElement));const $=`${this._terminalSelector} .${E} span { display: inline-block; height: 100%; vertical-align: top;}`;this._dimensionsStyleElement.textContent=$,this._selectionContainer.style.height=this._viewportElement.style.height,this._screenElement.style.width=`${this.dimensions.css.canvas.width}px`,this._screenElement.style.height=`${this.dimensions.css.canvas.height}px`}_injectCss(B){this._themeStyleElement||(this._themeStyleElement=this._document.createElement("style"),this._screenElement.appendChild(this._themeStyleElement));let $=`${this._terminalSelector} .${E} { color: ${B.foreground.css}; font-family: ${this._optionsService.rawOptions.fontFamily}; font-size: ${this._optionsService.rawOptions.fontSize}px; font-kerning: none; white-space: pre}`;$+=`${this._terminalSelector} .${E} .xterm-dim { color: ${f.color.multiplyOpacity(B.foreground,.5).css};}`,$+=`${this._terminalSelector} span:not(.xterm-bold) { font-weight: ${this._optionsService.rawOptions.fontWeight};}${this._terminalSelector} span.xterm-bold { font-weight: ${this._optionsService.rawOptions.fontWeightBold};}${this._terminalSelector} span.xterm-italic { font-style: italic;}`;const N=`blink_underline_${this._terminalClass}`,z=`blink_bar_${this._terminalClass}`,Q=`blink_block_${this._terminalClass}`;$+=`@keyframes ${N} { 50% {  border-bottom-style: hidden; }}`,$+=`@keyframes ${z} { 50% {  box-shadow: none; }}`,$+=`@keyframes ${Q} { 0% {  background-color: ${B.cursor.css};  color: ${B.cursorAccent.css}; } 50% {  background-color: inherit;  color: ${B.cursor.css}; }}`,$+=`${this._terminalSelector} .${E}.${I} .xterm-cursor.xterm-cursor-blink.xterm-cursor-underline { animation: ${N} 1s step-end infinite;}${this._terminalSelector} .${E}.${I} .xterm-cursor.xterm-cursor-blink.xterm-cursor-bar { animation: ${z} 1s step-end infinite;}${this._terminalSelector} .${E}.${I} .xterm-cursor.xterm-cursor-blink.xterm-cursor-block { animation: ${Q} 1s step-end infinite;}${this._terminalSelector} .${E} .xterm-cursor.xterm-cursor-block { background-color: ${B.cursor.css}; color: ${B.cursorAccent.css};}${this._terminalSelector} .${E} .xterm-cursor.xterm-cursor-block:not(.xterm-cursor-blink) { background-color: ${B.cursor.css} !important; color: ${B.cursorAccent.css} !important;}${this._terminalSelector} .${E} .xterm-cursor.xterm-cursor-outline { outline: 1px solid ${B.cursor.css}; outline-offset: -1px;}${this._terminalSelector} .${E} .xterm-cursor.xterm-cursor-bar { box-shadow: ${this._optionsService.rawOptions.cursorWidth}px 0 0 ${B.cursor.css} inset;}${this._terminalSelector} .${E} .xterm-cursor.xterm-cursor-underline { border-bottom: 1px ${B.cursor.css}; border-bottom-style: solid; height: calc(100% - 1px);}`,$+=`${this._terminalSelector} .${U} { position: absolute; top: 0; left: 0; z-index: 1; pointer-events: none;}${this._terminalSelector}.focus .${U} div { position: absolute; background-color: ${B.selectionBackgroundOpaque.css};}${this._terminalSelector} .${U} div { position: absolute; background-color: ${B.selectionInactiveBackgroundOpaque.css};}`;for(const[V,M]of B.ansi.entries())$+=`${this._terminalSelector} .${L}${V} { color: ${M.css}; }${this._terminalSelector} .${L}${V}.xterm-dim { color: ${f.color.multiplyOpacity(M,.5).css}; }${this._terminalSelector} .${b}${V} { background-color: ${M.css}; }`;$+=`${this._terminalSelector} .${L}${w.INVERTED_DEFAULT_COLOR} { color: ${f.color.opaque(B.background).css}; }${this._terminalSelector} .${L}${w.INVERTED_DEFAULT_COLOR}.xterm-dim { color: ${f.color.multiplyOpacity(f.color.opaque(B.background),.5).css}; }${this._terminalSelector} .${b}${w.INVERTED_DEFAULT_COLOR} { background-color: ${B.foreground.css}; }`,this._themeStyleElement.textContent=$}_setDefaultSpacing(){const B=this.dimensions.css.cell.width-this._widthCache.get("W",!1,!1);this._rowContainer.style.letterSpacing=`${B}px`,this._rowFactory.defaultSpacing=B}handleDevicePixelRatioChange(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}_refreshRowElements(B,$){for(let N=this._rowElements.length;N<=$;N++){const z=this._document.createElement("div");this._rowContainer.appendChild(z),this._rowElements.push(z)}for(;this._rowElements.length>$;)this._rowContainer.removeChild(this._rowElements.pop())}handleResize(B,$){this._refreshRowElements(B,$),this._updateDimensions(),this.handleSelectionChanged(this._selectionRenderModel.selectionStart,this._selectionRenderModel.selectionEnd,this._selectionRenderModel.columnSelectMode)}handleCharSizeChanged(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}handleBlur(){this._rowContainer.classList.remove(I),this.renderRows(0,this._bufferService.rows-1)}handleFocus(){this._rowContainer.classList.add(I),this.renderRows(this._bufferService.buffer.y,this._bufferService.buffer.y)}handleSelectionChanged(B,$,N){if(this._selectionContainer.replaceChildren(),this._rowFactory.handleSelectionChanged(B,$,N),this.renderRows(0,this._bufferService.rows-1),!B||!$)return;this._selectionRenderModel.update(this._terminal,B,$,N);const z=this._selectionRenderModel.viewportStartRow,Q=this._selectionRenderModel.viewportEndRow,V=this._selectionRenderModel.viewportCappedStartRow,M=this._selectionRenderModel.viewportCappedEndRow;if(V>=this._bufferService.rows||M<0)return;const P=this._document.createDocumentFragment();if(N){const O=B[0]>$[0];P.appendChild(this._createSelectionElement(V,O?$[0]:B[0],O?B[0]:$[0],M-V+1))}else{const O=z===V?B[0]:0,j=V===Q?$[0]:this._bufferService.cols;P.appendChild(this._createSelectionElement(V,O,j));const Z=M-V-1;if(P.appendChild(this._createSelectionElement(V+1,0,this._bufferService.cols,Z)),V!==M){const re=Q===M?$[0]:this._bufferService.cols;P.appendChild(this._createSelectionElement(M,0,re))}}this._selectionContainer.appendChild(P)}_createSelectionElement(B,$,N,z=1){const Q=this._document.createElement("div"),V=$*this.dimensions.css.cell.width;let M=this.dimensions.css.cell.width*(N-$);return V+M>this.dimensions.css.canvas.width&&(M=this.dimensions.css.canvas.width-V),Q.style.height=z*this.dimensions.css.cell.height+"px",Q.style.top=B*this.dimensions.css.cell.height+"px",Q.style.left=`${V}px`,Q.style.width=`${M}px`,Q}handleCursorMove(){}_handleOptionsChanged(){this._updateDimensions(),this._injectCss(this._themeService.colors),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}clear(){for(const B of this._rowElements)B.replaceChildren()}renderRows(B,$){const N=this._bufferService.buffer,z=N.ybase+N.y,Q=Math.min(N.x,this._bufferService.cols-1),V=this._optionsService.rawOptions.cursorBlink,M=this._optionsService.rawOptions.cursorStyle,P=this._optionsService.rawOptions.cursorInactiveStyle;for(let O=B;O<=$;O++){const j=O+N.ydisp,Z=this._rowElements[O],re=N.lines.get(j);if(!Z||!re)break;Z.replaceChildren(...this._rowFactory.createRow(re,j,j===z,M,P,Q,V,this.dimensions.css.cell.width,this._widthCache,-1,-1))}}get _terminalSelector(){return`.${R}${this._terminalClass}`}_handleLinkHover(B){this._setCellUnderline(B.x1,B.x2,B.y1,B.y2,B.cols,!0)}_handleLinkLeave(B){this._setCellUnderline(B.x1,B.x2,B.y1,B.y2,B.cols,!1)}_setCellUnderline(B,$,N,z,Q,V){N<0&&(B=0),z<0&&($=0);const M=this._bufferService.rows-1;N=Math.max(Math.min(N,M),0),z=Math.max(Math.min(z,M),0),Q=Math.min(Q,this._bufferService.cols);const P=this._bufferService.buffer,O=P.ybase+P.y,j=Math.min(P.x,Q-1),Z=this._optionsService.rawOptions.cursorBlink,re=this._optionsService.rawOptions.cursorStyle,le=this._optionsService.rawOptions.cursorInactiveStyle;for(let ue=N;ue<=z;++ue){const X=ue+P.ydisp,D=this._rowElements[ue],te=P.lines.get(X);if(!D||!te)break;D.replaceChildren(...this._rowFactory.createRow(te,X,X===O,re,le,j,Z,this.dimensions.css.cell.width,this._widthCache,V?ue===N?B:0:-1,V?(ue===z?$:Q)-1:-1))}}};o.DomRenderer=Y=h([g(7,_.IInstantiationService),g(8,v.ICharSizeService),g(9,_.IOptionsService),g(10,_.IBufferService),g(11,v.ICoreBrowserService),g(12,v.IThemeService)],Y)},3787:function(a,o,l){var h=this&&this.__decorate||function(E,L,b,I){var U,W=arguments.length,Y=W<3?L:I===null?I=Object.getOwnPropertyDescriptor(L,b):I;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Y=Reflect.decorate(E,L,b,I);else for(var B=E.length-1;B>=0;B--)(U=E[B])&&(Y=(W<3?U(Y):W>3?U(L,b,Y):U(L,b))||Y);return W>3&&Y&&Object.defineProperty(L,b,Y),Y},g=this&&this.__param||function(E,L){return function(b,I){L(b,I,E)}};Object.defineProperty(o,"__esModule",{value:!0}),o.DomRendererRowFactory=void 0;const p=l(2223),m=l(643),w=l(511),C=l(2585),y=l(8055),v=l(4725),f=l(4269),u=l(6171),d=l(3734);let _=o.DomRendererRowFactory=class{constructor(E,L,b,I,U,W,Y){this._document=E,this._characterJoinerService=L,this._optionsService=b,this._coreBrowserService=I,this._coreService=U,this._decorationService=W,this._themeService=Y,this._workCell=new w.CellData,this._columnSelectMode=!1,this.defaultSpacing=0}handleSelectionChanged(E,L,b){this._selectionStart=E,this._selectionEnd=L,this._columnSelectMode=b}createRow(E,L,b,I,U,W,Y,B,$,N,z){const Q=[],V=this._characterJoinerService.getJoinedCharacters(L),M=this._themeService.colors;let P,O=E.getNoBgTrimmedLength();b&&O<W+1&&(O=W+1);let j=0,Z="",re=0,le=0,ue=0,X=!1,D=0,te=!1,ie=0;const ce=[],he=N!==-1&&z!==-1;for(let Se=0;Se<O;Se++){E.loadCell(Se,this._workCell);let _e=this._workCell.getWidth();if(_e===0)continue;let Le=!1,we=Se,pe=this._workCell;if(V.length>0&&Se===V[0][0]){Le=!0;const Ve=V.shift();pe=new f.JoinedCellData(this._workCell,E.translateToString(!0,Ve[0],Ve[1]),Ve[1]-Ve[0]),we=Ve[1]-1,_e=pe.getWidth()}const Oe=this._isCellInSelection(Se,L),$e=b&&Se===W,ct=he&&Se>=N&&Se<=z;let Ft=!1;this._decorationService.forEachDecorationAtCell(Se,L,void 0,Ve=>{Ft=!0});let yr=pe.getChars()||m.WHITESPACE_CELL_CHAR;if(yr===" "&&(pe.isUnderline()||pe.isOverline())&&(yr=""),ie=_e*B-$.get(yr,pe.isBold(),pe.isItalic()),P){if(j&&(Oe&&te||!Oe&&!te&&pe.bg===re)&&(Oe&&te&&M.selectionForeground||pe.fg===le)&&pe.extended.ext===ue&&ct===X&&ie===D&&!$e&&!Le&&!Ft){pe.isInvisible()?Z+=m.WHITESPACE_CELL_CHAR:Z+=yr,j++;continue}j&&(P.textContent=Z),P=this._document.createElement("span"),j=0,Z=""}else P=this._document.createElement("span");if(re=pe.bg,le=pe.fg,ue=pe.extended.ext,X=ct,D=ie,te=Oe,Le&&W>=Se&&W<=we&&(W=Se),!this._coreService.isCursorHidden&&$e&&this._coreService.isCursorInitialized){if(ce.push("xterm-cursor"),this._coreBrowserService.isFocused)Y&&ce.push("xterm-cursor-blink"),ce.push(I==="bar"?"xterm-cursor-bar":I==="underline"?"xterm-cursor-underline":"xterm-cursor-block");else if(U)switch(U){case"outline":ce.push("xterm-cursor-outline");break;case"block":ce.push("xterm-cursor-block");break;case"bar":ce.push("xterm-cursor-bar");break;case"underline":ce.push("xterm-cursor-underline")}}if(pe.isBold()&&ce.push("xterm-bold"),pe.isItalic()&&ce.push("xterm-italic"),pe.isDim()&&ce.push("xterm-dim"),Z=pe.isInvisible()?m.WHITESPACE_CELL_CHAR:pe.getChars()||m.WHITESPACE_CELL_CHAR,pe.isUnderline()&&(ce.push(`xterm-underline-${pe.extended.underlineStyle}`),Z===" "&&(Z=""),!pe.isUnderlineColorDefault()))if(pe.isUnderlineColorRGB())P.style.textDecorationColor=`rgb(${d.AttributeData.toColorRGB(pe.getUnderlineColor()).join(",")})`;else{let Ve=pe.getUnderlineColor();this._optionsService.rawOptions.drawBoldTextInBrightColors&&pe.isBold()&&Ve<8&&(Ve+=8),P.style.textDecorationColor=M.ansi[Ve].css}pe.isOverline()&&(ce.push("xterm-overline"),Z===" "&&(Z="")),pe.isStrikethrough()&&ce.push("xterm-strikethrough"),ct&&(P.style.textDecoration="underline");let mt=pe.getFgColor(),Br=pe.getFgColorMode(),ir=pe.getBgColor(),ht=pe.getBgColorMode();const on=!!pe.isInverse();if(on){const Ve=mt;mt=ir,ir=Ve;const Ge=Br;Br=ht,ht=Ge}let tt,En,_r,Gr=!1;switch(this._decorationService.forEachDecorationAtCell(Se,L,void 0,Ve=>{Ve.options.layer!=="top"&&Gr||(Ve.backgroundColorRGB&&(ht=50331648,ir=Ve.backgroundColorRGB.rgba>>8&16777215,tt=Ve.backgroundColorRGB),Ve.foregroundColorRGB&&(Br=50331648,mt=Ve.foregroundColorRGB.rgba>>8&16777215,En=Ve.foregroundColorRGB),Gr=Ve.options.layer==="top")}),!Gr&&Oe&&(tt=this._coreBrowserService.isFocused?M.selectionBackgroundOpaque:M.selectionInactiveBackgroundOpaque,ir=tt.rgba>>8&16777215,ht=50331648,Gr=!0,M.selectionForeground&&(Br=50331648,mt=M.selectionForeground.rgba>>8&16777215,En=M.selectionForeground)),Gr&&ce.push("xterm-decoration-top"),ht){case 16777216:case 33554432:_r=M.ansi[ir],ce.push(`xterm-bg-${ir}`);break;case 50331648:_r=y.channels.toColor(ir>>16,ir>>8&255,255&ir),this._addStyle(P,`background-color:#${R((ir>>>0).toString(16),"0",6)}`);break;default:on?(_r=M.foreground,ce.push(`xterm-bg-${p.INVERTED_DEFAULT_COLOR}`)):_r=M.background}switch(tt||pe.isDim()&&(tt=y.color.multiplyOpacity(_r,.5)),Br){case 16777216:case 33554432:pe.isBold()&&mt<8&&this._optionsService.rawOptions.drawBoldTextInBrightColors&&(mt+=8),this._applyMinimumContrast(P,_r,M.ansi[mt],pe,tt,void 0)||ce.push(`xterm-fg-${mt}`);break;case 50331648:const Ve=y.channels.toColor(mt>>16&255,mt>>8&255,255&mt);this._applyMinimumContrast(P,_r,Ve,pe,tt,En)||this._addStyle(P,`color:#${R(mt.toString(16),"0",6)}`);break;default:this._applyMinimumContrast(P,_r,M.foreground,pe,tt,En)||on&&ce.push(`xterm-fg-${p.INVERTED_DEFAULT_COLOR}`)}ce.length&&(P.className=ce.join(" "),ce.length=0),$e||Le||Ft?P.textContent=Z:j++,ie!==this.defaultSpacing&&(P.style.letterSpacing=`${ie}px`),Q.push(P),Se=we}return P&&j&&(P.textContent=Z),Q}_applyMinimumContrast(E,L,b,I,U,W){if(this._optionsService.rawOptions.minimumContrastRatio===1||(0,u.treatGlyphAsBackgroundColor)(I.getCode()))return!1;const Y=this._getContrastCache(I);let B;if(U||W||(B=Y.getColor(L.rgba,b.rgba)),B===void 0){const $=this._optionsService.rawOptions.minimumContrastRatio/(I.isDim()?2:1);B=y.color.ensureContrastRatio(U||L,W||b,$),Y.setColor((U||L).rgba,(W||b).rgba,B??null)}return!!B&&(this._addStyle(E,`color:${B.css}`),!0)}_getContrastCache(E){return E.isDim()?this._themeService.colors.halfContrastCache:this._themeService.colors.contrastCache}_addStyle(E,L){E.setAttribute("style",`${E.getAttribute("style")||""}${L};`)}_isCellInSelection(E,L){const b=this._selectionStart,I=this._selectionEnd;return!(!b||!I)&&(this._columnSelectMode?b[0]<=I[0]?E>=b[0]&&L>=b[1]&&E<I[0]&&L<=I[1]:E<b[0]&&L>=b[1]&&E>=I[0]&&L<=I[1]:L>b[1]&&L<I[1]||b[1]===I[1]&&L===b[1]&&E>=b[0]&&E<I[0]||b[1]<I[1]&&L===I[1]&&E<I[0]||b[1]<I[1]&&L===b[1]&&E>=b[0])}};function R(E,L,b){for(;E.length<b;)E=L+E;return E}o.DomRendererRowFactory=_=h([g(1,v.ICharacterJoinerService),g(2,C.IOptionsService),g(3,v.ICoreBrowserService),g(4,C.ICoreService),g(5,C.IDecorationService),g(6,v.IThemeService)],_)},2550:(a,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.WidthCache=void 0,o.WidthCache=class{constructor(l,h){this._flat=new Float32Array(256),this._font="",this._fontSize=0,this._weight="normal",this._weightBold="bold",this._measureElements=[],this._container=l.createElement("div"),this._container.classList.add("xterm-width-cache-measure-container"),this._container.setAttribute("aria-hidden","true"),this._container.style.whiteSpace="pre",this._container.style.fontKerning="none";const g=l.createElement("span");g.classList.add("xterm-char-measure-element");const p=l.createElement("span");p.classList.add("xterm-char-measure-element"),p.style.fontWeight="bold";const m=l.createElement("span");m.classList.add("xterm-char-measure-element"),m.style.fontStyle="italic";const w=l.createElement("span");w.classList.add("xterm-char-measure-element"),w.style.fontWeight="bold",w.style.fontStyle="italic",this._measureElements=[g,p,m,w],this._container.appendChild(g),this._container.appendChild(p),this._container.appendChild(m),this._container.appendChild(w),h.appendChild(this._container),this.clear()}dispose(){this._container.remove(),this._measureElements.length=0,this._holey=void 0}clear(){this._flat.fill(-9999),this._holey=new Map}setFont(l,h,g,p){l===this._font&&h===this._fontSize&&g===this._weight&&p===this._weightBold||(this._font=l,this._fontSize=h,this._weight=g,this._weightBold=p,this._container.style.fontFamily=this._font,this._container.style.fontSize=`${this._fontSize}px`,this._measureElements[0].style.fontWeight=`${g}`,this._measureElements[1].style.fontWeight=`${p}`,this._measureElements[2].style.fontWeight=`${g}`,this._measureElements[3].style.fontWeight=`${p}`,this.clear())}get(l,h,g){let p=0;if(!h&&!g&&l.length===1&&(p=l.charCodeAt(0))<256){if(this._flat[p]!==-9999)return this._flat[p];const C=this._measure(l,0);return C>0&&(this._flat[p]=C),C}let m=l;h&&(m+="B"),g&&(m+="I");let w=this._holey.get(m);if(w===void 0){let C=0;h&&(C|=1),g&&(C|=2),w=this._measure(l,C),w>0&&this._holey.set(m,w)}return w}_measure(l,h){const g=this._measureElements[h];return g.textContent=l.repeat(32),g.offsetWidth/32}}},2223:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.TEXT_BASELINE=o.DIM_OPACITY=o.INVERTED_DEFAULT_COLOR=void 0;const h=l(6114);o.INVERTED_DEFAULT_COLOR=257,o.DIM_OPACITY=.5,o.TEXT_BASELINE=h.isFirefox||h.isLegacyEdge?"bottom":"ideographic"},6171:(a,o)=>{function l(g){return 57508<=g&&g<=57558}function h(g){return g>=128512&&g<=128591||g>=127744&&g<=128511||g>=128640&&g<=128767||g>=9728&&g<=9983||g>=9984&&g<=10175||g>=65024&&g<=65039||g>=129280&&g<=129535||g>=127462&&g<=127487}Object.defineProperty(o,"__esModule",{value:!0}),o.computeNextVariantOffset=o.createRenderDimensions=o.treatGlyphAsBackgroundColor=o.allowRescaling=o.isEmoji=o.isRestrictedPowerlineGlyph=o.isPowerlineGlyph=o.throwIfFalsy=void 0,o.throwIfFalsy=function(g){if(!g)throw new Error("value must not be falsy");return g},o.isPowerlineGlyph=l,o.isRestrictedPowerlineGlyph=function(g){return 57520<=g&&g<=57527},o.isEmoji=h,o.allowRescaling=function(g,p,m,w){return p===1&&m>Math.ceil(1.5*w)&&g!==void 0&&g>255&&!h(g)&&!l(g)&&!function(C){return 57344<=C&&C<=63743}(g)},o.treatGlyphAsBackgroundColor=function(g){return l(g)||function(p){return 9472<=p&&p<=9631}(g)},o.createRenderDimensions=function(){return{css:{canvas:{width:0,height:0},cell:{width:0,height:0}},device:{canvas:{width:0,height:0},cell:{width:0,height:0},char:{width:0,height:0,left:0,top:0}}}},o.computeNextVariantOffset=function(g,p,m=0){return(g-(2*Math.round(p)-m))%(2*Math.round(p))}},6052:(a,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.createSelectionRenderModel=void 0;class l{constructor(){this.clear()}clear(){this.hasSelection=!1,this.columnSelectMode=!1,this.viewportStartRow=0,this.viewportEndRow=0,this.viewportCappedStartRow=0,this.viewportCappedEndRow=0,this.startCol=0,this.endCol=0,this.selectionStart=void 0,this.selectionEnd=void 0}update(g,p,m,w=!1){if(this.selectionStart=p,this.selectionEnd=m,!p||!m||p[0]===m[0]&&p[1]===m[1])return void this.clear();const C=g.buffers.active.ydisp,y=p[1]-C,v=m[1]-C,f=Math.max(y,0),u=Math.min(v,g.rows-1);f>=g.rows||u<0?this.clear():(this.hasSelection=!0,this.columnSelectMode=w,this.viewportStartRow=y,this.viewportEndRow=v,this.viewportCappedStartRow=f,this.viewportCappedEndRow=u,this.startCol=p[0],this.endCol=m[0])}isCellSelected(g,p,m){return!!this.hasSelection&&(m-=g.buffer.active.viewportY,this.columnSelectMode?this.startCol<=this.endCol?p>=this.startCol&&m>=this.viewportCappedStartRow&&p<this.endCol&&m<=this.viewportCappedEndRow:p<this.startCol&&m>=this.viewportCappedStartRow&&p>=this.endCol&&m<=this.viewportCappedEndRow:m>this.viewportStartRow&&m<this.viewportEndRow||this.viewportStartRow===this.viewportEndRow&&m===this.viewportStartRow&&p>=this.startCol&&p<this.endCol||this.viewportStartRow<this.viewportEndRow&&m===this.viewportEndRow&&p<this.endCol||this.viewportStartRow<this.viewportEndRow&&m===this.viewportStartRow&&p>=this.startCol)}}o.createSelectionRenderModel=function(){return new l}},456:(a,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.SelectionModel=void 0,o.SelectionModel=class{constructor(l){this._bufferService=l,this.isSelectAllActive=!1,this.selectionStartLength=0}clearSelection(){this.selectionStart=void 0,this.selectionEnd=void 0,this.isSelectAllActive=!1,this.selectionStartLength=0}get finalSelectionStart(){return this.isSelectAllActive?[0,0]:this.selectionEnd&&this.selectionStart&&this.areSelectionValuesReversed()?this.selectionEnd:this.selectionStart}get finalSelectionEnd(){if(this.isSelectAllActive)return[this._bufferService.cols,this._bufferService.buffer.ybase+this._bufferService.rows-1];if(this.selectionStart){if(!this.selectionEnd||this.areSelectionValuesReversed()){const l=this.selectionStart[0]+this.selectionStartLength;return l>this._bufferService.cols?l%this._bufferService.cols==0?[this._bufferService.cols,this.selectionStart[1]+Math.floor(l/this._bufferService.cols)-1]:[l%this._bufferService.cols,this.selectionStart[1]+Math.floor(l/this._bufferService.cols)]:[l,this.selectionStart[1]]}if(this.selectionStartLength&&this.selectionEnd[1]===this.selectionStart[1]){const l=this.selectionStart[0]+this.selectionStartLength;return l>this._bufferService.cols?[l%this._bufferService.cols,this.selectionStart[1]+Math.floor(l/this._bufferService.cols)]:[Math.max(l,this.selectionEnd[0]),this.selectionEnd[1]]}return this.selectionEnd}}areSelectionValuesReversed(){const l=this.selectionStart,h=this.selectionEnd;return!(!l||!h)&&(l[1]>h[1]||l[1]===h[1]&&l[0]>h[0])}handleTrim(l){return this.selectionStart&&(this.selectionStart[1]-=l),this.selectionEnd&&(this.selectionEnd[1]-=l),this.selectionEnd&&this.selectionEnd[1]<0?(this.clearSelection(),!0):(this.selectionStart&&this.selectionStart[1]<0&&(this.selectionStart[1]=0),!1)}}},428:function(a,o,l){var h=this&&this.__decorate||function(u,d,_,R){var E,L=arguments.length,b=L<3?d:R===null?R=Object.getOwnPropertyDescriptor(d,_):R;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(u,d,_,R);else for(var I=u.length-1;I>=0;I--)(E=u[I])&&(b=(L<3?E(b):L>3?E(d,_,b):E(d,_))||b);return L>3&&b&&Object.defineProperty(d,_,b),b},g=this&&this.__param||function(u,d){return function(_,R){d(_,R,u)}};Object.defineProperty(o,"__esModule",{value:!0}),o.CharSizeService=void 0;const p=l(2585),m=l(8460),w=l(844);let C=o.CharSizeService=class extends w.Disposable{get hasValidSize(){return this.width>0&&this.height>0}constructor(u,d,_){super(),this._optionsService=_,this.width=0,this.height=0,this._onCharSizeChange=this.register(new m.EventEmitter),this.onCharSizeChange=this._onCharSizeChange.event;try{this._measureStrategy=this.register(new f(this._optionsService))}catch{this._measureStrategy=this.register(new v(u,d,this._optionsService))}this.register(this._optionsService.onMultipleOptionChange(["fontFamily","fontSize"],()=>this.measure()))}measure(){const u=this._measureStrategy.measure();u.width===this.width&&u.height===this.height||(this.width=u.width,this.height=u.height,this._onCharSizeChange.fire())}};o.CharSizeService=C=h([g(2,p.IOptionsService)],C);class y extends w.Disposable{constructor(){super(...arguments),this._result={width:0,height:0}}_validateAndSet(d,_){d!==void 0&&d>0&&_!==void 0&&_>0&&(this._result.width=d,this._result.height=_)}}class v extends y{constructor(d,_,R){super(),this._document=d,this._parentElement=_,this._optionsService=R,this._measureElement=this._document.createElement("span"),this._measureElement.classList.add("xterm-char-measure-element"),this._measureElement.textContent="W".repeat(32),this._measureElement.setAttribute("aria-hidden","true"),this._measureElement.style.whiteSpace="pre",this._measureElement.style.fontKerning="none",this._parentElement.appendChild(this._measureElement)}measure(){return this._measureElement.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._measureElement.style.fontSize=`${this._optionsService.rawOptions.fontSize}px`,this._validateAndSet(Number(this._measureElement.offsetWidth)/32,Number(this._measureElement.offsetHeight)),this._result}}class f extends y{constructor(d){super(),this._optionsService=d,this._canvas=new OffscreenCanvas(100,100),this._ctx=this._canvas.getContext("2d");const _=this._ctx.measureText("W");if(!("width"in _&&"fontBoundingBoxAscent"in _&&"fontBoundingBoxDescent"in _))throw new Error("Required font metrics not supported")}measure(){this._ctx.font=`${this._optionsService.rawOptions.fontSize}px ${this._optionsService.rawOptions.fontFamily}`;const d=this._ctx.measureText("W");return this._validateAndSet(d.width,d.fontBoundingBoxAscent+d.fontBoundingBoxDescent),this._result}}},4269:function(a,o,l){var h=this&&this.__decorate||function(f,u,d,_){var R,E=arguments.length,L=E<3?u:_===null?_=Object.getOwnPropertyDescriptor(u,d):_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")L=Reflect.decorate(f,u,d,_);else for(var b=f.length-1;b>=0;b--)(R=f[b])&&(L=(E<3?R(L):E>3?R(u,d,L):R(u,d))||L);return E>3&&L&&Object.defineProperty(u,d,L),L},g=this&&this.__param||function(f,u){return function(d,_){u(d,_,f)}};Object.defineProperty(o,"__esModule",{value:!0}),o.CharacterJoinerService=o.JoinedCellData=void 0;const p=l(3734),m=l(643),w=l(511),C=l(2585);class y extends p.AttributeData{constructor(u,d,_){super(),this.content=0,this.combinedData="",this.fg=u.fg,this.bg=u.bg,this.combinedData=d,this._width=_}isCombined(){return 2097152}getWidth(){return this._width}getChars(){return this.combinedData}getCode(){return 2097151}setFromCharData(u){throw new Error("not implemented")}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}o.JoinedCellData=y;let v=o.CharacterJoinerService=class v1{constructor(u){this._bufferService=u,this._characterJoiners=[],this._nextCharacterJoinerId=0,this._workCell=new w.CellData}register(u){const d={id:this._nextCharacterJoinerId++,handler:u};return this._characterJoiners.push(d),d.id}deregister(u){for(let d=0;d<this._characterJoiners.length;d++)if(this._characterJoiners[d].id===u)return this._characterJoiners.splice(d,1),!0;return!1}getJoinedCharacters(u){if(this._characterJoiners.length===0)return[];const d=this._bufferService.buffer.lines.get(u);if(!d||d.length===0)return[];const _=[],R=d.translateToString(!0);let E=0,L=0,b=0,I=d.getFg(0),U=d.getBg(0);for(let W=0;W<d.getTrimmedLength();W++)if(d.loadCell(W,this._workCell),this._workCell.getWidth()!==0){if(this._workCell.fg!==I||this._workCell.bg!==U){if(W-E>1){const Y=this._getJoinedRanges(R,b,L,d,E);for(let B=0;B<Y.length;B++)_.push(Y[B])}E=W,b=L,I=this._workCell.fg,U=this._workCell.bg}L+=this._workCell.getChars().length||m.WHITESPACE_CELL_CHAR.length}if(this._bufferService.cols-E>1){const W=this._getJoinedRanges(R,b,L,d,E);for(let Y=0;Y<W.length;Y++)_.push(W[Y])}return _}_getJoinedRanges(u,d,_,R,E){const L=u.substring(d,_);let b=[];try{b=this._characterJoiners[0].handler(L)}catch(I){console.error(I)}for(let I=1;I<this._characterJoiners.length;I++)try{const U=this._characterJoiners[I].handler(L);for(let W=0;W<U.length;W++)v1._mergeRanges(b,U[W])}catch(U){console.error(U)}return this._stringRangesToCellRanges(b,R,E),b}_stringRangesToCellRanges(u,d,_){let R=0,E=!1,L=0,b=u[R];if(b){for(let I=_;I<this._bufferService.cols;I++){const U=d.getWidth(I),W=d.getString(I).length||m.WHITESPACE_CELL_CHAR.length;if(U!==0){if(!E&&b[0]<=L&&(b[0]=I,E=!0),b[1]<=L){if(b[1]=I,b=u[++R],!b)break;b[0]<=L?(b[0]=I,E=!0):E=!1}L+=W}}b&&(b[1]=this._bufferService.cols)}}static _mergeRanges(u,d){let _=!1;for(let R=0;R<u.length;R++){const E=u[R];if(_){if(d[1]<=E[0])return u[R-1][1]=d[1],u;if(d[1]<=E[1])return u[R-1][1]=Math.max(d[1],E[1]),u.splice(R,1),u;u.splice(R,1),R--}else{if(d[1]<=E[0])return u.splice(R,0,d),u;if(d[1]<=E[1])return E[0]=Math.min(d[0],E[0]),u;d[0]<E[1]&&(E[0]=Math.min(d[0],E[0]),_=!0)}}return _?u[u.length-1][1]=d[1]:u.push(d),u}};o.CharacterJoinerService=v=h([g(0,C.IBufferService)],v)},5114:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.CoreBrowserService=void 0;const h=l(844),g=l(8460),p=l(3656);class m extends h.Disposable{constructor(y,v,f){super(),this._textarea=y,this._window=v,this.mainDocument=f,this._isFocused=!1,this._cachedIsFocused=void 0,this._screenDprMonitor=new w(this._window),this._onDprChange=this.register(new g.EventEmitter),this.onDprChange=this._onDprChange.event,this._onWindowChange=this.register(new g.EventEmitter),this.onWindowChange=this._onWindowChange.event,this.register(this.onWindowChange(u=>this._screenDprMonitor.setWindow(u))),this.register((0,g.forwardEvent)(this._screenDprMonitor.onDprChange,this._onDprChange)),this._textarea.addEventListener("focus",()=>this._isFocused=!0),this._textarea.addEventListener("blur",()=>this._isFocused=!1)}get window(){return this._window}set window(y){this._window!==y&&(this._window=y,this._onWindowChange.fire(this._window))}get dpr(){return this.window.devicePixelRatio}get isFocused(){return this._cachedIsFocused===void 0&&(this._cachedIsFocused=this._isFocused&&this._textarea.ownerDocument.hasFocus(),queueMicrotask(()=>this._cachedIsFocused=void 0)),this._cachedIsFocused}}o.CoreBrowserService=m;class w extends h.Disposable{constructor(y){super(),this._parentWindow=y,this._windowResizeListener=this.register(new h.MutableDisposable),this._onDprChange=this.register(new g.EventEmitter),this.onDprChange=this._onDprChange.event,this._outerListener=()=>this._setDprAndFireIfDiffers(),this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this._updateDpr(),this._setWindowResizeListener(),this.register((0,h.toDisposable)(()=>this.clearListener()))}setWindow(y){this._parentWindow=y,this._setWindowResizeListener(),this._setDprAndFireIfDiffers()}_setWindowResizeListener(){this._windowResizeListener.value=(0,p.addDisposableDomListener)(this._parentWindow,"resize",()=>this._setDprAndFireIfDiffers())}_setDprAndFireIfDiffers(){this._parentWindow.devicePixelRatio!==this._currentDevicePixelRatio&&this._onDprChange.fire(this._parentWindow.devicePixelRatio),this._updateDpr()}_updateDpr(){this._outerListener&&(this._resolutionMediaMatchList?.removeListener(this._outerListener),this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this._resolutionMediaMatchList=this._parentWindow.matchMedia(`screen and (resolution: ${this._parentWindow.devicePixelRatio}dppx)`),this._resolutionMediaMatchList.addListener(this._outerListener))}clearListener(){this._resolutionMediaMatchList&&this._outerListener&&(this._resolutionMediaMatchList.removeListener(this._outerListener),this._resolutionMediaMatchList=void 0,this._outerListener=void 0)}}},779:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.LinkProviderService=void 0;const h=l(844);class g extends h.Disposable{constructor(){super(),this.linkProviders=[],this.register((0,h.toDisposable)(()=>this.linkProviders.length=0))}registerLinkProvider(m){return this.linkProviders.push(m),{dispose:()=>{const w=this.linkProviders.indexOf(m);w!==-1&&this.linkProviders.splice(w,1)}}}}o.LinkProviderService=g},8934:function(a,o,l){var h=this&&this.__decorate||function(C,y,v,f){var u,d=arguments.length,_=d<3?y:f===null?f=Object.getOwnPropertyDescriptor(y,v):f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")_=Reflect.decorate(C,y,v,f);else for(var R=C.length-1;R>=0;R--)(u=C[R])&&(_=(d<3?u(_):d>3?u(y,v,_):u(y,v))||_);return d>3&&_&&Object.defineProperty(y,v,_),_},g=this&&this.__param||function(C,y){return function(v,f){y(v,f,C)}};Object.defineProperty(o,"__esModule",{value:!0}),o.MouseService=void 0;const p=l(4725),m=l(9806);let w=o.MouseService=class{constructor(C,y){this._renderService=C,this._charSizeService=y}getCoords(C,y,v,f,u){return(0,m.getCoords)(window,C,y,v,f,this._charSizeService.hasValidSize,this._renderService.dimensions.css.cell.width,this._renderService.dimensions.css.cell.height,u)}getMouseReportCoords(C,y){const v=(0,m.getCoordsRelativeToElement)(window,C,y);if(this._charSizeService.hasValidSize)return v[0]=Math.min(Math.max(v[0],0),this._renderService.dimensions.css.canvas.width-1),v[1]=Math.min(Math.max(v[1],0),this._renderService.dimensions.css.canvas.height-1),{col:Math.floor(v[0]/this._renderService.dimensions.css.cell.width),row:Math.floor(v[1]/this._renderService.dimensions.css.cell.height),x:Math.floor(v[0]),y:Math.floor(v[1])}}};o.MouseService=w=h([g(0,p.IRenderService),g(1,p.ICharSizeService)],w)},3230:function(a,o,l){var h=this&&this.__decorate||function(u,d,_,R){var E,L=arguments.length,b=L<3?d:R===null?R=Object.getOwnPropertyDescriptor(d,_):R;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(u,d,_,R);else for(var I=u.length-1;I>=0;I--)(E=u[I])&&(b=(L<3?E(b):L>3?E(d,_,b):E(d,_))||b);return L>3&&b&&Object.defineProperty(d,_,b),b},g=this&&this.__param||function(u,d){return function(_,R){d(_,R,u)}};Object.defineProperty(o,"__esModule",{value:!0}),o.RenderService=void 0;const p=l(6193),m=l(4725),w=l(8460),C=l(844),y=l(7226),v=l(2585);let f=o.RenderService=class extends C.Disposable{get dimensions(){return this._renderer.value.dimensions}constructor(u,d,_,R,E,L,b,I){super(),this._rowCount=u,this._charSizeService=R,this._renderer=this.register(new C.MutableDisposable),this._pausedResizeTask=new y.DebouncedIdleTask,this._observerDisposable=this.register(new C.MutableDisposable),this._isPaused=!1,this._needsFullRefresh=!1,this._isNextRenderRedrawOnly=!0,this._needsSelectionRefresh=!1,this._canvasWidth=0,this._canvasHeight=0,this._selectionState={start:void 0,end:void 0,columnSelectMode:!1},this._onDimensionsChange=this.register(new w.EventEmitter),this.onDimensionsChange=this._onDimensionsChange.event,this._onRenderedViewportChange=this.register(new w.EventEmitter),this.onRenderedViewportChange=this._onRenderedViewportChange.event,this._onRender=this.register(new w.EventEmitter),this.onRender=this._onRender.event,this._onRefreshRequest=this.register(new w.EventEmitter),this.onRefreshRequest=this._onRefreshRequest.event,this._renderDebouncer=new p.RenderDebouncer((U,W)=>this._renderRows(U,W),b),this.register(this._renderDebouncer),this.register(b.onDprChange(()=>this.handleDevicePixelRatioChange())),this.register(L.onResize(()=>this._fullRefresh())),this.register(L.buffers.onBufferActivate(()=>this._renderer.value?.clear())),this.register(_.onOptionChange(()=>this._handleOptionsChanged())),this.register(this._charSizeService.onCharSizeChange(()=>this.handleCharSizeChanged())),this.register(E.onDecorationRegistered(()=>this._fullRefresh())),this.register(E.onDecorationRemoved(()=>this._fullRefresh())),this.register(_.onMultipleOptionChange(["customGlyphs","drawBoldTextInBrightColors","letterSpacing","lineHeight","fontFamily","fontSize","fontWeight","fontWeightBold","minimumContrastRatio","rescaleOverlappingGlyphs"],()=>{this.clear(),this.handleResize(L.cols,L.rows),this._fullRefresh()})),this.register(_.onMultipleOptionChange(["cursorBlink","cursorStyle"],()=>this.refreshRows(L.buffer.y,L.buffer.y,!0))),this.register(I.onChangeColors(()=>this._fullRefresh())),this._registerIntersectionObserver(b.window,d),this.register(b.onWindowChange(U=>this._registerIntersectionObserver(U,d)))}_registerIntersectionObserver(u,d){if("IntersectionObserver"in u){const _=new u.IntersectionObserver(R=>this._handleIntersectionChange(R[R.length-1]),{threshold:0});_.observe(d),this._observerDisposable.value=(0,C.toDisposable)(()=>_.disconnect())}}_handleIntersectionChange(u){this._isPaused=u.isIntersecting===void 0?u.intersectionRatio===0:!u.isIntersecting,this._isPaused||this._charSizeService.hasValidSize||this._charSizeService.measure(),!this._isPaused&&this._needsFullRefresh&&(this._pausedResizeTask.flush(),this.refreshRows(0,this._rowCount-1),this._needsFullRefresh=!1)}refreshRows(u,d,_=!1){this._isPaused?this._needsFullRefresh=!0:(_||(this._isNextRenderRedrawOnly=!1),this._renderDebouncer.refresh(u,d,this._rowCount))}_renderRows(u,d){this._renderer.value&&(u=Math.min(u,this._rowCount-1),d=Math.min(d,this._rowCount-1),this._renderer.value.renderRows(u,d),this._needsSelectionRefresh&&(this._renderer.value.handleSelectionChanged(this._selectionState.start,this._selectionState.end,this._selectionState.columnSelectMode),this._needsSelectionRefresh=!1),this._isNextRenderRedrawOnly||this._onRenderedViewportChange.fire({start:u,end:d}),this._onRender.fire({start:u,end:d}),this._isNextRenderRedrawOnly=!0)}resize(u,d){this._rowCount=d,this._fireOnCanvasResize()}_handleOptionsChanged(){this._renderer.value&&(this.refreshRows(0,this._rowCount-1),this._fireOnCanvasResize())}_fireOnCanvasResize(){this._renderer.value&&(this._renderer.value.dimensions.css.canvas.width===this._canvasWidth&&this._renderer.value.dimensions.css.canvas.height===this._canvasHeight||this._onDimensionsChange.fire(this._renderer.value.dimensions))}hasRenderer(){return!!this._renderer.value}setRenderer(u){this._renderer.value=u,this._renderer.value&&(this._renderer.value.onRequestRedraw(d=>this.refreshRows(d.start,d.end,!0)),this._needsSelectionRefresh=!0,this._fullRefresh())}addRefreshCallback(u){return this._renderDebouncer.addRefreshCallback(u)}_fullRefresh(){this._isPaused?this._needsFullRefresh=!0:this.refreshRows(0,this._rowCount-1)}clearTextureAtlas(){this._renderer.value&&(this._renderer.value.clearTextureAtlas?.(),this._fullRefresh())}handleDevicePixelRatioChange(){this._charSizeService.measure(),this._renderer.value&&(this._renderer.value.handleDevicePixelRatioChange(),this.refreshRows(0,this._rowCount-1))}handleResize(u,d){this._renderer.value&&(this._isPaused?this._pausedResizeTask.set(()=>this._renderer.value?.handleResize(u,d)):this._renderer.value.handleResize(u,d),this._fullRefresh())}handleCharSizeChanged(){this._renderer.value?.handleCharSizeChanged()}handleBlur(){this._renderer.value?.handleBlur()}handleFocus(){this._renderer.value?.handleFocus()}handleSelectionChanged(u,d,_){this._selectionState.start=u,this._selectionState.end=d,this._selectionState.columnSelectMode=_,this._renderer.value?.handleSelectionChanged(u,d,_)}handleCursorMove(){this._renderer.value?.handleCursorMove()}clear(){this._renderer.value?.clear()}};o.RenderService=f=h([g(2,v.IOptionsService),g(3,m.ICharSizeService),g(4,v.IDecorationService),g(5,v.IBufferService),g(6,m.ICoreBrowserService),g(7,m.IThemeService)],f)},9312:function(a,o,l){var h=this&&this.__decorate||function(b,I,U,W){var Y,B=arguments.length,$=B<3?I:W===null?W=Object.getOwnPropertyDescriptor(I,U):W;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$=Reflect.decorate(b,I,U,W);else for(var N=b.length-1;N>=0;N--)(Y=b[N])&&($=(B<3?Y($):B>3?Y(I,U,$):Y(I,U))||$);return B>3&&$&&Object.defineProperty(I,U,$),$},g=this&&this.__param||function(b,I){return function(U,W){I(U,W,b)}};Object.defineProperty(o,"__esModule",{value:!0}),o.SelectionService=void 0;const p=l(9806),m=l(9504),w=l(456),C=l(4725),y=l(8460),v=l(844),f=l(6114),u=l(4841),d=l(511),_=l(2585),R="",E=new RegExp(R,"g");let L=o.SelectionService=class extends v.Disposable{constructor(b,I,U,W,Y,B,$,N,z){super(),this._element=b,this._screenElement=I,this._linkifier=U,this._bufferService=W,this._coreService=Y,this._mouseService=B,this._optionsService=$,this._renderService=N,this._coreBrowserService=z,this._dragScrollAmount=0,this._enabled=!0,this._workCell=new d.CellData,this._mouseDownTimeStamp=0,this._oldHasSelection=!1,this._oldSelectionStart=void 0,this._oldSelectionEnd=void 0,this._onLinuxMouseSelection=this.register(new y.EventEmitter),this.onLinuxMouseSelection=this._onLinuxMouseSelection.event,this._onRedrawRequest=this.register(new y.EventEmitter),this.onRequestRedraw=this._onRedrawRequest.event,this._onSelectionChange=this.register(new y.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onRequestScrollLines=this.register(new y.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this._mouseMoveListener=Q=>this._handleMouseMove(Q),this._mouseUpListener=Q=>this._handleMouseUp(Q),this._coreService.onUserInput(()=>{this.hasSelection&&this.clearSelection()}),this._trimListener=this._bufferService.buffer.lines.onTrim(Q=>this._handleTrim(Q)),this.register(this._bufferService.buffers.onBufferActivate(Q=>this._handleBufferActivate(Q))),this.enable(),this._model=new w.SelectionModel(this._bufferService),this._activeSelectionMode=0,this.register((0,v.toDisposable)(()=>{this._removeMouseDownListeners()}))}reset(){this.clearSelection()}disable(){this.clearSelection(),this._enabled=!1}enable(){this._enabled=!0}get selectionStart(){return this._model.finalSelectionStart}get selectionEnd(){return this._model.finalSelectionEnd}get hasSelection(){const b=this._model.finalSelectionStart,I=this._model.finalSelectionEnd;return!(!b||!I||b[0]===I[0]&&b[1]===I[1])}get selectionText(){const b=this._model.finalSelectionStart,I=this._model.finalSelectionEnd;if(!b||!I)return"";const U=this._bufferService.buffer,W=[];if(this._activeSelectionMode===3){if(b[0]===I[0])return"";const Y=b[0]<I[0]?b[0]:I[0],B=b[0]<I[0]?I[0]:b[0];for(let $=b[1];$<=I[1];$++){const N=U.translateBufferLineToString($,!0,Y,B);W.push(N)}}else{const Y=b[1]===I[1]?I[0]:void 0;W.push(U.translateBufferLineToString(b[1],!0,b[0],Y));for(let B=b[1]+1;B<=I[1]-1;B++){const $=U.lines.get(B),N=U.translateBufferLineToString(B,!0);$?.isWrapped?W[W.length-1]+=N:W.push(N)}if(b[1]!==I[1]){const B=U.lines.get(I[1]),$=U.translateBufferLineToString(I[1],!0,0,I[0]);B&&B.isWrapped?W[W.length-1]+=$:W.push($)}}return W.map(Y=>Y.replace(E," ")).join(f.isWindows?`\r
`:`
`)}clearSelection(){this._model.clearSelection(),this._removeMouseDownListeners(),this.refresh(),this._onSelectionChange.fire()}refresh(b){this._refreshAnimationFrame||(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._refresh())),f.isLinux&&b&&this.selectionText.length&&this._onLinuxMouseSelection.fire(this.selectionText)}_refresh(){this._refreshAnimationFrame=void 0,this._onRedrawRequest.fire({start:this._model.finalSelectionStart,end:this._model.finalSelectionEnd,columnSelectMode:this._activeSelectionMode===3})}_isClickInSelection(b){const I=this._getMouseBufferCoords(b),U=this._model.finalSelectionStart,W=this._model.finalSelectionEnd;return!!(U&&W&&I)&&this._areCoordsInSelection(I,U,W)}isCellInSelection(b,I){const U=this._model.finalSelectionStart,W=this._model.finalSelectionEnd;return!(!U||!W)&&this._areCoordsInSelection([b,I],U,W)}_areCoordsInSelection(b,I,U){return b[1]>I[1]&&b[1]<U[1]||I[1]===U[1]&&b[1]===I[1]&&b[0]>=I[0]&&b[0]<U[0]||I[1]<U[1]&&b[1]===U[1]&&b[0]<U[0]||I[1]<U[1]&&b[1]===I[1]&&b[0]>=I[0]}_selectWordAtCursor(b,I){const U=this._linkifier.currentLink?.link?.range;if(U)return this._model.selectionStart=[U.start.x-1,U.start.y-1],this._model.selectionStartLength=(0,u.getRangeLength)(U,this._bufferService.cols),this._model.selectionEnd=void 0,!0;const W=this._getMouseBufferCoords(b);return!!W&&(this._selectWordAt(W,I),this._model.selectionEnd=void 0,!0)}selectAll(){this._model.isSelectAllActive=!0,this.refresh(),this._onSelectionChange.fire()}selectLines(b,I){this._model.clearSelection(),b=Math.max(b,0),I=Math.min(I,this._bufferService.buffer.lines.length-1),this._model.selectionStart=[0,b],this._model.selectionEnd=[this._bufferService.cols,I],this.refresh(),this._onSelectionChange.fire()}_handleTrim(b){this._model.handleTrim(b)&&this.refresh()}_getMouseBufferCoords(b){const I=this._mouseService.getCoords(b,this._screenElement,this._bufferService.cols,this._bufferService.rows,!0);if(I)return I[0]--,I[1]--,I[1]+=this._bufferService.buffer.ydisp,I}_getMouseEventScrollAmount(b){let I=(0,p.getCoordsRelativeToElement)(this._coreBrowserService.window,b,this._screenElement)[1];const U=this._renderService.dimensions.css.canvas.height;return I>=0&&I<=U?0:(I>U&&(I-=U),I=Math.min(Math.max(I,-50),50),I/=50,I/Math.abs(I)+Math.round(14*I))}shouldForceSelection(b){return f.isMac?b.altKey&&this._optionsService.rawOptions.macOptionClickForcesSelection:b.shiftKey}handleMouseDown(b){if(this._mouseDownTimeStamp=b.timeStamp,(b.button!==2||!this.hasSelection)&&b.button===0){if(!this._enabled){if(!this.shouldForceSelection(b))return;b.stopPropagation()}b.preventDefault(),this._dragScrollAmount=0,this._enabled&&b.shiftKey?this._handleIncrementalClick(b):b.detail===1?this._handleSingleClick(b):b.detail===2?this._handleDoubleClick(b):b.detail===3&&this._handleTripleClick(b),this._addMouseDownListeners(),this.refresh(!0)}}_addMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.addEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.addEventListener("mouseup",this._mouseUpListener)),this._dragScrollIntervalTimer=this._coreBrowserService.window.setInterval(()=>this._dragScroll(),50)}_removeMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.removeEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.removeEventListener("mouseup",this._mouseUpListener)),this._coreBrowserService.window.clearInterval(this._dragScrollIntervalTimer),this._dragScrollIntervalTimer=void 0}_handleIncrementalClick(b){this._model.selectionStart&&(this._model.selectionEnd=this._getMouseBufferCoords(b))}_handleSingleClick(b){if(this._model.selectionStartLength=0,this._model.isSelectAllActive=!1,this._activeSelectionMode=this.shouldColumnSelect(b)?3:0,this._model.selectionStart=this._getMouseBufferCoords(b),!this._model.selectionStart)return;this._model.selectionEnd=void 0;const I=this._bufferService.buffer.lines.get(this._model.selectionStart[1]);I&&I.length!==this._model.selectionStart[0]&&I.hasWidth(this._model.selectionStart[0])===0&&this._model.selectionStart[0]++}_handleDoubleClick(b){this._selectWordAtCursor(b,!0)&&(this._activeSelectionMode=1)}_handleTripleClick(b){const I=this._getMouseBufferCoords(b);I&&(this._activeSelectionMode=2,this._selectLineAt(I[1]))}shouldColumnSelect(b){return b.altKey&&!(f.isMac&&this._optionsService.rawOptions.macOptionClickForcesSelection)}_handleMouseMove(b){if(b.stopImmediatePropagation(),!this._model.selectionStart)return;const I=this._model.selectionEnd?[this._model.selectionEnd[0],this._model.selectionEnd[1]]:null;if(this._model.selectionEnd=this._getMouseBufferCoords(b),!this._model.selectionEnd)return void this.refresh(!0);this._activeSelectionMode===2?this._model.selectionEnd[1]<this._model.selectionStart[1]?this._model.selectionEnd[0]=0:this._model.selectionEnd[0]=this._bufferService.cols:this._activeSelectionMode===1&&this._selectToWordAt(this._model.selectionEnd),this._dragScrollAmount=this._getMouseEventScrollAmount(b),this._activeSelectionMode!==3&&(this._dragScrollAmount>0?this._model.selectionEnd[0]=this._bufferService.cols:this._dragScrollAmount<0&&(this._model.selectionEnd[0]=0));const U=this._bufferService.buffer;if(this._model.selectionEnd[1]<U.lines.length){const W=U.lines.get(this._model.selectionEnd[1]);W&&W.hasWidth(this._model.selectionEnd[0])===0&&this._model.selectionEnd[0]<this._bufferService.cols&&this._model.selectionEnd[0]++}I&&I[0]===this._model.selectionEnd[0]&&I[1]===this._model.selectionEnd[1]||this.refresh(!0)}_dragScroll(){if(this._model.selectionEnd&&this._model.selectionStart&&this._dragScrollAmount){this._onRequestScrollLines.fire({amount:this._dragScrollAmount,suppressScrollEvent:!1});const b=this._bufferService.buffer;this._dragScrollAmount>0?(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=this._bufferService.cols),this._model.selectionEnd[1]=Math.min(b.ydisp+this._bufferService.rows,b.lines.length-1)):(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=0),this._model.selectionEnd[1]=b.ydisp),this.refresh()}}_handleMouseUp(b){const I=b.timeStamp-this._mouseDownTimeStamp;if(this._removeMouseDownListeners(),this.selectionText.length<=1&&I<500&&b.altKey&&this._optionsService.rawOptions.altClickMovesCursor){if(this._bufferService.buffer.ybase===this._bufferService.buffer.ydisp){const U=this._mouseService.getCoords(b,this._element,this._bufferService.cols,this._bufferService.rows,!1);if(U&&U[0]!==void 0&&U[1]!==void 0){const W=(0,m.moveToCellSequence)(U[0]-1,U[1]-1,this._bufferService,this._coreService.decPrivateModes.applicationCursorKeys);this._coreService.triggerDataEvent(W,!0)}}}else this._fireEventIfSelectionChanged()}_fireEventIfSelectionChanged(){const b=this._model.finalSelectionStart,I=this._model.finalSelectionEnd,U=!(!b||!I||b[0]===I[0]&&b[1]===I[1]);U?b&&I&&(this._oldSelectionStart&&this._oldSelectionEnd&&b[0]===this._oldSelectionStart[0]&&b[1]===this._oldSelectionStart[1]&&I[0]===this._oldSelectionEnd[0]&&I[1]===this._oldSelectionEnd[1]||this._fireOnSelectionChange(b,I,U)):this._oldHasSelection&&this._fireOnSelectionChange(b,I,U)}_fireOnSelectionChange(b,I,U){this._oldSelectionStart=b,this._oldSelectionEnd=I,this._oldHasSelection=U,this._onSelectionChange.fire()}_handleBufferActivate(b){this.clearSelection(),this._trimListener.dispose(),this._trimListener=b.activeBuffer.lines.onTrim(I=>this._handleTrim(I))}_convertViewportColToCharacterIndex(b,I){let U=I;for(let W=0;I>=W;W++){const Y=b.loadCell(W,this._workCell).getChars().length;this._workCell.getWidth()===0?U--:Y>1&&I!==W&&(U+=Y-1)}return U}setSelection(b,I,U){this._model.clearSelection(),this._removeMouseDownListeners(),this._model.selectionStart=[b,I],this._model.selectionStartLength=U,this.refresh(),this._fireEventIfSelectionChanged()}rightClickSelect(b){this._isClickInSelection(b)||(this._selectWordAtCursor(b,!1)&&this.refresh(!0),this._fireEventIfSelectionChanged())}_getWordAt(b,I,U=!0,W=!0){if(b[0]>=this._bufferService.cols)return;const Y=this._bufferService.buffer,B=Y.lines.get(b[1]);if(!B)return;const $=Y.translateBufferLineToString(b[1],!1);let N=this._convertViewportColToCharacterIndex(B,b[0]),z=N;const Q=b[0]-N;let V=0,M=0,P=0,O=0;if($.charAt(N)===" "){for(;N>0&&$.charAt(N-1)===" ";)N--;for(;z<$.length&&$.charAt(z+1)===" ";)z++}else{let re=b[0],le=b[0];B.getWidth(re)===0&&(V++,re--),B.getWidth(le)===2&&(M++,le++);const ue=B.getString(le).length;for(ue>1&&(O+=ue-1,z+=ue-1);re>0&&N>0&&!this._isCharWordSeparator(B.loadCell(re-1,this._workCell));){B.loadCell(re-1,this._workCell);const X=this._workCell.getChars().length;this._workCell.getWidth()===0?(V++,re--):X>1&&(P+=X-1,N-=X-1),N--,re--}for(;le<B.length&&z+1<$.length&&!this._isCharWordSeparator(B.loadCell(le+1,this._workCell));){B.loadCell(le+1,this._workCell);const X=this._workCell.getChars().length;this._workCell.getWidth()===2?(M++,le++):X>1&&(O+=X-1,z+=X-1),z++,le++}}z++;let j=N+Q-V+P,Z=Math.min(this._bufferService.cols,z-N+V+M-P-O);if(I||$.slice(N,z).trim()!==""){if(U&&j===0&&B.getCodePoint(0)!==32){const re=Y.lines.get(b[1]-1);if(re&&B.isWrapped&&re.getCodePoint(this._bufferService.cols-1)!==32){const le=this._getWordAt([this._bufferService.cols-1,b[1]-1],!1,!0,!1);if(le){const ue=this._bufferService.cols-le.start;j-=ue,Z+=ue}}}if(W&&j+Z===this._bufferService.cols&&B.getCodePoint(this._bufferService.cols-1)!==32){const re=Y.lines.get(b[1]+1);if(re?.isWrapped&&re.getCodePoint(0)!==32){const le=this._getWordAt([0,b[1]+1],!1,!1,!0);le&&(Z+=le.length)}}return{start:j,length:Z}}}_selectWordAt(b,I){const U=this._getWordAt(b,I);if(U){for(;U.start<0;)U.start+=this._bufferService.cols,b[1]--;this._model.selectionStart=[U.start,b[1]],this._model.selectionStartLength=U.length}}_selectToWordAt(b){const I=this._getWordAt(b,!0);if(I){let U=b[1];for(;I.start<0;)I.start+=this._bufferService.cols,U--;if(!this._model.areSelectionValuesReversed())for(;I.start+I.length>this._bufferService.cols;)I.length-=this._bufferService.cols,U++;this._model.selectionEnd=[this._model.areSelectionValuesReversed()?I.start:I.start+I.length,U]}}_isCharWordSeparator(b){return b.getWidth()!==0&&this._optionsService.rawOptions.wordSeparator.indexOf(b.getChars())>=0}_selectLineAt(b){const I=this._bufferService.buffer.getWrappedRangeForLine(b),U={start:{x:0,y:I.first},end:{x:this._bufferService.cols-1,y:I.last}};this._model.selectionStart=[0,I.first],this._model.selectionEnd=void 0,this._model.selectionStartLength=(0,u.getRangeLength)(U,this._bufferService.cols)}};o.SelectionService=L=h([g(3,_.IBufferService),g(4,_.ICoreService),g(5,C.IMouseService),g(6,_.IOptionsService),g(7,C.IRenderService),g(8,C.ICoreBrowserService)],L)},4725:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ILinkProviderService=o.IThemeService=o.ICharacterJoinerService=o.ISelectionService=o.IRenderService=o.IMouseService=o.ICoreBrowserService=o.ICharSizeService=void 0;const h=l(8343);o.ICharSizeService=(0,h.createDecorator)("CharSizeService"),o.ICoreBrowserService=(0,h.createDecorator)("CoreBrowserService"),o.IMouseService=(0,h.createDecorator)("MouseService"),o.IRenderService=(0,h.createDecorator)("RenderService"),o.ISelectionService=(0,h.createDecorator)("SelectionService"),o.ICharacterJoinerService=(0,h.createDecorator)("CharacterJoinerService"),o.IThemeService=(0,h.createDecorator)("ThemeService"),o.ILinkProviderService=(0,h.createDecorator)("LinkProviderService")},6731:function(a,o,l){var h=this&&this.__decorate||function(L,b,I,U){var W,Y=arguments.length,B=Y<3?b:U===null?U=Object.getOwnPropertyDescriptor(b,I):U;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")B=Reflect.decorate(L,b,I,U);else for(var $=L.length-1;$>=0;$--)(W=L[$])&&(B=(Y<3?W(B):Y>3?W(b,I,B):W(b,I))||B);return Y>3&&B&&Object.defineProperty(b,I,B),B},g=this&&this.__param||function(L,b){return function(I,U){b(I,U,L)}};Object.defineProperty(o,"__esModule",{value:!0}),o.ThemeService=o.DEFAULT_ANSI_COLORS=void 0;const p=l(7239),m=l(8055),w=l(8460),C=l(844),y=l(2585),v=m.css.toColor("#ffffff"),f=m.css.toColor("#000000"),u=m.css.toColor("#ffffff"),d=m.css.toColor("#000000"),_={css:"rgba(255, 255, 255, 0.3)",rgba:4294967117};o.DEFAULT_ANSI_COLORS=Object.freeze((()=>{const L=[m.css.toColor("#2e3436"),m.css.toColor("#cc0000"),m.css.toColor("#4e9a06"),m.css.toColor("#c4a000"),m.css.toColor("#3465a4"),m.css.toColor("#75507b"),m.css.toColor("#06989a"),m.css.toColor("#d3d7cf"),m.css.toColor("#555753"),m.css.toColor("#ef2929"),m.css.toColor("#8ae234"),m.css.toColor("#fce94f"),m.css.toColor("#729fcf"),m.css.toColor("#ad7fa8"),m.css.toColor("#34e2e2"),m.css.toColor("#eeeeec")],b=[0,95,135,175,215,255];for(let I=0;I<216;I++){const U=b[I/36%6|0],W=b[I/6%6|0],Y=b[I%6];L.push({css:m.channels.toCss(U,W,Y),rgba:m.channels.toRgba(U,W,Y)})}for(let I=0;I<24;I++){const U=8+10*I;L.push({css:m.channels.toCss(U,U,U),rgba:m.channels.toRgba(U,U,U)})}return L})());let R=o.ThemeService=class extends C.Disposable{get colors(){return this._colors}constructor(L){super(),this._optionsService=L,this._contrastCache=new p.ColorContrastCache,this._halfContrastCache=new p.ColorContrastCache,this._onChangeColors=this.register(new w.EventEmitter),this.onChangeColors=this._onChangeColors.event,this._colors={foreground:v,background:f,cursor:u,cursorAccent:d,selectionForeground:void 0,selectionBackgroundTransparent:_,selectionBackgroundOpaque:m.color.blend(f,_),selectionInactiveBackgroundTransparent:_,selectionInactiveBackgroundOpaque:m.color.blend(f,_),ansi:o.DEFAULT_ANSI_COLORS.slice(),contrastCache:this._contrastCache,halfContrastCache:this._halfContrastCache},this._updateRestoreColors(),this._setTheme(this._optionsService.rawOptions.theme),this.register(this._optionsService.onSpecificOptionChange("minimumContrastRatio",()=>this._contrastCache.clear())),this.register(this._optionsService.onSpecificOptionChange("theme",()=>this._setTheme(this._optionsService.rawOptions.theme)))}_setTheme(L={}){const b=this._colors;if(b.foreground=E(L.foreground,v),b.background=E(L.background,f),b.cursor=E(L.cursor,u),b.cursorAccent=E(L.cursorAccent,d),b.selectionBackgroundTransparent=E(L.selectionBackground,_),b.selectionBackgroundOpaque=m.color.blend(b.background,b.selectionBackgroundTransparent),b.selectionInactiveBackgroundTransparent=E(L.selectionInactiveBackground,b.selectionBackgroundTransparent),b.selectionInactiveBackgroundOpaque=m.color.blend(b.background,b.selectionInactiveBackgroundTransparent),b.selectionForeground=L.selectionForeground?E(L.selectionForeground,m.NULL_COLOR):void 0,b.selectionForeground===m.NULL_COLOR&&(b.selectionForeground=void 0),m.color.isOpaque(b.selectionBackgroundTransparent)&&(b.selectionBackgroundTransparent=m.color.opacity(b.selectionBackgroundTransparent,.3)),m.color.isOpaque(b.selectionInactiveBackgroundTransparent)&&(b.selectionInactiveBackgroundTransparent=m.color.opacity(b.selectionInactiveBackgroundTransparent,.3)),b.ansi=o.DEFAULT_ANSI_COLORS.slice(),b.ansi[0]=E(L.black,o.DEFAULT_ANSI_COLORS[0]),b.ansi[1]=E(L.red,o.DEFAULT_ANSI_COLORS[1]),b.ansi[2]=E(L.green,o.DEFAULT_ANSI_COLORS[2]),b.ansi[3]=E(L.yellow,o.DEFAULT_ANSI_COLORS[3]),b.ansi[4]=E(L.blue,o.DEFAULT_ANSI_COLORS[4]),b.ansi[5]=E(L.magenta,o.DEFAULT_ANSI_COLORS[5]),b.ansi[6]=E(L.cyan,o.DEFAULT_ANSI_COLORS[6]),b.ansi[7]=E(L.white,o.DEFAULT_ANSI_COLORS[7]),b.ansi[8]=E(L.brightBlack,o.DEFAULT_ANSI_COLORS[8]),b.ansi[9]=E(L.brightRed,o.DEFAULT_ANSI_COLORS[9]),b.ansi[10]=E(L.brightGreen,o.DEFAULT_ANSI_COLORS[10]),b.ansi[11]=E(L.brightYellow,o.DEFAULT_ANSI_COLORS[11]),b.ansi[12]=E(L.brightBlue,o.DEFAULT_ANSI_COLORS[12]),b.ansi[13]=E(L.brightMagenta,o.DEFAULT_ANSI_COLORS[13]),b.ansi[14]=E(L.brightCyan,o.DEFAULT_ANSI_COLORS[14]),b.ansi[15]=E(L.brightWhite,o.DEFAULT_ANSI_COLORS[15]),L.extendedAnsi){const I=Math.min(b.ansi.length-16,L.extendedAnsi.length);for(let U=0;U<I;U++)b.ansi[U+16]=E(L.extendedAnsi[U],o.DEFAULT_ANSI_COLORS[U+16])}this._contrastCache.clear(),this._halfContrastCache.clear(),this._updateRestoreColors(),this._onChangeColors.fire(this.colors)}restoreColor(L){this._restoreColor(L),this._onChangeColors.fire(this.colors)}_restoreColor(L){if(L!==void 0)switch(L){case 256:this._colors.foreground=this._restoreColors.foreground;break;case 257:this._colors.background=this._restoreColors.background;break;case 258:this._colors.cursor=this._restoreColors.cursor;break;default:this._colors.ansi[L]=this._restoreColors.ansi[L]}else for(let b=0;b<this._restoreColors.ansi.length;++b)this._colors.ansi[b]=this._restoreColors.ansi[b]}modifyColors(L){L(this._colors),this._onChangeColors.fire(this.colors)}_updateRestoreColors(){this._restoreColors={foreground:this._colors.foreground,background:this._colors.background,cursor:this._colors.cursor,ansi:this._colors.ansi.slice()}}};function E(L,b){if(L!==void 0)try{return m.css.toColor(L)}catch{}return b}o.ThemeService=R=h([g(0,y.IOptionsService)],R)},6349:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.CircularList=void 0;const h=l(8460),g=l(844);class p extends g.Disposable{constructor(w){super(),this._maxLength=w,this.onDeleteEmitter=this.register(new h.EventEmitter),this.onDelete=this.onDeleteEmitter.event,this.onInsertEmitter=this.register(new h.EventEmitter),this.onInsert=this.onInsertEmitter.event,this.onTrimEmitter=this.register(new h.EventEmitter),this.onTrim=this.onTrimEmitter.event,this._array=new Array(this._maxLength),this._startIndex=0,this._length=0}get maxLength(){return this._maxLength}set maxLength(w){if(this._maxLength===w)return;const C=new Array(w);for(let y=0;y<Math.min(w,this.length);y++)C[y]=this._array[this._getCyclicIndex(y)];this._array=C,this._maxLength=w,this._startIndex=0}get length(){return this._length}set length(w){if(w>this._length)for(let C=this._length;C<w;C++)this._array[C]=void 0;this._length=w}get(w){return this._array[this._getCyclicIndex(w)]}set(w,C){this._array[this._getCyclicIndex(w)]=C}push(w){this._array[this._getCyclicIndex(this._length)]=w,this._length===this._maxLength?(this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1)):this._length++}recycle(){if(this._length!==this._maxLength)throw new Error("Can only recycle when the buffer is full");return this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1),this._array[this._getCyclicIndex(this._length-1)]}get isFull(){return this._length===this._maxLength}pop(){return this._array[this._getCyclicIndex(this._length---1)]}splice(w,C,...y){if(C){for(let v=w;v<this._length-C;v++)this._array[this._getCyclicIndex(v)]=this._array[this._getCyclicIndex(v+C)];this._length-=C,this.onDeleteEmitter.fire({index:w,amount:C})}for(let v=this._length-1;v>=w;v--)this._array[this._getCyclicIndex(v+y.length)]=this._array[this._getCyclicIndex(v)];for(let v=0;v<y.length;v++)this._array[this._getCyclicIndex(w+v)]=y[v];if(y.length&&this.onInsertEmitter.fire({index:w,amount:y.length}),this._length+y.length>this._maxLength){const v=this._length+y.length-this._maxLength;this._startIndex+=v,this._length=this._maxLength,this.onTrimEmitter.fire(v)}else this._length+=y.length}trimStart(w){w>this._length&&(w=this._length),this._startIndex+=w,this._length-=w,this.onTrimEmitter.fire(w)}shiftElements(w,C,y){if(!(C<=0)){if(w<0||w>=this._length)throw new Error("start argument out of range");if(w+y<0)throw new Error("Cannot shift elements in list beyond index 0");if(y>0){for(let f=C-1;f>=0;f--)this.set(w+f+y,this.get(w+f));const v=w+C+y-this._length;if(v>0)for(this._length+=v;this._length>this._maxLength;)this._length--,this._startIndex++,this.onTrimEmitter.fire(1)}else for(let v=0;v<C;v++)this.set(w+v+y,this.get(w+v))}}_getCyclicIndex(w){return(this._startIndex+w)%this._maxLength}}o.CircularList=p},1439:(a,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.clone=void 0,o.clone=function l(h,g=5){if(typeof h!="object")return h;const p=Array.isArray(h)?[]:{};for(const m in h)p[m]=g<=1?h[m]:h[m]&&l(h[m],g-1);return p}},8055:(a,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.contrastRatio=o.toPaddedHex=o.rgba=o.rgb=o.css=o.color=o.channels=o.NULL_COLOR=void 0;let l=0,h=0,g=0,p=0;var m,w,C,y,v;function f(d){const _=d.toString(16);return _.length<2?"0"+_:_}function u(d,_){return d<_?(_+.05)/(d+.05):(d+.05)/(_+.05)}o.NULL_COLOR={css:"#00000000",rgba:0},function(d){d.toCss=function(_,R,E,L){return L!==void 0?`#${f(_)}${f(R)}${f(E)}${f(L)}`:`#${f(_)}${f(R)}${f(E)}`},d.toRgba=function(_,R,E,L=255){return(_<<24|R<<16|E<<8|L)>>>0},d.toColor=function(_,R,E,L){return{css:d.toCss(_,R,E,L),rgba:d.toRgba(_,R,E,L)}}}(m||(o.channels=m={})),function(d){function _(R,E){return p=Math.round(255*E),[l,h,g]=v.toChannels(R.rgba),{css:m.toCss(l,h,g,p),rgba:m.toRgba(l,h,g,p)}}d.blend=function(R,E){if(p=(255&E.rgba)/255,p===1)return{css:E.css,rgba:E.rgba};const L=E.rgba>>24&255,b=E.rgba>>16&255,I=E.rgba>>8&255,U=R.rgba>>24&255,W=R.rgba>>16&255,Y=R.rgba>>8&255;return l=U+Math.round((L-U)*p),h=W+Math.round((b-W)*p),g=Y+Math.round((I-Y)*p),{css:m.toCss(l,h,g),rgba:m.toRgba(l,h,g)}},d.isOpaque=function(R){return(255&R.rgba)==255},d.ensureContrastRatio=function(R,E,L){const b=v.ensureContrastRatio(R.rgba,E.rgba,L);if(b)return m.toColor(b>>24&255,b>>16&255,b>>8&255)},d.opaque=function(R){const E=(255|R.rgba)>>>0;return[l,h,g]=v.toChannels(E),{css:m.toCss(l,h,g),rgba:E}},d.opacity=_,d.multiplyOpacity=function(R,E){return p=255&R.rgba,_(R,p*E/255)},d.toColorRGB=function(R){return[R.rgba>>24&255,R.rgba>>16&255,R.rgba>>8&255]}}(w||(o.color=w={})),function(d){let _,R;try{const E=document.createElement("canvas");E.width=1,E.height=1;const L=E.getContext("2d",{willReadFrequently:!0});L&&(_=L,_.globalCompositeOperation="copy",R=_.createLinearGradient(0,0,1,1))}catch{}d.toColor=function(E){if(E.match(/#[\da-f]{3,8}/i))switch(E.length){case 4:return l=parseInt(E.slice(1,2).repeat(2),16),h=parseInt(E.slice(2,3).repeat(2),16),g=parseInt(E.slice(3,4).repeat(2),16),m.toColor(l,h,g);case 5:return l=parseInt(E.slice(1,2).repeat(2),16),h=parseInt(E.slice(2,3).repeat(2),16),g=parseInt(E.slice(3,4).repeat(2),16),p=parseInt(E.slice(4,5).repeat(2),16),m.toColor(l,h,g,p);case 7:return{css:E,rgba:(parseInt(E.slice(1),16)<<8|255)>>>0};case 9:return{css:E,rgba:parseInt(E.slice(1),16)>>>0}}const L=E.match(/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(,\s*(0|1|\d?\.(\d+))\s*)?\)/);if(L)return l=parseInt(L[1]),h=parseInt(L[2]),g=parseInt(L[3]),p=Math.round(255*(L[5]===void 0?1:parseFloat(L[5]))),m.toColor(l,h,g,p);if(!_||!R)throw new Error("css.toColor: Unsupported css format");if(_.fillStyle=R,_.fillStyle=E,typeof _.fillStyle!="string")throw new Error("css.toColor: Unsupported css format");if(_.fillRect(0,0,1,1),[l,h,g,p]=_.getImageData(0,0,1,1).data,p!==255)throw new Error("css.toColor: Unsupported css format");return{rgba:m.toRgba(l,h,g,p),css:E}}}(C||(o.css=C={})),function(d){function _(R,E,L){const b=R/255,I=E/255,U=L/255;return .2126*(b<=.03928?b/12.92:Math.pow((b+.055)/1.055,2.4))+.7152*(I<=.03928?I/12.92:Math.pow((I+.055)/1.055,2.4))+.0722*(U<=.03928?U/12.92:Math.pow((U+.055)/1.055,2.4))}d.relativeLuminance=function(R){return _(R>>16&255,R>>8&255,255&R)},d.relativeLuminance2=_}(y||(o.rgb=y={})),function(d){function _(E,L,b){const I=E>>24&255,U=E>>16&255,W=E>>8&255;let Y=L>>24&255,B=L>>16&255,$=L>>8&255,N=u(y.relativeLuminance2(Y,B,$),y.relativeLuminance2(I,U,W));for(;N<b&&(Y>0||B>0||$>0);)Y-=Math.max(0,Math.ceil(.1*Y)),B-=Math.max(0,Math.ceil(.1*B)),$-=Math.max(0,Math.ceil(.1*$)),N=u(y.relativeLuminance2(Y,B,$),y.relativeLuminance2(I,U,W));return(Y<<24|B<<16|$<<8|255)>>>0}function R(E,L,b){const I=E>>24&255,U=E>>16&255,W=E>>8&255;let Y=L>>24&255,B=L>>16&255,$=L>>8&255,N=u(y.relativeLuminance2(Y,B,$),y.relativeLuminance2(I,U,W));for(;N<b&&(Y<255||B<255||$<255);)Y=Math.min(255,Y+Math.ceil(.1*(255-Y))),B=Math.min(255,B+Math.ceil(.1*(255-B))),$=Math.min(255,$+Math.ceil(.1*(255-$))),N=u(y.relativeLuminance2(Y,B,$),y.relativeLuminance2(I,U,W));return(Y<<24|B<<16|$<<8|255)>>>0}d.blend=function(E,L){if(p=(255&L)/255,p===1)return L;const b=L>>24&255,I=L>>16&255,U=L>>8&255,W=E>>24&255,Y=E>>16&255,B=E>>8&255;return l=W+Math.round((b-W)*p),h=Y+Math.round((I-Y)*p),g=B+Math.round((U-B)*p),m.toRgba(l,h,g)},d.ensureContrastRatio=function(E,L,b){const I=y.relativeLuminance(E>>8),U=y.relativeLuminance(L>>8);if(u(I,U)<b){if(U<I){const B=_(E,L,b),$=u(I,y.relativeLuminance(B>>8));if($<b){const N=R(E,L,b);return $>u(I,y.relativeLuminance(N>>8))?B:N}return B}const W=R(E,L,b),Y=u(I,y.relativeLuminance(W>>8));if(Y<b){const B=_(E,L,b);return Y>u(I,y.relativeLuminance(B>>8))?W:B}return W}},d.reduceLuminance=_,d.increaseLuminance=R,d.toChannels=function(E){return[E>>24&255,E>>16&255,E>>8&255,255&E]}}(v||(o.rgba=v={})),o.toPaddedHex=f,o.contrastRatio=u},8969:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.CoreTerminal=void 0;const h=l(844),g=l(2585),p=l(4348),m=l(7866),w=l(744),C=l(7302),y=l(6975),v=l(8460),f=l(1753),u=l(1480),d=l(7994),_=l(9282),R=l(5435),E=l(5981),L=l(2660);let b=!1;class I extends h.Disposable{get onScroll(){return this._onScrollApi||(this._onScrollApi=this.register(new v.EventEmitter),this._onScroll.event(W=>{this._onScrollApi?.fire(W.position)})),this._onScrollApi.event}get cols(){return this._bufferService.cols}get rows(){return this._bufferService.rows}get buffers(){return this._bufferService.buffers}get options(){return this.optionsService.options}set options(W){for(const Y in W)this.optionsService.options[Y]=W[Y]}constructor(W){super(),this._windowsWrappingHeuristics=this.register(new h.MutableDisposable),this._onBinary=this.register(new v.EventEmitter),this.onBinary=this._onBinary.event,this._onData=this.register(new v.EventEmitter),this.onData=this._onData.event,this._onLineFeed=this.register(new v.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onResize=this.register(new v.EventEmitter),this.onResize=this._onResize.event,this._onWriteParsed=this.register(new v.EventEmitter),this.onWriteParsed=this._onWriteParsed.event,this._onScroll=this.register(new v.EventEmitter),this._instantiationService=new p.InstantiationService,this.optionsService=this.register(new C.OptionsService(W)),this._instantiationService.setService(g.IOptionsService,this.optionsService),this._bufferService=this.register(this._instantiationService.createInstance(w.BufferService)),this._instantiationService.setService(g.IBufferService,this._bufferService),this._logService=this.register(this._instantiationService.createInstance(m.LogService)),this._instantiationService.setService(g.ILogService,this._logService),this.coreService=this.register(this._instantiationService.createInstance(y.CoreService)),this._instantiationService.setService(g.ICoreService,this.coreService),this.coreMouseService=this.register(this._instantiationService.createInstance(f.CoreMouseService)),this._instantiationService.setService(g.ICoreMouseService,this.coreMouseService),this.unicodeService=this.register(this._instantiationService.createInstance(u.UnicodeService)),this._instantiationService.setService(g.IUnicodeService,this.unicodeService),this._charsetService=this._instantiationService.createInstance(d.CharsetService),this._instantiationService.setService(g.ICharsetService,this._charsetService),this._oscLinkService=this._instantiationService.createInstance(L.OscLinkService),this._instantiationService.setService(g.IOscLinkService,this._oscLinkService),this._inputHandler=this.register(new R.InputHandler(this._bufferService,this._charsetService,this.coreService,this._logService,this.optionsService,this._oscLinkService,this.coreMouseService,this.unicodeService)),this.register((0,v.forwardEvent)(this._inputHandler.onLineFeed,this._onLineFeed)),this.register(this._inputHandler),this.register((0,v.forwardEvent)(this._bufferService.onResize,this._onResize)),this.register((0,v.forwardEvent)(this.coreService.onData,this._onData)),this.register((0,v.forwardEvent)(this.coreService.onBinary,this._onBinary)),this.register(this.coreService.onRequestScrollToBottom(()=>this.scrollToBottom())),this.register(this.coreService.onUserInput(()=>this._writeBuffer.handleUserInput())),this.register(this.optionsService.onMultipleOptionChange(["windowsMode","windowsPty"],()=>this._handleWindowsPtyOptionChange())),this.register(this._bufferService.onScroll(Y=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)})),this.register(this._inputHandler.onScroll(Y=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)})),this._writeBuffer=this.register(new E.WriteBuffer((Y,B)=>this._inputHandler.parse(Y,B))),this.register((0,v.forwardEvent)(this._writeBuffer.onWriteParsed,this._onWriteParsed))}write(W,Y){this._writeBuffer.write(W,Y)}writeSync(W,Y){this._logService.logLevel<=g.LogLevelEnum.WARN&&!b&&(this._logService.warn("writeSync is unreliable and will be removed soon."),b=!0),this._writeBuffer.writeSync(W,Y)}input(W,Y=!0){this.coreService.triggerDataEvent(W,Y)}resize(W,Y){isNaN(W)||isNaN(Y)||(W=Math.max(W,w.MINIMUM_COLS),Y=Math.max(Y,w.MINIMUM_ROWS),this._bufferService.resize(W,Y))}scroll(W,Y=!1){this._bufferService.scroll(W,Y)}scrollLines(W,Y,B){this._bufferService.scrollLines(W,Y,B)}scrollPages(W){this.scrollLines(W*(this.rows-1))}scrollToTop(){this.scrollLines(-this._bufferService.buffer.ydisp)}scrollToBottom(){this.scrollLines(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp)}scrollToLine(W){const Y=W-this._bufferService.buffer.ydisp;Y!==0&&this.scrollLines(Y)}registerEscHandler(W,Y){return this._inputHandler.registerEscHandler(W,Y)}registerDcsHandler(W,Y){return this._inputHandler.registerDcsHandler(W,Y)}registerCsiHandler(W,Y){return this._inputHandler.registerCsiHandler(W,Y)}registerOscHandler(W,Y){return this._inputHandler.registerOscHandler(W,Y)}_setup(){this._handleWindowsPtyOptionChange()}reset(){this._inputHandler.reset(),this._bufferService.reset(),this._charsetService.reset(),this.coreService.reset(),this.coreMouseService.reset()}_handleWindowsPtyOptionChange(){let W=!1;const Y=this.optionsService.rawOptions.windowsPty;Y&&Y.buildNumber!==void 0&&Y.buildNumber!==void 0?W=Y.backend==="conpty"&&Y.buildNumber<21376:this.optionsService.rawOptions.windowsMode&&(W=!0),W?this._enableWindowsWrappingHeuristics():this._windowsWrappingHeuristics.clear()}_enableWindowsWrappingHeuristics(){if(!this._windowsWrappingHeuristics.value){const W=[];W.push(this.onLineFeed(_.updateWindowsModeWrappedState.bind(null,this._bufferService))),W.push(this.registerCsiHandler({final:"H"},()=>((0,_.updateWindowsModeWrappedState)(this._bufferService),!1))),this._windowsWrappingHeuristics.value=(0,h.toDisposable)(()=>{for(const Y of W)Y.dispose()})}}}o.CoreTerminal=I},8460:(a,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.runAndSubscribe=o.forwardEvent=o.EventEmitter=void 0,o.EventEmitter=class{constructor(){this._listeners=[],this._disposed=!1}get event(){return this._event||(this._event=l=>(this._listeners.push(l),{dispose:()=>{if(!this._disposed){for(let h=0;h<this._listeners.length;h++)if(this._listeners[h]===l)return void this._listeners.splice(h,1)}}})),this._event}fire(l,h){const g=[];for(let p=0;p<this._listeners.length;p++)g.push(this._listeners[p]);for(let p=0;p<g.length;p++)g[p].call(void 0,l,h)}dispose(){this.clearListeners(),this._disposed=!0}clearListeners(){this._listeners&&(this._listeners.length=0)}},o.forwardEvent=function(l,h){return l(g=>h.fire(g))},o.runAndSubscribe=function(l,h){return h(void 0),l(g=>h(g))}},5435:function(a,o,l){var h=this&&this.__decorate||function(V,M,P,O){var j,Z=arguments.length,re=Z<3?M:O===null?O=Object.getOwnPropertyDescriptor(M,P):O;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")re=Reflect.decorate(V,M,P,O);else for(var le=V.length-1;le>=0;le--)(j=V[le])&&(re=(Z<3?j(re):Z>3?j(M,P,re):j(M,P))||re);return Z>3&&re&&Object.defineProperty(M,P,re),re},g=this&&this.__param||function(V,M){return function(P,O){M(P,O,V)}};Object.defineProperty(o,"__esModule",{value:!0}),o.InputHandler=o.WindowsOptionsReportType=void 0;const p=l(2584),m=l(7116),w=l(2015),C=l(844),y=l(482),v=l(8437),f=l(8460),u=l(643),d=l(511),_=l(3734),R=l(2585),E=l(1480),L=l(6242),b=l(6351),I=l(5941),U={"(":0,")":1,"*":2,"+":3,"-":1,".":2},W=131072;function Y(V,M){if(V>24)return M.setWinLines||!1;switch(V){case 1:return!!M.restoreWin;case 2:return!!M.minimizeWin;case 3:return!!M.setWinPosition;case 4:return!!M.setWinSizePixels;case 5:return!!M.raiseWin;case 6:return!!M.lowerWin;case 7:return!!M.refreshWin;case 8:return!!M.setWinSizeChars;case 9:return!!M.maximizeWin;case 10:return!!M.fullscreenWin;case 11:return!!M.getWinState;case 13:return!!M.getWinPosition;case 14:return!!M.getWinSizePixels;case 15:return!!M.getScreenSizePixels;case 16:return!!M.getCellSizePixels;case 18:return!!M.getWinSizeChars;case 19:return!!M.getScreenSizeChars;case 20:return!!M.getIconTitle;case 21:return!!M.getWinTitle;case 22:return!!M.pushTitle;case 23:return!!M.popTitle;case 24:return!!M.setWinLines}return!1}var B;(function(V){V[V.GET_WIN_SIZE_PIXELS=0]="GET_WIN_SIZE_PIXELS",V[V.GET_CELL_SIZE_PIXELS=1]="GET_CELL_SIZE_PIXELS"})(B||(o.WindowsOptionsReportType=B={}));let $=0;class N extends C.Disposable{getAttrData(){return this._curAttrData}constructor(M,P,O,j,Z,re,le,ue,X=new w.EscapeSequenceParser){super(),this._bufferService=M,this._charsetService=P,this._coreService=O,this._logService=j,this._optionsService=Z,this._oscLinkService=re,this._coreMouseService=le,this._unicodeService=ue,this._parser=X,this._parseBuffer=new Uint32Array(4096),this._stringDecoder=new y.StringToUtf32,this._utf8Decoder=new y.Utf8ToUtf32,this._workCell=new d.CellData,this._windowTitle="",this._iconName="",this._windowTitleStack=[],this._iconNameStack=[],this._curAttrData=v.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=v.DEFAULT_ATTR_DATA.clone(),this._onRequestBell=this.register(new f.EventEmitter),this.onRequestBell=this._onRequestBell.event,this._onRequestRefreshRows=this.register(new f.EventEmitter),this.onRequestRefreshRows=this._onRequestRefreshRows.event,this._onRequestReset=this.register(new f.EventEmitter),this.onRequestReset=this._onRequestReset.event,this._onRequestSendFocus=this.register(new f.EventEmitter),this.onRequestSendFocus=this._onRequestSendFocus.event,this._onRequestSyncScrollBar=this.register(new f.EventEmitter),this.onRequestSyncScrollBar=this._onRequestSyncScrollBar.event,this._onRequestWindowsOptionsReport=this.register(new f.EventEmitter),this.onRequestWindowsOptionsReport=this._onRequestWindowsOptionsReport.event,this._onA11yChar=this.register(new f.EventEmitter),this.onA11yChar=this._onA11yChar.event,this._onA11yTab=this.register(new f.EventEmitter),this.onA11yTab=this._onA11yTab.event,this._onCursorMove=this.register(new f.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onLineFeed=this.register(new f.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onScroll=this.register(new f.EventEmitter),this.onScroll=this._onScroll.event,this._onTitleChange=this.register(new f.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onColor=this.register(new f.EventEmitter),this.onColor=this._onColor.event,this._parseStack={paused:!1,cursorStartX:0,cursorStartY:0,decodedLength:0,position:0},this._specialColors=[256,257,258],this.register(this._parser),this._dirtyRowTracker=new z(this._bufferService),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate(D=>this._activeBuffer=D.activeBuffer)),this._parser.setCsiHandlerFallback((D,te)=>{this._logService.debug("Unknown CSI code: ",{identifier:this._parser.identToString(D),params:te.toArray()})}),this._parser.setEscHandlerFallback(D=>{this._logService.debug("Unknown ESC code: ",{identifier:this._parser.identToString(D)})}),this._parser.setExecuteHandlerFallback(D=>{this._logService.debug("Unknown EXECUTE code: ",{code:D})}),this._parser.setOscHandlerFallback((D,te,ie)=>{this._logService.debug("Unknown OSC code: ",{identifier:D,action:te,data:ie})}),this._parser.setDcsHandlerFallback((D,te,ie)=>{te==="HOOK"&&(ie=ie.toArray()),this._logService.debug("Unknown DCS code: ",{identifier:this._parser.identToString(D),action:te,payload:ie})}),this._parser.setPrintHandler((D,te,ie)=>this.print(D,te,ie)),this._parser.registerCsiHandler({final:"@"},D=>this.insertChars(D)),this._parser.registerCsiHandler({intermediates:" ",final:"@"},D=>this.scrollLeft(D)),this._parser.registerCsiHandler({final:"A"},D=>this.cursorUp(D)),this._parser.registerCsiHandler({intermediates:" ",final:"A"},D=>this.scrollRight(D)),this._parser.registerCsiHandler({final:"B"},D=>this.cursorDown(D)),this._parser.registerCsiHandler({final:"C"},D=>this.cursorForward(D)),this._parser.registerCsiHandler({final:"D"},D=>this.cursorBackward(D)),this._parser.registerCsiHandler({final:"E"},D=>this.cursorNextLine(D)),this._parser.registerCsiHandler({final:"F"},D=>this.cursorPrecedingLine(D)),this._parser.registerCsiHandler({final:"G"},D=>this.cursorCharAbsolute(D)),this._parser.registerCsiHandler({final:"H"},D=>this.cursorPosition(D)),this._parser.registerCsiHandler({final:"I"},D=>this.cursorForwardTab(D)),this._parser.registerCsiHandler({final:"J"},D=>this.eraseInDisplay(D,!1)),this._parser.registerCsiHandler({prefix:"?",final:"J"},D=>this.eraseInDisplay(D,!0)),this._parser.registerCsiHandler({final:"K"},D=>this.eraseInLine(D,!1)),this._parser.registerCsiHandler({prefix:"?",final:"K"},D=>this.eraseInLine(D,!0)),this._parser.registerCsiHandler({final:"L"},D=>this.insertLines(D)),this._parser.registerCsiHandler({final:"M"},D=>this.deleteLines(D)),this._parser.registerCsiHandler({final:"P"},D=>this.deleteChars(D)),this._parser.registerCsiHandler({final:"S"},D=>this.scrollUp(D)),this._parser.registerCsiHandler({final:"T"},D=>this.scrollDown(D)),this._parser.registerCsiHandler({final:"X"},D=>this.eraseChars(D)),this._parser.registerCsiHandler({final:"Z"},D=>this.cursorBackwardTab(D)),this._parser.registerCsiHandler({final:"`"},D=>this.charPosAbsolute(D)),this._parser.registerCsiHandler({final:"a"},D=>this.hPositionRelative(D)),this._parser.registerCsiHandler({final:"b"},D=>this.repeatPrecedingCharacter(D)),this._parser.registerCsiHandler({final:"c"},D=>this.sendDeviceAttributesPrimary(D)),this._parser.registerCsiHandler({prefix:">",final:"c"},D=>this.sendDeviceAttributesSecondary(D)),this._parser.registerCsiHandler({final:"d"},D=>this.linePosAbsolute(D)),this._parser.registerCsiHandler({final:"e"},D=>this.vPositionRelative(D)),this._parser.registerCsiHandler({final:"f"},D=>this.hVPosition(D)),this._parser.registerCsiHandler({final:"g"},D=>this.tabClear(D)),this._parser.registerCsiHandler({final:"h"},D=>this.setMode(D)),this._parser.registerCsiHandler({prefix:"?",final:"h"},D=>this.setModePrivate(D)),this._parser.registerCsiHandler({final:"l"},D=>this.resetMode(D)),this._parser.registerCsiHandler({prefix:"?",final:"l"},D=>this.resetModePrivate(D)),this._parser.registerCsiHandler({final:"m"},D=>this.charAttributes(D)),this._parser.registerCsiHandler({final:"n"},D=>this.deviceStatus(D)),this._parser.registerCsiHandler({prefix:"?",final:"n"},D=>this.deviceStatusPrivate(D)),this._parser.registerCsiHandler({intermediates:"!",final:"p"},D=>this.softReset(D)),this._parser.registerCsiHandler({intermediates:" ",final:"q"},D=>this.setCursorStyle(D)),this._parser.registerCsiHandler({final:"r"},D=>this.setScrollRegion(D)),this._parser.registerCsiHandler({final:"s"},D=>this.saveCursor(D)),this._parser.registerCsiHandler({final:"t"},D=>this.windowOptions(D)),this._parser.registerCsiHandler({final:"u"},D=>this.restoreCursor(D)),this._parser.registerCsiHandler({intermediates:"'",final:"}"},D=>this.insertColumns(D)),this._parser.registerCsiHandler({intermediates:"'",final:"~"},D=>this.deleteColumns(D)),this._parser.registerCsiHandler({intermediates:'"',final:"q"},D=>this.selectProtected(D)),this._parser.registerCsiHandler({intermediates:"$",final:"p"},D=>this.requestMode(D,!0)),this._parser.registerCsiHandler({prefix:"?",intermediates:"$",final:"p"},D=>this.requestMode(D,!1)),this._parser.setExecuteHandler(p.C0.BEL,()=>this.bell()),this._parser.setExecuteHandler(p.C0.LF,()=>this.lineFeed()),this._parser.setExecuteHandler(p.C0.VT,()=>this.lineFeed()),this._parser.setExecuteHandler(p.C0.FF,()=>this.lineFeed()),this._parser.setExecuteHandler(p.C0.CR,()=>this.carriageReturn()),this._parser.setExecuteHandler(p.C0.BS,()=>this.backspace()),this._parser.setExecuteHandler(p.C0.HT,()=>this.tab()),this._parser.setExecuteHandler(p.C0.SO,()=>this.shiftOut()),this._parser.setExecuteHandler(p.C0.SI,()=>this.shiftIn()),this._parser.setExecuteHandler(p.C1.IND,()=>this.index()),this._parser.setExecuteHandler(p.C1.NEL,()=>this.nextLine()),this._parser.setExecuteHandler(p.C1.HTS,()=>this.tabSet()),this._parser.registerOscHandler(0,new L.OscHandler(D=>(this.setTitle(D),this.setIconName(D),!0))),this._parser.registerOscHandler(1,new L.OscHandler(D=>this.setIconName(D))),this._parser.registerOscHandler(2,new L.OscHandler(D=>this.setTitle(D))),this._parser.registerOscHandler(4,new L.OscHandler(D=>this.setOrReportIndexedColor(D))),this._parser.registerOscHandler(8,new L.OscHandler(D=>this.setHyperlink(D))),this._parser.registerOscHandler(10,new L.OscHandler(D=>this.setOrReportFgColor(D))),this._parser.registerOscHandler(11,new L.OscHandler(D=>this.setOrReportBgColor(D))),this._parser.registerOscHandler(12,new L.OscHandler(D=>this.setOrReportCursorColor(D))),this._parser.registerOscHandler(104,new L.OscHandler(D=>this.restoreIndexedColor(D))),this._parser.registerOscHandler(110,new L.OscHandler(D=>this.restoreFgColor(D))),this._parser.registerOscHandler(111,new L.OscHandler(D=>this.restoreBgColor(D))),this._parser.registerOscHandler(112,new L.OscHandler(D=>this.restoreCursorColor(D))),this._parser.registerEscHandler({final:"7"},()=>this.saveCursor()),this._parser.registerEscHandler({final:"8"},()=>this.restoreCursor()),this._parser.registerEscHandler({final:"D"},()=>this.index()),this._parser.registerEscHandler({final:"E"},()=>this.nextLine()),this._parser.registerEscHandler({final:"H"},()=>this.tabSet()),this._parser.registerEscHandler({final:"M"},()=>this.reverseIndex()),this._parser.registerEscHandler({final:"="},()=>this.keypadApplicationMode()),this._parser.registerEscHandler({final:">"},()=>this.keypadNumericMode()),this._parser.registerEscHandler({final:"c"},()=>this.fullReset()),this._parser.registerEscHandler({final:"n"},()=>this.setgLevel(2)),this._parser.registerEscHandler({final:"o"},()=>this.setgLevel(3)),this._parser.registerEscHandler({final:"|"},()=>this.setgLevel(3)),this._parser.registerEscHandler({final:"}"},()=>this.setgLevel(2)),this._parser.registerEscHandler({final:"~"},()=>this.setgLevel(1)),this._parser.registerEscHandler({intermediates:"%",final:"@"},()=>this.selectDefaultCharset()),this._parser.registerEscHandler({intermediates:"%",final:"G"},()=>this.selectDefaultCharset());for(const D in m.CHARSETS)this._parser.registerEscHandler({intermediates:"(",final:D},()=>this.selectCharset("("+D)),this._parser.registerEscHandler({intermediates:")",final:D},()=>this.selectCharset(")"+D)),this._parser.registerEscHandler({intermediates:"*",final:D},()=>this.selectCharset("*"+D)),this._parser.registerEscHandler({intermediates:"+",final:D},()=>this.selectCharset("+"+D)),this._parser.registerEscHandler({intermediates:"-",final:D},()=>this.selectCharset("-"+D)),this._parser.registerEscHandler({intermediates:".",final:D},()=>this.selectCharset("."+D)),this._parser.registerEscHandler({intermediates:"/",final:D},()=>this.selectCharset("/"+D));this._parser.registerEscHandler({intermediates:"#",final:"8"},()=>this.screenAlignmentPattern()),this._parser.setErrorHandler(D=>(this._logService.error("Parsing error: ",D),D)),this._parser.registerDcsHandler({intermediates:"$",final:"q"},new b.DcsHandler((D,te)=>this.requestStatusString(D,te)))}_preserveStack(M,P,O,j){this._parseStack.paused=!0,this._parseStack.cursorStartX=M,this._parseStack.cursorStartY=P,this._parseStack.decodedLength=O,this._parseStack.position=j}_logSlowResolvingAsync(M){this._logService.logLevel<=R.LogLevelEnum.WARN&&Promise.race([M,new Promise((P,O)=>setTimeout(()=>O("#SLOW_TIMEOUT"),5e3))]).catch(P=>{if(P!=="#SLOW_TIMEOUT")throw P;console.warn("async parser handler taking longer than 5000 ms")})}_getCurrentLinkId(){return this._curAttrData.extended.urlId}parse(M,P){let O,j=this._activeBuffer.x,Z=this._activeBuffer.y,re=0;const le=this._parseStack.paused;if(le){if(O=this._parser.parse(this._parseBuffer,this._parseStack.decodedLength,P))return this._logSlowResolvingAsync(O),O;j=this._parseStack.cursorStartX,Z=this._parseStack.cursorStartY,this._parseStack.paused=!1,M.length>W&&(re=this._parseStack.position+W)}if(this._logService.logLevel<=R.LogLevelEnum.DEBUG&&this._logService.debug("parsing data"+(typeof M=="string"?` "${M}"`:` "${Array.prototype.map.call(M,D=>String.fromCharCode(D)).join("")}"`),typeof M=="string"?M.split("").map(D=>D.charCodeAt(0)):M),this._parseBuffer.length<M.length&&this._parseBuffer.length<W&&(this._parseBuffer=new Uint32Array(Math.min(M.length,W))),le||this._dirtyRowTracker.clearRange(),M.length>W)for(let D=re;D<M.length;D+=W){const te=D+W<M.length?D+W:M.length,ie=typeof M=="string"?this._stringDecoder.decode(M.substring(D,te),this._parseBuffer):this._utf8Decoder.decode(M.subarray(D,te),this._parseBuffer);if(O=this._parser.parse(this._parseBuffer,ie))return this._preserveStack(j,Z,ie,D),this._logSlowResolvingAsync(O),O}else if(!le){const D=typeof M=="string"?this._stringDecoder.decode(M,this._parseBuffer):this._utf8Decoder.decode(M,this._parseBuffer);if(O=this._parser.parse(this._parseBuffer,D))return this._preserveStack(j,Z,D,0),this._logSlowResolvingAsync(O),O}this._activeBuffer.x===j&&this._activeBuffer.y===Z||this._onCursorMove.fire();const ue=this._dirtyRowTracker.end+(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp),X=this._dirtyRowTracker.start+(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp);X<this._bufferService.rows&&this._onRequestRefreshRows.fire(Math.min(X,this._bufferService.rows-1),Math.min(ue,this._bufferService.rows-1))}print(M,P,O){let j,Z;const re=this._charsetService.charset,le=this._optionsService.rawOptions.screenReaderMode,ue=this._bufferService.cols,X=this._coreService.decPrivateModes.wraparound,D=this._coreService.modes.insertMode,te=this._curAttrData;let ie=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._activeBuffer.x&&O-P>0&&ie.getWidth(this._activeBuffer.x-1)===2&&ie.setCellFromCodepoint(this._activeBuffer.x-1,0,1,te);let ce=this._parser.precedingJoinState;for(let he=P;he<O;++he){if(j=M[he],j<127&&re){const we=re[String.fromCharCode(j)];we&&(j=we.charCodeAt(0))}const Se=this._unicodeService.charProperties(j,ce);Z=E.UnicodeService.extractWidth(Se);const _e=E.UnicodeService.extractShouldJoin(Se),Le=_e?E.UnicodeService.extractWidth(ce):0;if(ce=Se,le&&this._onA11yChar.fire((0,y.stringFromCodePoint)(j)),this._getCurrentLinkId()&&this._oscLinkService.addLineToLink(this._getCurrentLinkId(),this._activeBuffer.ybase+this._activeBuffer.y),this._activeBuffer.x+Z-Le>ue){if(X){const we=ie;let pe=this._activeBuffer.x-Le;for(this._activeBuffer.x=Le,this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData(),!0)):(this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!0),ie=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y),Le>0&&ie instanceof v.BufferLine&&ie.copyCellsFrom(we,pe,0,Le,!1);pe<ue;)we.setCellFromCodepoint(pe++,0,1,te)}else if(this._activeBuffer.x=ue-1,Z===2)continue}if(_e&&this._activeBuffer.x){const we=ie.getWidth(this._activeBuffer.x-1)?1:2;ie.addCodepointToCell(this._activeBuffer.x-we,j,Z);for(let pe=Z-Le;--pe>=0;)ie.setCellFromCodepoint(this._activeBuffer.x++,0,0,te)}else if(D&&(ie.insertCells(this._activeBuffer.x,Z-Le,this._activeBuffer.getNullCell(te)),ie.getWidth(ue-1)===2&&ie.setCellFromCodepoint(ue-1,u.NULL_CELL_CODE,u.NULL_CELL_WIDTH,te)),ie.setCellFromCodepoint(this._activeBuffer.x++,j,Z,te),Z>0)for(;--Z;)ie.setCellFromCodepoint(this._activeBuffer.x++,0,0,te)}this._parser.precedingJoinState=ce,this._activeBuffer.x<ue&&O-P>0&&ie.getWidth(this._activeBuffer.x)===0&&!ie.hasContent(this._activeBuffer.x)&&ie.setCellFromCodepoint(this._activeBuffer.x,0,1,te),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}registerCsiHandler(M,P){return M.final!=="t"||M.prefix||M.intermediates?this._parser.registerCsiHandler(M,P):this._parser.registerCsiHandler(M,O=>!Y(O.params[0],this._optionsService.rawOptions.windowOptions)||P(O))}registerDcsHandler(M,P){return this._parser.registerDcsHandler(M,new b.DcsHandler(P))}registerEscHandler(M,P){return this._parser.registerEscHandler(M,P)}registerOscHandler(M,P){return this._parser.registerOscHandler(M,new L.OscHandler(P))}bell(){return this._onRequestBell.fire(),!0}lineFeed(){return this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._optionsService.rawOptions.convertEol&&(this._activeBuffer.x=0),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows?this._activeBuffer.y=this._bufferService.rows-1:this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.x>=this._bufferService.cols&&this._activeBuffer.x--,this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._onLineFeed.fire(),!0}carriageReturn(){return this._activeBuffer.x=0,!0}backspace(){if(!this._coreService.decPrivateModes.reverseWraparound)return this._restrictCursor(),this._activeBuffer.x>0&&this._activeBuffer.x--,!0;if(this._restrictCursor(this._bufferService.cols),this._activeBuffer.x>0)this._activeBuffer.x--;else if(this._activeBuffer.x===0&&this._activeBuffer.y>this._activeBuffer.scrollTop&&this._activeBuffer.y<=this._activeBuffer.scrollBottom&&this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y)?.isWrapped){this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.y--,this._activeBuffer.x=this._bufferService.cols-1;const M=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);M.hasWidth(this._activeBuffer.x)&&!M.hasContent(this._activeBuffer.x)&&this._activeBuffer.x--}return this._restrictCursor(),!0}tab(){if(this._activeBuffer.x>=this._bufferService.cols)return!0;const M=this._activeBuffer.x;return this._activeBuffer.x=this._activeBuffer.nextStop(),this._optionsService.rawOptions.screenReaderMode&&this._onA11yTab.fire(this._activeBuffer.x-M),!0}shiftOut(){return this._charsetService.setgLevel(1),!0}shiftIn(){return this._charsetService.setgLevel(0),!0}_restrictCursor(M=this._bufferService.cols-1){this._activeBuffer.x=Math.min(M,Math.max(0,this._activeBuffer.x)),this._activeBuffer.y=this._coreService.decPrivateModes.origin?Math.min(this._activeBuffer.scrollBottom,Math.max(this._activeBuffer.scrollTop,this._activeBuffer.y)):Math.min(this._bufferService.rows-1,Math.max(0,this._activeBuffer.y)),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_setCursor(M,P){this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._coreService.decPrivateModes.origin?(this._activeBuffer.x=M,this._activeBuffer.y=this._activeBuffer.scrollTop+P):(this._activeBuffer.x=M,this._activeBuffer.y=P),this._restrictCursor(),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_moveCursor(M,P){this._restrictCursor(),this._setCursor(this._activeBuffer.x+M,this._activeBuffer.y+P)}cursorUp(M){const P=this._activeBuffer.y-this._activeBuffer.scrollTop;return P>=0?this._moveCursor(0,-Math.min(P,M.params[0]||1)):this._moveCursor(0,-(M.params[0]||1)),!0}cursorDown(M){const P=this._activeBuffer.scrollBottom-this._activeBuffer.y;return P>=0?this._moveCursor(0,Math.min(P,M.params[0]||1)):this._moveCursor(0,M.params[0]||1),!0}cursorForward(M){return this._moveCursor(M.params[0]||1,0),!0}cursorBackward(M){return this._moveCursor(-(M.params[0]||1),0),!0}cursorNextLine(M){return this.cursorDown(M),this._activeBuffer.x=0,!0}cursorPrecedingLine(M){return this.cursorUp(M),this._activeBuffer.x=0,!0}cursorCharAbsolute(M){return this._setCursor((M.params[0]||1)-1,this._activeBuffer.y),!0}cursorPosition(M){return this._setCursor(M.length>=2?(M.params[1]||1)-1:0,(M.params[0]||1)-1),!0}charPosAbsolute(M){return this._setCursor((M.params[0]||1)-1,this._activeBuffer.y),!0}hPositionRelative(M){return this._moveCursor(M.params[0]||1,0),!0}linePosAbsolute(M){return this._setCursor(this._activeBuffer.x,(M.params[0]||1)-1),!0}vPositionRelative(M){return this._moveCursor(0,M.params[0]||1),!0}hVPosition(M){return this.cursorPosition(M),!0}tabClear(M){const P=M.params[0];return P===0?delete this._activeBuffer.tabs[this._activeBuffer.x]:P===3&&(this._activeBuffer.tabs={}),!0}cursorForwardTab(M){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let P=M.params[0]||1;for(;P--;)this._activeBuffer.x=this._activeBuffer.nextStop();return!0}cursorBackwardTab(M){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let P=M.params[0]||1;for(;P--;)this._activeBuffer.x=this._activeBuffer.prevStop();return!0}selectProtected(M){const P=M.params[0];return P===1&&(this._curAttrData.bg|=536870912),P!==2&&P!==0||(this._curAttrData.bg&=-536870913),!0}_eraseInBufferLine(M,P,O,j=!1,Z=!1){const re=this._activeBuffer.lines.get(this._activeBuffer.ybase+M);re.replaceCells(P,O,this._activeBuffer.getNullCell(this._eraseAttrData()),Z),j&&(re.isWrapped=!1)}_resetBufferLine(M,P=!1){const O=this._activeBuffer.lines.get(this._activeBuffer.ybase+M);O&&(O.fill(this._activeBuffer.getNullCell(this._eraseAttrData()),P),this._bufferService.buffer.clearMarkers(this._activeBuffer.ybase+M),O.isWrapped=!1)}eraseInDisplay(M,P=!1){let O;switch(this._restrictCursor(this._bufferService.cols),M.params[0]){case 0:for(O=this._activeBuffer.y,this._dirtyRowTracker.markDirty(O),this._eraseInBufferLine(O++,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,P);O<this._bufferService.rows;O++)this._resetBufferLine(O,P);this._dirtyRowTracker.markDirty(O);break;case 1:for(O=this._activeBuffer.y,this._dirtyRowTracker.markDirty(O),this._eraseInBufferLine(O,0,this._activeBuffer.x+1,!0,P),this._activeBuffer.x+1>=this._bufferService.cols&&(this._activeBuffer.lines.get(O+1).isWrapped=!1);O--;)this._resetBufferLine(O,P);this._dirtyRowTracker.markDirty(0);break;case 2:for(O=this._bufferService.rows,this._dirtyRowTracker.markDirty(O-1);O--;)this._resetBufferLine(O,P);this._dirtyRowTracker.markDirty(0);break;case 3:const j=this._activeBuffer.lines.length-this._bufferService.rows;j>0&&(this._activeBuffer.lines.trimStart(j),this._activeBuffer.ybase=Math.max(this._activeBuffer.ybase-j,0),this._activeBuffer.ydisp=Math.max(this._activeBuffer.ydisp-j,0),this._onScroll.fire(0))}return!0}eraseInLine(M,P=!1){switch(this._restrictCursor(this._bufferService.cols),M.params[0]){case 0:this._eraseInBufferLine(this._activeBuffer.y,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,P);break;case 1:this._eraseInBufferLine(this._activeBuffer.y,0,this._activeBuffer.x+1,!1,P);break;case 2:this._eraseInBufferLine(this._activeBuffer.y,0,this._bufferService.cols,!0,P)}return this._dirtyRowTracker.markDirty(this._activeBuffer.y),!0}insertLines(M){this._restrictCursor();let P=M.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const O=this._activeBuffer.ybase+this._activeBuffer.y,j=this._bufferService.rows-1-this._activeBuffer.scrollBottom,Z=this._bufferService.rows-1+this._activeBuffer.ybase-j+1;for(;P--;)this._activeBuffer.lines.splice(Z-1,1),this._activeBuffer.lines.splice(O,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}deleteLines(M){this._restrictCursor();let P=M.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const O=this._activeBuffer.ybase+this._activeBuffer.y;let j;for(j=this._bufferService.rows-1-this._activeBuffer.scrollBottom,j=this._bufferService.rows-1+this._activeBuffer.ybase-j;P--;)this._activeBuffer.lines.splice(O,1),this._activeBuffer.lines.splice(j,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}insertChars(M){this._restrictCursor();const P=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return P&&(P.insertCells(this._activeBuffer.x,M.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData())),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}deleteChars(M){this._restrictCursor();const P=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return P&&(P.deleteCells(this._activeBuffer.x,M.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData())),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}scrollUp(M){let P=M.params[0]||1;for(;P--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollDown(M){let P=M.params[0]||1;for(;P--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,0,this._activeBuffer.getBlankLine(v.DEFAULT_ATTR_DATA));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollLeft(M){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const P=M.params[0]||1;for(let O=this._activeBuffer.scrollTop;O<=this._activeBuffer.scrollBottom;++O){const j=this._activeBuffer.lines.get(this._activeBuffer.ybase+O);j.deleteCells(0,P,this._activeBuffer.getNullCell(this._eraseAttrData())),j.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollRight(M){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const P=M.params[0]||1;for(let O=this._activeBuffer.scrollTop;O<=this._activeBuffer.scrollBottom;++O){const j=this._activeBuffer.lines.get(this._activeBuffer.ybase+O);j.insertCells(0,P,this._activeBuffer.getNullCell(this._eraseAttrData())),j.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}insertColumns(M){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const P=M.params[0]||1;for(let O=this._activeBuffer.scrollTop;O<=this._activeBuffer.scrollBottom;++O){const j=this._activeBuffer.lines.get(this._activeBuffer.ybase+O);j.insertCells(this._activeBuffer.x,P,this._activeBuffer.getNullCell(this._eraseAttrData())),j.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}deleteColumns(M){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const P=M.params[0]||1;for(let O=this._activeBuffer.scrollTop;O<=this._activeBuffer.scrollBottom;++O){const j=this._activeBuffer.lines.get(this._activeBuffer.ybase+O);j.deleteCells(this._activeBuffer.x,P,this._activeBuffer.getNullCell(this._eraseAttrData())),j.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}eraseChars(M){this._restrictCursor();const P=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return P&&(P.replaceCells(this._activeBuffer.x,this._activeBuffer.x+(M.params[0]||1),this._activeBuffer.getNullCell(this._eraseAttrData())),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}repeatPrecedingCharacter(M){const P=this._parser.precedingJoinState;if(!P)return!0;const O=M.params[0]||1,j=E.UnicodeService.extractWidth(P),Z=this._activeBuffer.x-j,re=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).getString(Z),le=new Uint32Array(re.length*O);let ue=0;for(let D=0;D<re.length;){const te=re.codePointAt(D)||0;le[ue++]=te,D+=te>65535?2:1}let X=ue;for(let D=1;D<O;++D)le.copyWithin(X,0,ue),X+=ue;return this.print(le,0,X),!0}sendDeviceAttributesPrimary(M){return M.params[0]>0||(this._is("xterm")||this._is("rxvt-unicode")||this._is("screen")?this._coreService.triggerDataEvent(p.C0.ESC+"[?1;2c"):this._is("linux")&&this._coreService.triggerDataEvent(p.C0.ESC+"[?6c")),!0}sendDeviceAttributesSecondary(M){return M.params[0]>0||(this._is("xterm")?this._coreService.triggerDataEvent(p.C0.ESC+"[>0;276;0c"):this._is("rxvt-unicode")?this._coreService.triggerDataEvent(p.C0.ESC+"[>85;95;0c"):this._is("linux")?this._coreService.triggerDataEvent(M.params[0]+"c"):this._is("screen")&&this._coreService.triggerDataEvent(p.C0.ESC+"[>83;40003;0c")),!0}_is(M){return(this._optionsService.rawOptions.termName+"").indexOf(M)===0}setMode(M){for(let P=0;P<M.length;P++)switch(M.params[P]){case 4:this._coreService.modes.insertMode=!0;break;case 20:this._optionsService.options.convertEol=!0}return!0}setModePrivate(M){for(let P=0;P<M.length;P++)switch(M.params[P]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!0;break;case 2:this._charsetService.setgCharset(0,m.DEFAULT_CHARSET),this._charsetService.setgCharset(1,m.DEFAULT_CHARSET),this._charsetService.setgCharset(2,m.DEFAULT_CHARSET),this._charsetService.setgCharset(3,m.DEFAULT_CHARSET);break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(132,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!0,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!0;break;case 12:this._optionsService.options.cursorBlink=!0;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!0;break;case 66:this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire();break;case 9:this._coreMouseService.activeProtocol="X10";break;case 1e3:this._coreMouseService.activeProtocol="VT200";break;case 1002:this._coreMouseService.activeProtocol="DRAG";break;case 1003:this._coreMouseService.activeProtocol="ANY";break;case 1004:this._coreService.decPrivateModes.sendFocus=!0,this._onRequestSendFocus.fire();break;case 1005:this._logService.debug("DECSET 1005 not supported (see #2507)");break;case 1006:this._coreMouseService.activeEncoding="SGR";break;case 1015:this._logService.debug("DECSET 1015 not supported (see #2507)");break;case 1016:this._coreMouseService.activeEncoding="SGR_PIXELS";break;case 25:this._coreService.isCursorHidden=!1;break;case 1048:this.saveCursor();break;case 1049:this.saveCursor();case 47:case 1047:this._bufferService.buffers.activateAltBuffer(this._eraseAttrData()),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!0}return!0}resetMode(M){for(let P=0;P<M.length;P++)switch(M.params[P]){case 4:this._coreService.modes.insertMode=!1;break;case 20:this._optionsService.options.convertEol=!1}return!0}resetModePrivate(M){for(let P=0;P<M.length;P++)switch(M.params[P]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!1;break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(80,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!1,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!1;break;case 12:this._optionsService.options.cursorBlink=!1;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!1;break;case 66:this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire();break;case 9:case 1e3:case 1002:case 1003:this._coreMouseService.activeProtocol="NONE";break;case 1004:this._coreService.decPrivateModes.sendFocus=!1;break;case 1005:this._logService.debug("DECRST 1005 not supported (see #2507)");break;case 1006:case 1016:this._coreMouseService.activeEncoding="DEFAULT";break;case 1015:this._logService.debug("DECRST 1015 not supported (see #2507)");break;case 25:this._coreService.isCursorHidden=!0;break;case 1048:this.restoreCursor();break;case 1049:case 47:case 1047:this._bufferService.buffers.activateNormalBuffer(),M.params[P]===1049&&this.restoreCursor(),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!1}return!0}requestMode(M,P){const O=this._coreService.decPrivateModes,{activeProtocol:j,activeEncoding:Z}=this._coreMouseService,re=this._coreService,{buffers:le,cols:ue}=this._bufferService,{active:X,alt:D}=le,te=this._optionsService.rawOptions,ie=_e=>_e?1:2,ce=M.params[0];return he=ce,Se=P?ce===2?4:ce===4?ie(re.modes.insertMode):ce===12?3:ce===20?ie(te.convertEol):0:ce===1?ie(O.applicationCursorKeys):ce===3?te.windowOptions.setWinLines?ue===80?2:ue===132?1:0:0:ce===6?ie(O.origin):ce===7?ie(O.wraparound):ce===8?3:ce===9?ie(j==="X10"):ce===12?ie(te.cursorBlink):ce===25?ie(!re.isCursorHidden):ce===45?ie(O.reverseWraparound):ce===66?ie(O.applicationKeypad):ce===67?4:ce===1e3?ie(j==="VT200"):ce===1002?ie(j==="DRAG"):ce===1003?ie(j==="ANY"):ce===1004?ie(O.sendFocus):ce===1005?4:ce===1006?ie(Z==="SGR"):ce===1015?4:ce===1016?ie(Z==="SGR_PIXELS"):ce===1048?1:ce===47||ce===1047||ce===1049?ie(X===D):ce===2004?ie(O.bracketedPasteMode):0,re.triggerDataEvent(`${p.C0.ESC}[${P?"":"?"}${he};${Se}$y`),!0;var he,Se}_updateAttrColor(M,P,O,j,Z){return P===2?(M|=50331648,M&=-16777216,M|=_.AttributeData.fromColorRGB([O,j,Z])):P===5&&(M&=-50331904,M|=33554432|255&O),M}_extractColor(M,P,O){const j=[0,0,-1,0,0,0];let Z=0,re=0;do{if(j[re+Z]=M.params[P+re],M.hasSubParams(P+re)){const le=M.getSubParams(P+re);let ue=0;do j[1]===5&&(Z=1),j[re+ue+1+Z]=le[ue];while(++ue<le.length&&ue+re+1+Z<j.length);break}if(j[1]===5&&re+Z>=2||j[1]===2&&re+Z>=5)break;j[1]&&(Z=1)}while(++re+P<M.length&&re+Z<j.length);for(let le=2;le<j.length;++le)j[le]===-1&&(j[le]=0);switch(j[0]){case 38:O.fg=this._updateAttrColor(O.fg,j[1],j[3],j[4],j[5]);break;case 48:O.bg=this._updateAttrColor(O.bg,j[1],j[3],j[4],j[5]);break;case 58:O.extended=O.extended.clone(),O.extended.underlineColor=this._updateAttrColor(O.extended.underlineColor,j[1],j[3],j[4],j[5])}return re}_processUnderline(M,P){P.extended=P.extended.clone(),(!~M||M>5)&&(M=1),P.extended.underlineStyle=M,P.fg|=268435456,M===0&&(P.fg&=-268435457),P.updateExtended()}_processSGR0(M){M.fg=v.DEFAULT_ATTR_DATA.fg,M.bg=v.DEFAULT_ATTR_DATA.bg,M.extended=M.extended.clone(),M.extended.underlineStyle=0,M.extended.underlineColor&=-67108864,M.updateExtended()}charAttributes(M){if(M.length===1&&M.params[0]===0)return this._processSGR0(this._curAttrData),!0;const P=M.length;let O;const j=this._curAttrData;for(let Z=0;Z<P;Z++)O=M.params[Z],O>=30&&O<=37?(j.fg&=-50331904,j.fg|=16777216|O-30):O>=40&&O<=47?(j.bg&=-50331904,j.bg|=16777216|O-40):O>=90&&O<=97?(j.fg&=-50331904,j.fg|=16777224|O-90):O>=100&&O<=107?(j.bg&=-50331904,j.bg|=16777224|O-100):O===0?this._processSGR0(j):O===1?j.fg|=134217728:O===3?j.bg|=67108864:O===4?(j.fg|=268435456,this._processUnderline(M.hasSubParams(Z)?M.getSubParams(Z)[0]:1,j)):O===5?j.fg|=536870912:O===7?j.fg|=67108864:O===8?j.fg|=1073741824:O===9?j.fg|=2147483648:O===2?j.bg|=134217728:O===21?this._processUnderline(2,j):O===22?(j.fg&=-134217729,j.bg&=-134217729):O===23?j.bg&=-67108865:O===24?(j.fg&=-268435457,this._processUnderline(0,j)):O===25?j.fg&=-536870913:O===27?j.fg&=-67108865:O===28?j.fg&=-1073741825:O===29?j.fg&=2147483647:O===39?(j.fg&=-67108864,j.fg|=16777215&v.DEFAULT_ATTR_DATA.fg):O===49?(j.bg&=-67108864,j.bg|=16777215&v.DEFAULT_ATTR_DATA.bg):O===38||O===48||O===58?Z+=this._extractColor(M,Z,j):O===53?j.bg|=1073741824:O===55?j.bg&=-1073741825:O===59?(j.extended=j.extended.clone(),j.extended.underlineColor=-1,j.updateExtended()):O===100?(j.fg&=-67108864,j.fg|=16777215&v.DEFAULT_ATTR_DATA.fg,j.bg&=-67108864,j.bg|=16777215&v.DEFAULT_ATTR_DATA.bg):this._logService.debug("Unknown SGR attribute: %d.",O);return!0}deviceStatus(M){switch(M.params[0]){case 5:this._coreService.triggerDataEvent(`${p.C0.ESC}[0n`);break;case 6:const P=this._activeBuffer.y+1,O=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${p.C0.ESC}[${P};${O}R`)}return!0}deviceStatusPrivate(M){if(M.params[0]===6){const P=this._activeBuffer.y+1,O=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${p.C0.ESC}[?${P};${O}R`)}return!0}softReset(M){return this._coreService.isCursorHidden=!1,this._onRequestSyncScrollBar.fire(),this._activeBuffer.scrollTop=0,this._activeBuffer.scrollBottom=this._bufferService.rows-1,this._curAttrData=v.DEFAULT_ATTR_DATA.clone(),this._coreService.reset(),this._charsetService.reset(),this._activeBuffer.savedX=0,this._activeBuffer.savedY=this._activeBuffer.ybase,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,this._coreService.decPrivateModes.origin=!1,!0}setCursorStyle(M){const P=M.params[0]||1;switch(P){case 1:case 2:this._optionsService.options.cursorStyle="block";break;case 3:case 4:this._optionsService.options.cursorStyle="underline";break;case 5:case 6:this._optionsService.options.cursorStyle="bar"}const O=P%2==1;return this._optionsService.options.cursorBlink=O,!0}setScrollRegion(M){const P=M.params[0]||1;let O;return(M.length<2||(O=M.params[1])>this._bufferService.rows||O===0)&&(O=this._bufferService.rows),O>P&&(this._activeBuffer.scrollTop=P-1,this._activeBuffer.scrollBottom=O-1,this._setCursor(0,0)),!0}windowOptions(M){if(!Y(M.params[0],this._optionsService.rawOptions.windowOptions))return!0;const P=M.length>1?M.params[1]:0;switch(M.params[0]){case 14:P!==2&&this._onRequestWindowsOptionsReport.fire(B.GET_WIN_SIZE_PIXELS);break;case 16:this._onRequestWindowsOptionsReport.fire(B.GET_CELL_SIZE_PIXELS);break;case 18:this._bufferService&&this._coreService.triggerDataEvent(`${p.C0.ESC}[8;${this._bufferService.rows};${this._bufferService.cols}t`);break;case 22:P!==0&&P!==2||(this._windowTitleStack.push(this._windowTitle),this._windowTitleStack.length>10&&this._windowTitleStack.shift()),P!==0&&P!==1||(this._iconNameStack.push(this._iconName),this._iconNameStack.length>10&&this._iconNameStack.shift());break;case 23:P!==0&&P!==2||this._windowTitleStack.length&&this.setTitle(this._windowTitleStack.pop()),P!==0&&P!==1||this._iconNameStack.length&&this.setIconName(this._iconNameStack.pop())}return!0}saveCursor(M){return this._activeBuffer.savedX=this._activeBuffer.x,this._activeBuffer.savedY=this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,!0}restoreCursor(M){return this._activeBuffer.x=this._activeBuffer.savedX||0,this._activeBuffer.y=Math.max(this._activeBuffer.savedY-this._activeBuffer.ybase,0),this._curAttrData.fg=this._activeBuffer.savedCurAttrData.fg,this._curAttrData.bg=this._activeBuffer.savedCurAttrData.bg,this._charsetService.charset=this._savedCharset,this._activeBuffer.savedCharset&&(this._charsetService.charset=this._activeBuffer.savedCharset),this._restrictCursor(),!0}setTitle(M){return this._windowTitle=M,this._onTitleChange.fire(M),!0}setIconName(M){return this._iconName=M,!0}setOrReportIndexedColor(M){const P=[],O=M.split(";");for(;O.length>1;){const j=O.shift(),Z=O.shift();if(/^\d+$/.exec(j)){const re=parseInt(j);if(Q(re))if(Z==="?")P.push({type:0,index:re});else{const le=(0,I.parseColor)(Z);le&&P.push({type:1,index:re,color:le})}}}return P.length&&this._onColor.fire(P),!0}setHyperlink(M){const P=M.split(";");return!(P.length<2)&&(P[1]?this._createHyperlink(P[0],P[1]):!P[0]&&this._finishHyperlink())}_createHyperlink(M,P){this._getCurrentLinkId()&&this._finishHyperlink();const O=M.split(":");let j;const Z=O.findIndex(re=>re.startsWith("id="));return Z!==-1&&(j=O[Z].slice(3)||void 0),this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=this._oscLinkService.registerLink({id:j,uri:P}),this._curAttrData.updateExtended(),!0}_finishHyperlink(){return this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=0,this._curAttrData.updateExtended(),!0}_setOrReportSpecialColor(M,P){const O=M.split(";");for(let j=0;j<O.length&&!(P>=this._specialColors.length);++j,++P)if(O[j]==="?")this._onColor.fire([{type:0,index:this._specialColors[P]}]);else{const Z=(0,I.parseColor)(O[j]);Z&&this._onColor.fire([{type:1,index:this._specialColors[P],color:Z}])}return!0}setOrReportFgColor(M){return this._setOrReportSpecialColor(M,0)}setOrReportBgColor(M){return this._setOrReportSpecialColor(M,1)}setOrReportCursorColor(M){return this._setOrReportSpecialColor(M,2)}restoreIndexedColor(M){if(!M)return this._onColor.fire([{type:2}]),!0;const P=[],O=M.split(";");for(let j=0;j<O.length;++j)if(/^\d+$/.exec(O[j])){const Z=parseInt(O[j]);Q(Z)&&P.push({type:2,index:Z})}return P.length&&this._onColor.fire(P),!0}restoreFgColor(M){return this._onColor.fire([{type:2,index:256}]),!0}restoreBgColor(M){return this._onColor.fire([{type:2,index:257}]),!0}restoreCursorColor(M){return this._onColor.fire([{type:2,index:258}]),!0}nextLine(){return this._activeBuffer.x=0,this.index(),!0}keypadApplicationMode(){return this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire(),!0}keypadNumericMode(){return this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire(),!0}selectDefaultCharset(){return this._charsetService.setgLevel(0),this._charsetService.setgCharset(0,m.DEFAULT_CHARSET),!0}selectCharset(M){return M.length!==2?(this.selectDefaultCharset(),!0):(M[0]==="/"||this._charsetService.setgCharset(U[M[0]],m.CHARSETS[M[1]]||m.DEFAULT_CHARSET),!0)}index(){return this._restrictCursor(),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._restrictCursor(),!0}tabSet(){return this._activeBuffer.tabs[this._activeBuffer.x]=!0,!0}reverseIndex(){if(this._restrictCursor(),this._activeBuffer.y===this._activeBuffer.scrollTop){const M=this._activeBuffer.scrollBottom-this._activeBuffer.scrollTop;this._activeBuffer.lines.shiftElements(this._activeBuffer.ybase+this._activeBuffer.y,M,1),this._activeBuffer.lines.set(this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.getBlankLine(this._eraseAttrData())),this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom)}else this._activeBuffer.y--,this._restrictCursor();return!0}fullReset(){return this._parser.reset(),this._onRequestReset.fire(),!0}reset(){this._curAttrData=v.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=v.DEFAULT_ATTR_DATA.clone()}_eraseAttrData(){return this._eraseAttrDataInternal.bg&=-67108864,this._eraseAttrDataInternal.bg|=67108863&this._curAttrData.bg,this._eraseAttrDataInternal}setgLevel(M){return this._charsetService.setgLevel(M),!0}screenAlignmentPattern(){const M=new d.CellData;M.content=4194373,M.fg=this._curAttrData.fg,M.bg=this._curAttrData.bg,this._setCursor(0,0);for(let P=0;P<this._bufferService.rows;++P){const O=this._activeBuffer.ybase+this._activeBuffer.y+P,j=this._activeBuffer.lines.get(O);j&&(j.fill(M),j.isWrapped=!1)}return this._dirtyRowTracker.markAllDirty(),this._setCursor(0,0),!0}requestStatusString(M,P){const O=this._bufferService.buffer,j=this._optionsService.rawOptions;return(Z=>(this._coreService.triggerDataEvent(`${p.C0.ESC}${Z}${p.C0.ESC}\\`),!0))(M==='"q'?`P1$r${this._curAttrData.isProtected()?1:0}"q`:M==='"p'?'P1$r61;1"p':M==="r"?`P1$r${O.scrollTop+1};${O.scrollBottom+1}r`:M==="m"?"P1$r0m":M===" q"?`P1$r${{block:2,underline:4,bar:6}[j.cursorStyle]-(j.cursorBlink?1:0)} q`:"P0$r")}markRangeDirty(M,P){this._dirtyRowTracker.markRangeDirty(M,P)}}o.InputHandler=N;let z=class{constructor(V){this._bufferService=V,this.clearRange()}clearRange(){this.start=this._bufferService.buffer.y,this.end=this._bufferService.buffer.y}markDirty(V){V<this.start?this.start=V:V>this.end&&(this.end=V)}markRangeDirty(V,M){V>M&&($=V,V=M,M=$),V<this.start&&(this.start=V),M>this.end&&(this.end=M)}markAllDirty(){this.markRangeDirty(0,this._bufferService.rows-1)}};function Q(V){return 0<=V&&V<256}z=h([g(0,R.IBufferService)],z)},844:(a,o)=>{function l(h){for(const g of h)g.dispose();h.length=0}Object.defineProperty(o,"__esModule",{value:!0}),o.getDisposeArrayDisposable=o.disposeArray=o.toDisposable=o.MutableDisposable=o.Disposable=void 0,o.Disposable=class{constructor(){this._disposables=[],this._isDisposed=!1}dispose(){this._isDisposed=!0;for(const h of this._disposables)h.dispose();this._disposables.length=0}register(h){return this._disposables.push(h),h}unregister(h){const g=this._disposables.indexOf(h);g!==-1&&this._disposables.splice(g,1)}},o.MutableDisposable=class{constructor(){this._isDisposed=!1}get value(){return this._isDisposed?void 0:this._value}set value(h){this._isDisposed||h===this._value||(this._value?.dispose(),this._value=h)}clear(){this.value=void 0}dispose(){this._isDisposed=!0,this._value?.dispose(),this._value=void 0}},o.toDisposable=function(h){return{dispose:h}},o.disposeArray=l,o.getDisposeArrayDisposable=function(h){return{dispose:()=>l(h)}}},1505:(a,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.FourKeyMap=o.TwoKeyMap=void 0;class l{constructor(){this._data={}}set(g,p,m){this._data[g]||(this._data[g]={}),this._data[g][p]=m}get(g,p){return this._data[g]?this._data[g][p]:void 0}clear(){this._data={}}}o.TwoKeyMap=l,o.FourKeyMap=class{constructor(){this._data=new l}set(h,g,p,m,w){this._data.get(h,g)||this._data.set(h,g,new l),this._data.get(h,g).set(p,m,w)}get(h,g,p,m){return this._data.get(h,g)?.get(p,m)}clear(){this._data.clear()}}},6114:(a,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.isChromeOS=o.isLinux=o.isWindows=o.isIphone=o.isIpad=o.isMac=o.getSafariVersion=o.isSafari=o.isLegacyEdge=o.isFirefox=o.isNode=void 0,o.isNode=typeof wl<"u"&&"title"in wl;const l=o.isNode?"node":navigator.userAgent,h=o.isNode?"node":navigator.platform;o.isFirefox=l.includes("Firefox"),o.isLegacyEdge=l.includes("Edge"),o.isSafari=/^((?!chrome|android).)*safari/i.test(l),o.getSafariVersion=function(){if(!o.isSafari)return 0;const g=l.match(/Version\/(\d+)/);return g===null||g.length<2?0:parseInt(g[1])},o.isMac=["Macintosh","MacIntel","MacPPC","Mac68K"].includes(h),o.isIpad=h==="iPad",o.isIphone=h==="iPhone",o.isWindows=["Windows","Win16","Win32","WinCE"].includes(h),o.isLinux=h.indexOf("Linux")>=0,o.isChromeOS=/\bCrOS\b/.test(l)},6106:(a,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.SortedList=void 0;let l=0;o.SortedList=class{constructor(h){this._getKey=h,this._array=[]}clear(){this._array.length=0}insert(h){this._array.length!==0?(l=this._search(this._getKey(h)),this._array.splice(l,0,h)):this._array.push(h)}delete(h){if(this._array.length===0)return!1;const g=this._getKey(h);if(g===void 0||(l=this._search(g),l===-1)||this._getKey(this._array[l])!==g)return!1;do if(this._array[l]===h)return this._array.splice(l,1),!0;while(++l<this._array.length&&this._getKey(this._array[l])===g);return!1}*getKeyIterator(h){if(this._array.length!==0&&(l=this._search(h),!(l<0||l>=this._array.length)&&this._getKey(this._array[l])===h))do yield this._array[l];while(++l<this._array.length&&this._getKey(this._array[l])===h)}forEachByKey(h,g){if(this._array.length!==0&&(l=this._search(h),!(l<0||l>=this._array.length)&&this._getKey(this._array[l])===h))do g(this._array[l]);while(++l<this._array.length&&this._getKey(this._array[l])===h)}values(){return[...this._array].values()}_search(h){let g=0,p=this._array.length-1;for(;p>=g;){let m=g+p>>1;const w=this._getKey(this._array[m]);if(w>h)p=m-1;else{if(!(w<h)){for(;m>0&&this._getKey(this._array[m-1])===h;)m--;return m}g=m+1}}return g}}},7226:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.DebouncedIdleTask=o.IdleTaskQueue=o.PriorityTaskQueue=void 0;const h=l(6114);class g{constructor(){this._tasks=[],this._i=0}enqueue(w){this._tasks.push(w),this._start()}flush(){for(;this._i<this._tasks.length;)this._tasks[this._i]()||this._i++;this.clear()}clear(){this._idleCallback&&(this._cancelCallback(this._idleCallback),this._idleCallback=void 0),this._i=0,this._tasks.length=0}_start(){this._idleCallback||(this._idleCallback=this._requestCallback(this._process.bind(this)))}_process(w){this._idleCallback=void 0;let C=0,y=0,v=w.timeRemaining(),f=0;for(;this._i<this._tasks.length;){if(C=Date.now(),this._tasks[this._i]()||this._i++,C=Math.max(1,Date.now()-C),y=Math.max(C,y),f=w.timeRemaining(),1.5*y>f)return v-C<-20&&console.warn(`task queue exceeded allotted deadline by ${Math.abs(Math.round(v-C))}ms`),void this._start();v=f}this.clear()}}class p extends g{_requestCallback(w){return setTimeout(()=>w(this._createDeadline(16)))}_cancelCallback(w){clearTimeout(w)}_createDeadline(w){const C=Date.now()+w;return{timeRemaining:()=>Math.max(0,C-Date.now())}}}o.PriorityTaskQueue=p,o.IdleTaskQueue=!h.isNode&&"requestIdleCallback"in window?class extends g{_requestCallback(m){return requestIdleCallback(m)}_cancelCallback(m){cancelIdleCallback(m)}}:p,o.DebouncedIdleTask=class{constructor(){this._queue=new o.IdleTaskQueue}set(m){this._queue.clear(),this._queue.enqueue(m)}flush(){this._queue.flush()}}},9282:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.updateWindowsModeWrappedState=void 0;const h=l(643);o.updateWindowsModeWrappedState=function(g){const p=g.buffer.lines.get(g.buffer.ybase+g.buffer.y-1),m=p?.get(g.cols-1),w=g.buffer.lines.get(g.buffer.ybase+g.buffer.y);w&&m&&(w.isWrapped=m[h.CHAR_DATA_CODE_INDEX]!==h.NULL_CELL_CODE&&m[h.CHAR_DATA_CODE_INDEX]!==h.WHITESPACE_CELL_CODE)}},3734:(a,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ExtendedAttrs=o.AttributeData=void 0;class l{constructor(){this.fg=0,this.bg=0,this.extended=new h}static toColorRGB(p){return[p>>>16&255,p>>>8&255,255&p]}static fromColorRGB(p){return(255&p[0])<<16|(255&p[1])<<8|255&p[2]}clone(){const p=new l;return p.fg=this.fg,p.bg=this.bg,p.extended=this.extended.clone(),p}isInverse(){return 67108864&this.fg}isBold(){return 134217728&this.fg}isUnderline(){return this.hasExtendedAttrs()&&this.extended.underlineStyle!==0?1:268435456&this.fg}isBlink(){return 536870912&this.fg}isInvisible(){return 1073741824&this.fg}isItalic(){return 67108864&this.bg}isDim(){return 134217728&this.bg}isStrikethrough(){return 2147483648&this.fg}isProtected(){return 536870912&this.bg}isOverline(){return 1073741824&this.bg}getFgColorMode(){return 50331648&this.fg}getBgColorMode(){return 50331648&this.bg}isFgRGB(){return(50331648&this.fg)==50331648}isBgRGB(){return(50331648&this.bg)==50331648}isFgPalette(){return(50331648&this.fg)==16777216||(50331648&this.fg)==33554432}isBgPalette(){return(50331648&this.bg)==16777216||(50331648&this.bg)==33554432}isFgDefault(){return(50331648&this.fg)==0}isBgDefault(){return(50331648&this.bg)==0}isAttributeDefault(){return this.fg===0&&this.bg===0}getFgColor(){switch(50331648&this.fg){case 16777216:case 33554432:return 255&this.fg;case 50331648:return 16777215&this.fg;default:return-1}}getBgColor(){switch(50331648&this.bg){case 16777216:case 33554432:return 255&this.bg;case 50331648:return 16777215&this.bg;default:return-1}}hasExtendedAttrs(){return 268435456&this.bg}updateExtended(){this.extended.isEmpty()?this.bg&=-268435457:this.bg|=268435456}getUnderlineColor(){if(268435456&this.bg&&~this.extended.underlineColor)switch(50331648&this.extended.underlineColor){case 16777216:case 33554432:return 255&this.extended.underlineColor;case 50331648:return 16777215&this.extended.underlineColor;default:return this.getFgColor()}return this.getFgColor()}getUnderlineColorMode(){return 268435456&this.bg&&~this.extended.underlineColor?50331648&this.extended.underlineColor:this.getFgColorMode()}isUnderlineColorRGB(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==50331648:this.isFgRGB()}isUnderlineColorPalette(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==16777216||(50331648&this.extended.underlineColor)==33554432:this.isFgPalette()}isUnderlineColorDefault(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==0:this.isFgDefault()}getUnderlineStyle(){return 268435456&this.fg?268435456&this.bg?this.extended.underlineStyle:1:0}getUnderlineVariantOffset(){return this.extended.underlineVariantOffset}}o.AttributeData=l;class h{get ext(){return this._urlId?-469762049&this._ext|this.underlineStyle<<26:this._ext}set ext(p){this._ext=p}get underlineStyle(){return this._urlId?5:(469762048&this._ext)>>26}set underlineStyle(p){this._ext&=-469762049,this._ext|=p<<26&469762048}get underlineColor(){return 67108863&this._ext}set underlineColor(p){this._ext&=-67108864,this._ext|=67108863&p}get urlId(){return this._urlId}set urlId(p){this._urlId=p}get underlineVariantOffset(){const p=(3758096384&this._ext)>>29;return p<0?4294967288^p:p}set underlineVariantOffset(p){this._ext&=536870911,this._ext|=p<<29&3758096384}constructor(p=0,m=0){this._ext=0,this._urlId=0,this._ext=p,this._urlId=m}clone(){return new h(this._ext,this._urlId)}isEmpty(){return this.underlineStyle===0&&this._urlId===0}}o.ExtendedAttrs=h},9092:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.Buffer=o.MAX_BUFFER_SIZE=void 0;const h=l(6349),g=l(7226),p=l(3734),m=l(8437),w=l(4634),C=l(511),y=l(643),v=l(4863),f=l(7116);o.MAX_BUFFER_SIZE=4294967295,o.Buffer=class{constructor(u,d,_){this._hasScrollback=u,this._optionsService=d,this._bufferService=_,this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.tabs={},this.savedY=0,this.savedX=0,this.savedCurAttrData=m.DEFAULT_ATTR_DATA.clone(),this.savedCharset=f.DEFAULT_CHARSET,this.markers=[],this._nullCell=C.CellData.fromCharData([0,y.NULL_CELL_CHAR,y.NULL_CELL_WIDTH,y.NULL_CELL_CODE]),this._whitespaceCell=C.CellData.fromCharData([0,y.WHITESPACE_CELL_CHAR,y.WHITESPACE_CELL_WIDTH,y.WHITESPACE_CELL_CODE]),this._isClearing=!1,this._memoryCleanupQueue=new g.IdleTaskQueue,this._memoryCleanupPosition=0,this._cols=this._bufferService.cols,this._rows=this._bufferService.rows,this.lines=new h.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}getNullCell(u){return u?(this._nullCell.fg=u.fg,this._nullCell.bg=u.bg,this._nullCell.extended=u.extended):(this._nullCell.fg=0,this._nullCell.bg=0,this._nullCell.extended=new p.ExtendedAttrs),this._nullCell}getWhitespaceCell(u){return u?(this._whitespaceCell.fg=u.fg,this._whitespaceCell.bg=u.bg,this._whitespaceCell.extended=u.extended):(this._whitespaceCell.fg=0,this._whitespaceCell.bg=0,this._whitespaceCell.extended=new p.ExtendedAttrs),this._whitespaceCell}getBlankLine(u,d){return new m.BufferLine(this._bufferService.cols,this.getNullCell(u),d)}get hasScrollback(){return this._hasScrollback&&this.lines.maxLength>this._rows}get isCursorInViewport(){const u=this.ybase+this.y-this.ydisp;return u>=0&&u<this._rows}_getCorrectBufferLength(u){if(!this._hasScrollback)return u;const d=u+this._optionsService.rawOptions.scrollback;return d>o.MAX_BUFFER_SIZE?o.MAX_BUFFER_SIZE:d}fillViewportRows(u){if(this.lines.length===0){u===void 0&&(u=m.DEFAULT_ATTR_DATA);let d=this._rows;for(;d--;)this.lines.push(this.getBlankLine(u))}}clear(){this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.lines=new h.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}resize(u,d){const _=this.getNullCell(m.DEFAULT_ATTR_DATA);let R=0;const E=this._getCorrectBufferLength(d);if(E>this.lines.maxLength&&(this.lines.maxLength=E),this.lines.length>0){if(this._cols<u)for(let b=0;b<this.lines.length;b++)R+=+this.lines.get(b).resize(u,_);let L=0;if(this._rows<d)for(let b=this._rows;b<d;b++)this.lines.length<d+this.ybase&&(this._optionsService.rawOptions.windowsMode||this._optionsService.rawOptions.windowsPty.backend!==void 0||this._optionsService.rawOptions.windowsPty.buildNumber!==void 0?this.lines.push(new m.BufferLine(u,_)):this.ybase>0&&this.lines.length<=this.ybase+this.y+L+1?(this.ybase--,L++,this.ydisp>0&&this.ydisp--):this.lines.push(new m.BufferLine(u,_)));else for(let b=this._rows;b>d;b--)this.lines.length>d+this.ybase&&(this.lines.length>this.ybase+this.y+1?this.lines.pop():(this.ybase++,this.ydisp++));if(E<this.lines.maxLength){const b=this.lines.length-E;b>0&&(this.lines.trimStart(b),this.ybase=Math.max(this.ybase-b,0),this.ydisp=Math.max(this.ydisp-b,0),this.savedY=Math.max(this.savedY-b,0)),this.lines.maxLength=E}this.x=Math.min(this.x,u-1),this.y=Math.min(this.y,d-1),L&&(this.y+=L),this.savedX=Math.min(this.savedX,u-1),this.scrollTop=0}if(this.scrollBottom=d-1,this._isReflowEnabled&&(this._reflow(u,d),this._cols>u))for(let L=0;L<this.lines.length;L++)R+=+this.lines.get(L).resize(u,_);this._cols=u,this._rows=d,this._memoryCleanupQueue.clear(),R>.1*this.lines.length&&(this._memoryCleanupPosition=0,this._memoryCleanupQueue.enqueue(()=>this._batchedMemoryCleanup()))}_batchedMemoryCleanup(){let u=!0;this._memoryCleanupPosition>=this.lines.length&&(this._memoryCleanupPosition=0,u=!1);let d=0;for(;this._memoryCleanupPosition<this.lines.length;)if(d+=this.lines.get(this._memoryCleanupPosition++).cleanupMemory(),d>100)return!0;return u}get _isReflowEnabled(){const u=this._optionsService.rawOptions.windowsPty;return u&&u.buildNumber?this._hasScrollback&&u.backend==="conpty"&&u.buildNumber>=21376:this._hasScrollback&&!this._optionsService.rawOptions.windowsMode}_reflow(u,d){this._cols!==u&&(u>this._cols?this._reflowLarger(u,d):this._reflowSmaller(u,d))}_reflowLarger(u,d){const _=(0,w.reflowLargerGetLinesToRemove)(this.lines,this._cols,u,this.ybase+this.y,this.getNullCell(m.DEFAULT_ATTR_DATA));if(_.length>0){const R=(0,w.reflowLargerCreateNewLayout)(this.lines,_);(0,w.reflowLargerApplyNewLayout)(this.lines,R.layout),this._reflowLargerAdjustViewport(u,d,R.countRemoved)}}_reflowLargerAdjustViewport(u,d,_){const R=this.getNullCell(m.DEFAULT_ATTR_DATA);let E=_;for(;E-- >0;)this.ybase===0?(this.y>0&&this.y--,this.lines.length<d&&this.lines.push(new m.BufferLine(u,R))):(this.ydisp===this.ybase&&this.ydisp--,this.ybase--);this.savedY=Math.max(this.savedY-_,0)}_reflowSmaller(u,d){const _=this.getNullCell(m.DEFAULT_ATTR_DATA),R=[];let E=0;for(let L=this.lines.length-1;L>=0;L--){let b=this.lines.get(L);if(!b||!b.isWrapped&&b.getTrimmedLength()<=u)continue;const I=[b];for(;b.isWrapped&&L>0;)b=this.lines.get(--L),I.unshift(b);const U=this.ybase+this.y;if(U>=L&&U<L+I.length)continue;const W=I[I.length-1].getTrimmedLength(),Y=(0,w.reflowSmallerGetNewLineLengths)(I,this._cols,u),B=Y.length-I.length;let $;$=this.ybase===0&&this.y!==this.lines.length-1?Math.max(0,this.y-this.lines.maxLength+B):Math.max(0,this.lines.length-this.lines.maxLength+B);const N=[];for(let O=0;O<B;O++){const j=this.getBlankLine(m.DEFAULT_ATTR_DATA,!0);N.push(j)}N.length>0&&(R.push({start:L+I.length+E,newLines:N}),E+=N.length),I.push(...N);let z=Y.length-1,Q=Y[z];Q===0&&(z--,Q=Y[z]);let V=I.length-B-1,M=W;for(;V>=0;){const O=Math.min(M,Q);if(I[z]===void 0)break;if(I[z].copyCellsFrom(I[V],M-O,Q-O,O,!0),Q-=O,Q===0&&(z--,Q=Y[z]),M-=O,M===0){V--;const j=Math.max(V,0);M=(0,w.getWrappedLineTrimmedLength)(I,j,this._cols)}}for(let O=0;O<I.length;O++)Y[O]<u&&I[O].setCell(Y[O],_);let P=B-$;for(;P-- >0;)this.ybase===0?this.y<d-1?(this.y++,this.lines.pop()):(this.ybase++,this.ydisp++):this.ybase<Math.min(this.lines.maxLength,this.lines.length+E)-d&&(this.ybase===this.ydisp&&this.ydisp++,this.ybase++);this.savedY=Math.min(this.savedY+B,this.ybase+d-1)}if(R.length>0){const L=[],b=[];for(let z=0;z<this.lines.length;z++)b.push(this.lines.get(z));const I=this.lines.length;let U=I-1,W=0,Y=R[W];this.lines.length=Math.min(this.lines.maxLength,this.lines.length+E);let B=0;for(let z=Math.min(this.lines.maxLength-1,I+E-1);z>=0;z--)if(Y&&Y.start>U+B){for(let Q=Y.newLines.length-1;Q>=0;Q--)this.lines.set(z--,Y.newLines[Q]);z++,L.push({index:U+1,amount:Y.newLines.length}),B+=Y.newLines.length,Y=R[++W]}else this.lines.set(z,b[U--]);let $=0;for(let z=L.length-1;z>=0;z--)L[z].index+=$,this.lines.onInsertEmitter.fire(L[z]),$+=L[z].amount;const N=Math.max(0,I+E-this.lines.maxLength);N>0&&this.lines.onTrimEmitter.fire(N)}}translateBufferLineToString(u,d,_=0,R){const E=this.lines.get(u);return E?E.translateToString(d,_,R):""}getWrappedRangeForLine(u){let d=u,_=u;for(;d>0&&this.lines.get(d).isWrapped;)d--;for(;_+1<this.lines.length&&this.lines.get(_+1).isWrapped;)_++;return{first:d,last:_}}setupTabStops(u){for(u!=null?this.tabs[u]||(u=this.prevStop(u)):(this.tabs={},u=0);u<this._cols;u+=this._optionsService.rawOptions.tabStopWidth)this.tabs[u]=!0}prevStop(u){for(u==null&&(u=this.x);!this.tabs[--u]&&u>0;);return u>=this._cols?this._cols-1:u<0?0:u}nextStop(u){for(u==null&&(u=this.x);!this.tabs[++u]&&u<this._cols;);return u>=this._cols?this._cols-1:u<0?0:u}clearMarkers(u){this._isClearing=!0;for(let d=0;d<this.markers.length;d++)this.markers[d].line===u&&(this.markers[d].dispose(),this.markers.splice(d--,1));this._isClearing=!1}clearAllMarkers(){this._isClearing=!0;for(let u=0;u<this.markers.length;u++)this.markers[u].dispose(),this.markers.splice(u--,1);this._isClearing=!1}addMarker(u){const d=new v.Marker(u);return this.markers.push(d),d.register(this.lines.onTrim(_=>{d.line-=_,d.line<0&&d.dispose()})),d.register(this.lines.onInsert(_=>{d.line>=_.index&&(d.line+=_.amount)})),d.register(this.lines.onDelete(_=>{d.line>=_.index&&d.line<_.index+_.amount&&d.dispose(),d.line>_.index&&(d.line-=_.amount)})),d.register(d.onDispose(()=>this._removeMarker(d))),d}_removeMarker(u){this._isClearing||this.markers.splice(this.markers.indexOf(u),1)}}},8437:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.BufferLine=o.DEFAULT_ATTR_DATA=void 0;const h=l(3734),g=l(511),p=l(643),m=l(482);o.DEFAULT_ATTR_DATA=Object.freeze(new h.AttributeData);let w=0;class C{constructor(v,f,u=!1){this.isWrapped=u,this._combined={},this._extendedAttrs={},this._data=new Uint32Array(3*v);const d=f||g.CellData.fromCharData([0,p.NULL_CELL_CHAR,p.NULL_CELL_WIDTH,p.NULL_CELL_CODE]);for(let _=0;_<v;++_)this.setCell(_,d);this.length=v}get(v){const f=this._data[3*v+0],u=2097151&f;return[this._data[3*v+1],2097152&f?this._combined[v]:u?(0,m.stringFromCodePoint)(u):"",f>>22,2097152&f?this._combined[v].charCodeAt(this._combined[v].length-1):u]}set(v,f){this._data[3*v+1]=f[p.CHAR_DATA_ATTR_INDEX],f[p.CHAR_DATA_CHAR_INDEX].length>1?(this._combined[v]=f[1],this._data[3*v+0]=2097152|v|f[p.CHAR_DATA_WIDTH_INDEX]<<22):this._data[3*v+0]=f[p.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|f[p.CHAR_DATA_WIDTH_INDEX]<<22}getWidth(v){return this._data[3*v+0]>>22}hasWidth(v){return 12582912&this._data[3*v+0]}getFg(v){return this._data[3*v+1]}getBg(v){return this._data[3*v+2]}hasContent(v){return 4194303&this._data[3*v+0]}getCodePoint(v){const f=this._data[3*v+0];return 2097152&f?this._combined[v].charCodeAt(this._combined[v].length-1):2097151&f}isCombined(v){return 2097152&this._data[3*v+0]}getString(v){const f=this._data[3*v+0];return 2097152&f?this._combined[v]:2097151&f?(0,m.stringFromCodePoint)(2097151&f):""}isProtected(v){return 536870912&this._data[3*v+2]}loadCell(v,f){return w=3*v,f.content=this._data[w+0],f.fg=this._data[w+1],f.bg=this._data[w+2],2097152&f.content&&(f.combinedData=this._combined[v]),268435456&f.bg&&(f.extended=this._extendedAttrs[v]),f}setCell(v,f){2097152&f.content&&(this._combined[v]=f.combinedData),268435456&f.bg&&(this._extendedAttrs[v]=f.extended),this._data[3*v+0]=f.content,this._data[3*v+1]=f.fg,this._data[3*v+2]=f.bg}setCellFromCodepoint(v,f,u,d){268435456&d.bg&&(this._extendedAttrs[v]=d.extended),this._data[3*v+0]=f|u<<22,this._data[3*v+1]=d.fg,this._data[3*v+2]=d.bg}addCodepointToCell(v,f,u){let d=this._data[3*v+0];2097152&d?this._combined[v]+=(0,m.stringFromCodePoint)(f):2097151&d?(this._combined[v]=(0,m.stringFromCodePoint)(2097151&d)+(0,m.stringFromCodePoint)(f),d&=-2097152,d|=2097152):d=f|4194304,u&&(d&=-12582913,d|=u<<22),this._data[3*v+0]=d}insertCells(v,f,u){if((v%=this.length)&&this.getWidth(v-1)===2&&this.setCellFromCodepoint(v-1,0,1,u),f<this.length-v){const d=new g.CellData;for(let _=this.length-v-f-1;_>=0;--_)this.setCell(v+f+_,this.loadCell(v+_,d));for(let _=0;_<f;++_)this.setCell(v+_,u)}else for(let d=v;d<this.length;++d)this.setCell(d,u);this.getWidth(this.length-1)===2&&this.setCellFromCodepoint(this.length-1,0,1,u)}deleteCells(v,f,u){if(v%=this.length,f<this.length-v){const d=new g.CellData;for(let _=0;_<this.length-v-f;++_)this.setCell(v+_,this.loadCell(v+f+_,d));for(let _=this.length-f;_<this.length;++_)this.setCell(_,u)}else for(let d=v;d<this.length;++d)this.setCell(d,u);v&&this.getWidth(v-1)===2&&this.setCellFromCodepoint(v-1,0,1,u),this.getWidth(v)!==0||this.hasContent(v)||this.setCellFromCodepoint(v,0,1,u)}replaceCells(v,f,u,d=!1){if(d)for(v&&this.getWidth(v-1)===2&&!this.isProtected(v-1)&&this.setCellFromCodepoint(v-1,0,1,u),f<this.length&&this.getWidth(f-1)===2&&!this.isProtected(f)&&this.setCellFromCodepoint(f,0,1,u);v<f&&v<this.length;)this.isProtected(v)||this.setCell(v,u),v++;else for(v&&this.getWidth(v-1)===2&&this.setCellFromCodepoint(v-1,0,1,u),f<this.length&&this.getWidth(f-1)===2&&this.setCellFromCodepoint(f,0,1,u);v<f&&v<this.length;)this.setCell(v++,u)}resize(v,f){if(v===this.length)return 4*this._data.length*2<this._data.buffer.byteLength;const u=3*v;if(v>this.length){if(this._data.buffer.byteLength>=4*u)this._data=new Uint32Array(this._data.buffer,0,u);else{const d=new Uint32Array(u);d.set(this._data),this._data=d}for(let d=this.length;d<v;++d)this.setCell(d,f)}else{this._data=this._data.subarray(0,u);const d=Object.keys(this._combined);for(let R=0;R<d.length;R++){const E=parseInt(d[R],10);E>=v&&delete this._combined[E]}const _=Object.keys(this._extendedAttrs);for(let R=0;R<_.length;R++){const E=parseInt(_[R],10);E>=v&&delete this._extendedAttrs[E]}}return this.length=v,4*u*2<this._data.buffer.byteLength}cleanupMemory(){if(4*this._data.length*2<this._data.buffer.byteLength){const v=new Uint32Array(this._data.length);return v.set(this._data),this._data=v,1}return 0}fill(v,f=!1){if(f)for(let u=0;u<this.length;++u)this.isProtected(u)||this.setCell(u,v);else{this._combined={},this._extendedAttrs={};for(let u=0;u<this.length;++u)this.setCell(u,v)}}copyFrom(v){this.length!==v.length?this._data=new Uint32Array(v._data):this._data.set(v._data),this.length=v.length,this._combined={};for(const f in v._combined)this._combined[f]=v._combined[f];this._extendedAttrs={};for(const f in v._extendedAttrs)this._extendedAttrs[f]=v._extendedAttrs[f];this.isWrapped=v.isWrapped}clone(){const v=new C(0);v._data=new Uint32Array(this._data),v.length=this.length;for(const f in this._combined)v._combined[f]=this._combined[f];for(const f in this._extendedAttrs)v._extendedAttrs[f]=this._extendedAttrs[f];return v.isWrapped=this.isWrapped,v}getTrimmedLength(){for(let v=this.length-1;v>=0;--v)if(4194303&this._data[3*v+0])return v+(this._data[3*v+0]>>22);return 0}getNoBgTrimmedLength(){for(let v=this.length-1;v>=0;--v)if(4194303&this._data[3*v+0]||50331648&this._data[3*v+2])return v+(this._data[3*v+0]>>22);return 0}copyCellsFrom(v,f,u,d,_){const R=v._data;if(_)for(let L=d-1;L>=0;L--){for(let b=0;b<3;b++)this._data[3*(u+L)+b]=R[3*(f+L)+b];268435456&R[3*(f+L)+2]&&(this._extendedAttrs[u+L]=v._extendedAttrs[f+L])}else for(let L=0;L<d;L++){for(let b=0;b<3;b++)this._data[3*(u+L)+b]=R[3*(f+L)+b];268435456&R[3*(f+L)+2]&&(this._extendedAttrs[u+L]=v._extendedAttrs[f+L])}const E=Object.keys(v._combined);for(let L=0;L<E.length;L++){const b=parseInt(E[L],10);b>=f&&(this._combined[b-f+u]=v._combined[b])}}translateToString(v,f,u,d){f=f??0,u=u??this.length,v&&(u=Math.min(u,this.getTrimmedLength())),d&&(d.length=0);let _="";for(;f<u;){const R=this._data[3*f+0],E=2097151&R,L=2097152&R?this._combined[f]:E?(0,m.stringFromCodePoint)(E):p.WHITESPACE_CELL_CHAR;if(_+=L,d)for(let b=0;b<L.length;++b)d.push(f);f+=R>>22||1}return d&&d.push(f),_}}o.BufferLine=C},4841:(a,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.getRangeLength=void 0,o.getRangeLength=function(l,h){if(l.start.y>l.end.y)throw new Error(`Buffer range end (${l.end.x}, ${l.end.y}) cannot be before start (${l.start.x}, ${l.start.y})`);return h*(l.end.y-l.start.y)+(l.end.x-l.start.x+1)}},4634:(a,o)=>{function l(h,g,p){if(g===h.length-1)return h[g].getTrimmedLength();const m=!h[g].hasContent(p-1)&&h[g].getWidth(p-1)===1,w=h[g+1].getWidth(0)===2;return m&&w?p-1:p}Object.defineProperty(o,"__esModule",{value:!0}),o.getWrappedLineTrimmedLength=o.reflowSmallerGetNewLineLengths=o.reflowLargerApplyNewLayout=o.reflowLargerCreateNewLayout=o.reflowLargerGetLinesToRemove=void 0,o.reflowLargerGetLinesToRemove=function(h,g,p,m,w){const C=[];for(let y=0;y<h.length-1;y++){let v=y,f=h.get(++v);if(!f.isWrapped)continue;const u=[h.get(y)];for(;v<h.length&&f.isWrapped;)u.push(f),f=h.get(++v);if(m>=y&&m<v){y+=u.length-1;continue}let d=0,_=l(u,d,g),R=1,E=0;for(;R<u.length;){const b=l(u,R,g),I=b-E,U=p-_,W=Math.min(I,U);u[d].copyCellsFrom(u[R],E,_,W,!1),_+=W,_===p&&(d++,_=0),E+=W,E===b&&(R++,E=0),_===0&&d!==0&&u[d-1].getWidth(p-1)===2&&(u[d].copyCellsFrom(u[d-1],p-1,_++,1,!1),u[d-1].setCell(p-1,w))}u[d].replaceCells(_,p,w);let L=0;for(let b=u.length-1;b>0&&(b>d||u[b].getTrimmedLength()===0);b--)L++;L>0&&(C.push(y+u.length-L),C.push(L)),y+=u.length-1}return C},o.reflowLargerCreateNewLayout=function(h,g){const p=[];let m=0,w=g[m],C=0;for(let y=0;y<h.length;y++)if(w===y){const v=g[++m];h.onDeleteEmitter.fire({index:y-C,amount:v}),y+=v-1,C+=v,w=g[++m]}else p.push(y);return{layout:p,countRemoved:C}},o.reflowLargerApplyNewLayout=function(h,g){const p=[];for(let m=0;m<g.length;m++)p.push(h.get(g[m]));for(let m=0;m<p.length;m++)h.set(m,p[m]);h.length=g.length},o.reflowSmallerGetNewLineLengths=function(h,g,p){const m=[],w=h.map((f,u)=>l(h,u,g)).reduce((f,u)=>f+u);let C=0,y=0,v=0;for(;v<w;){if(w-v<p){m.push(w-v);break}C+=p;const f=l(h,y,g);C>f&&(C-=f,y++);const u=h[y].getWidth(C-1)===2;u&&C--;const d=u?p-1:p;m.push(d),v+=d}return m},o.getWrappedLineTrimmedLength=l},5295:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.BufferSet=void 0;const h=l(8460),g=l(844),p=l(9092);class m extends g.Disposable{constructor(C,y){super(),this._optionsService=C,this._bufferService=y,this._onBufferActivate=this.register(new h.EventEmitter),this.onBufferActivate=this._onBufferActivate.event,this.reset(),this.register(this._optionsService.onSpecificOptionChange("scrollback",()=>this.resize(this._bufferService.cols,this._bufferService.rows))),this.register(this._optionsService.onSpecificOptionChange("tabStopWidth",()=>this.setupTabStops()))}reset(){this._normal=new p.Buffer(!0,this._optionsService,this._bufferService),this._normal.fillViewportRows(),this._alt=new p.Buffer(!1,this._optionsService,this._bufferService),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}),this.setupTabStops()}get alt(){return this._alt}get active(){return this._activeBuffer}get normal(){return this._normal}activateNormalBuffer(){this._activeBuffer!==this._normal&&(this._normal.x=this._alt.x,this._normal.y=this._alt.y,this._alt.clearAllMarkers(),this._alt.clear(),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}))}activateAltBuffer(C){this._activeBuffer!==this._alt&&(this._alt.fillViewportRows(C),this._alt.x=this._normal.x,this._alt.y=this._normal.y,this._activeBuffer=this._alt,this._onBufferActivate.fire({activeBuffer:this._alt,inactiveBuffer:this._normal}))}resize(C,y){this._normal.resize(C,y),this._alt.resize(C,y),this.setupTabStops(C)}setupTabStops(C){this._normal.setupTabStops(C),this._alt.setupTabStops(C)}}o.BufferSet=m},511:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.CellData=void 0;const h=l(482),g=l(643),p=l(3734);class m extends p.AttributeData{constructor(){super(...arguments),this.content=0,this.fg=0,this.bg=0,this.extended=new p.ExtendedAttrs,this.combinedData=""}static fromCharData(C){const y=new m;return y.setFromCharData(C),y}isCombined(){return 2097152&this.content}getWidth(){return this.content>>22}getChars(){return 2097152&this.content?this.combinedData:2097151&this.content?(0,h.stringFromCodePoint)(2097151&this.content):""}getCode(){return this.isCombined()?this.combinedData.charCodeAt(this.combinedData.length-1):2097151&this.content}setFromCharData(C){this.fg=C[g.CHAR_DATA_ATTR_INDEX],this.bg=0;let y=!1;if(C[g.CHAR_DATA_CHAR_INDEX].length>2)y=!0;else if(C[g.CHAR_DATA_CHAR_INDEX].length===2){const v=C[g.CHAR_DATA_CHAR_INDEX].charCodeAt(0);if(55296<=v&&v<=56319){const f=C[g.CHAR_DATA_CHAR_INDEX].charCodeAt(1);56320<=f&&f<=57343?this.content=1024*(v-55296)+f-56320+65536|C[g.CHAR_DATA_WIDTH_INDEX]<<22:y=!0}else y=!0}else this.content=C[g.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|C[g.CHAR_DATA_WIDTH_INDEX]<<22;y&&(this.combinedData=C[g.CHAR_DATA_CHAR_INDEX],this.content=2097152|C[g.CHAR_DATA_WIDTH_INDEX]<<22)}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}o.CellData=m},643:(a,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.WHITESPACE_CELL_CODE=o.WHITESPACE_CELL_WIDTH=o.WHITESPACE_CELL_CHAR=o.NULL_CELL_CODE=o.NULL_CELL_WIDTH=o.NULL_CELL_CHAR=o.CHAR_DATA_CODE_INDEX=o.CHAR_DATA_WIDTH_INDEX=o.CHAR_DATA_CHAR_INDEX=o.CHAR_DATA_ATTR_INDEX=o.DEFAULT_EXT=o.DEFAULT_ATTR=o.DEFAULT_COLOR=void 0,o.DEFAULT_COLOR=0,o.DEFAULT_ATTR=256|o.DEFAULT_COLOR<<9,o.DEFAULT_EXT=0,o.CHAR_DATA_ATTR_INDEX=0,o.CHAR_DATA_CHAR_INDEX=1,o.CHAR_DATA_WIDTH_INDEX=2,o.CHAR_DATA_CODE_INDEX=3,o.NULL_CELL_CHAR="",o.NULL_CELL_WIDTH=1,o.NULL_CELL_CODE=0,o.WHITESPACE_CELL_CHAR=" ",o.WHITESPACE_CELL_WIDTH=1,o.WHITESPACE_CELL_CODE=32},4863:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.Marker=void 0;const h=l(8460),g=l(844);class p{get id(){return this._id}constructor(w){this.line=w,this.isDisposed=!1,this._disposables=[],this._id=p._nextId++,this._onDispose=this.register(new h.EventEmitter),this.onDispose=this._onDispose.event}dispose(){this.isDisposed||(this.isDisposed=!0,this.line=-1,this._onDispose.fire(),(0,g.disposeArray)(this._disposables),this._disposables.length=0)}register(w){return this._disposables.push(w),w}}o.Marker=p,p._nextId=1},7116:(a,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.DEFAULT_CHARSET=o.CHARSETS=void 0,o.CHARSETS={},o.DEFAULT_CHARSET=o.CHARSETS.B,o.CHARSETS[0]={"`":"",a:"",b:"",c:"",d:"",e:"",f:"",g:"",h:"",i:"",j:"",k:"",l:"",m:"",n:"",o:"",p:"",q:"",r:"",s:"",t:"",u:"",v:"",w:"",x:"",y:"",z:"","{":"","|":"","}":"","~":""},o.CHARSETS.A={"#":""},o.CHARSETS.B=void 0,o.CHARSETS[4]={"#":"","@":"","[":"ij","\\":"","]":"|","{":"","|":"f","}":"","~":""},o.CHARSETS.C=o.CHARSETS[5]={"[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},o.CHARSETS.R={"#":"","@":"","[":"","\\":"","]":"","{":"","|":"","}":"","~":""},o.CHARSETS.Q={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},o.CHARSETS.K={"@":"","[":"","\\":"","]":"","{":"","|":"","}":"","~":""},o.CHARSETS.Y={"#":"","@":"","[":"","\\":"","]":"","`":"","{":"","|":"","}":"","~":""},o.CHARSETS.E=o.CHARSETS[6]={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},o.CHARSETS.Z={"#":"","@":"","[":"","\\":"","]":"","{":"","|":"","}":""},o.CHARSETS.H=o.CHARSETS[7]={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},o.CHARSETS["="]={"#":"","@":"","[":"","\\":"","]":"","^":"",_:"","`":"","{":"","|":"","}":"","~":""}},2584:(a,o)=>{var l,h,g;Object.defineProperty(o,"__esModule",{value:!0}),o.C1_ESCAPED=o.C1=o.C0=void 0,function(p){p.NUL="\0",p.SOH="",p.STX="",p.ETX="",p.EOT="",p.ENQ="",p.ACK="",p.BEL="\x07",p.BS="\b",p.HT="	",p.LF=`
`,p.VT="\v",p.FF="\f",p.CR="\r",p.SO="",p.SI="",p.DLE="",p.DC1="",p.DC2="",p.DC3="",p.DC4="",p.NAK="",p.SYN="",p.ETB="",p.CAN="",p.EM="",p.SUB="",p.ESC="\x1B",p.FS="",p.GS="",p.RS="",p.US="",p.SP=" ",p.DEL=""}(l||(o.C0=l={})),function(p){p.PAD="",p.HOP="",p.BPH="",p.NBH="",p.IND="",p.NEL="",p.SSA="",p.ESA="",p.HTS="",p.HTJ="",p.VTS="",p.PLD="",p.PLU="",p.RI="",p.SS2="",p.SS3="",p.DCS="",p.PU1="",p.PU2="",p.STS="",p.CCH="",p.MW="",p.SPA="",p.EPA="",p.SOS="",p.SGCI="",p.SCI="",p.CSI="",p.ST="",p.OSC="",p.PM="",p.APC=""}(h||(o.C1=h={})),function(p){p.ST=`${l.ESC}\\`}(g||(o.C1_ESCAPED=g={}))},7399:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.evaluateKeyboardEvent=void 0;const h=l(2584),g={48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"']};o.evaluateKeyboardEvent=function(p,m,w,C){const y={type:0,cancel:!1,key:void 0},v=(p.shiftKey?1:0)|(p.altKey?2:0)|(p.ctrlKey?4:0)|(p.metaKey?8:0);switch(p.keyCode){case 0:p.key==="UIKeyInputUpArrow"?y.key=m?h.C0.ESC+"OA":h.C0.ESC+"[A":p.key==="UIKeyInputLeftArrow"?y.key=m?h.C0.ESC+"OD":h.C0.ESC+"[D":p.key==="UIKeyInputRightArrow"?y.key=m?h.C0.ESC+"OC":h.C0.ESC+"[C":p.key==="UIKeyInputDownArrow"&&(y.key=m?h.C0.ESC+"OB":h.C0.ESC+"[B");break;case 8:y.key=p.ctrlKey?"\b":h.C0.DEL,p.altKey&&(y.key=h.C0.ESC+y.key);break;case 9:if(p.shiftKey){y.key=h.C0.ESC+"[Z";break}y.key=h.C0.HT,y.cancel=!0;break;case 13:y.key=p.altKey?h.C0.ESC+h.C0.CR:h.C0.CR,y.cancel=!0;break;case 27:y.key=h.C0.ESC,p.altKey&&(y.key=h.C0.ESC+h.C0.ESC),y.cancel=!0;break;case 37:if(p.metaKey)break;v?(y.key=h.C0.ESC+"[1;"+(v+1)+"D",y.key===h.C0.ESC+"[1;3D"&&(y.key=h.C0.ESC+(w?"b":"[1;5D"))):y.key=m?h.C0.ESC+"OD":h.C0.ESC+"[D";break;case 39:if(p.metaKey)break;v?(y.key=h.C0.ESC+"[1;"+(v+1)+"C",y.key===h.C0.ESC+"[1;3C"&&(y.key=h.C0.ESC+(w?"f":"[1;5C"))):y.key=m?h.C0.ESC+"OC":h.C0.ESC+"[C";break;case 38:if(p.metaKey)break;v?(y.key=h.C0.ESC+"[1;"+(v+1)+"A",w||y.key!==h.C0.ESC+"[1;3A"||(y.key=h.C0.ESC+"[1;5A")):y.key=m?h.C0.ESC+"OA":h.C0.ESC+"[A";break;case 40:if(p.metaKey)break;v?(y.key=h.C0.ESC+"[1;"+(v+1)+"B",w||y.key!==h.C0.ESC+"[1;3B"||(y.key=h.C0.ESC+"[1;5B")):y.key=m?h.C0.ESC+"OB":h.C0.ESC+"[B";break;case 45:p.shiftKey||p.ctrlKey||(y.key=h.C0.ESC+"[2~");break;case 46:y.key=v?h.C0.ESC+"[3;"+(v+1)+"~":h.C0.ESC+"[3~";break;case 36:y.key=v?h.C0.ESC+"[1;"+(v+1)+"H":m?h.C0.ESC+"OH":h.C0.ESC+"[H";break;case 35:y.key=v?h.C0.ESC+"[1;"+(v+1)+"F":m?h.C0.ESC+"OF":h.C0.ESC+"[F";break;case 33:p.shiftKey?y.type=2:p.ctrlKey?y.key=h.C0.ESC+"[5;"+(v+1)+"~":y.key=h.C0.ESC+"[5~";break;case 34:p.shiftKey?y.type=3:p.ctrlKey?y.key=h.C0.ESC+"[6;"+(v+1)+"~":y.key=h.C0.ESC+"[6~";break;case 112:y.key=v?h.C0.ESC+"[1;"+(v+1)+"P":h.C0.ESC+"OP";break;case 113:y.key=v?h.C0.ESC+"[1;"+(v+1)+"Q":h.C0.ESC+"OQ";break;case 114:y.key=v?h.C0.ESC+"[1;"+(v+1)+"R":h.C0.ESC+"OR";break;case 115:y.key=v?h.C0.ESC+"[1;"+(v+1)+"S":h.C0.ESC+"OS";break;case 116:y.key=v?h.C0.ESC+"[15;"+(v+1)+"~":h.C0.ESC+"[15~";break;case 117:y.key=v?h.C0.ESC+"[17;"+(v+1)+"~":h.C0.ESC+"[17~";break;case 118:y.key=v?h.C0.ESC+"[18;"+(v+1)+"~":h.C0.ESC+"[18~";break;case 119:y.key=v?h.C0.ESC+"[19;"+(v+1)+"~":h.C0.ESC+"[19~";break;case 120:y.key=v?h.C0.ESC+"[20;"+(v+1)+"~":h.C0.ESC+"[20~";break;case 121:y.key=v?h.C0.ESC+"[21;"+(v+1)+"~":h.C0.ESC+"[21~";break;case 122:y.key=v?h.C0.ESC+"[23;"+(v+1)+"~":h.C0.ESC+"[23~";break;case 123:y.key=v?h.C0.ESC+"[24;"+(v+1)+"~":h.C0.ESC+"[24~";break;default:if(!p.ctrlKey||p.shiftKey||p.altKey||p.metaKey)if(w&&!C||!p.altKey||p.metaKey)!w||p.altKey||p.ctrlKey||p.shiftKey||!p.metaKey?p.key&&!p.ctrlKey&&!p.altKey&&!p.metaKey&&p.keyCode>=48&&p.key.length===1?y.key=p.key:p.key&&p.ctrlKey&&(p.key==="_"&&(y.key=h.C0.US),p.key==="@"&&(y.key=h.C0.NUL)):p.keyCode===65&&(y.type=1);else{const f=g[p.keyCode],u=f?.[p.shiftKey?1:0];if(u)y.key=h.C0.ESC+u;else if(p.keyCode>=65&&p.keyCode<=90){const d=p.ctrlKey?p.keyCode-64:p.keyCode+32;let _=String.fromCharCode(d);p.shiftKey&&(_=_.toUpperCase()),y.key=h.C0.ESC+_}else if(p.keyCode===32)y.key=h.C0.ESC+(p.ctrlKey?h.C0.NUL:" ");else if(p.key==="Dead"&&p.code.startsWith("Key")){let d=p.code.slice(3,4);p.shiftKey||(d=d.toLowerCase()),y.key=h.C0.ESC+d,y.cancel=!0}}else p.keyCode>=65&&p.keyCode<=90?y.key=String.fromCharCode(p.keyCode-64):p.keyCode===32?y.key=h.C0.NUL:p.keyCode>=51&&p.keyCode<=55?y.key=String.fromCharCode(p.keyCode-51+27):p.keyCode===56?y.key=h.C0.DEL:p.keyCode===219?y.key=h.C0.ESC:p.keyCode===220?y.key=h.C0.FS:p.keyCode===221&&(y.key=h.C0.GS)}return y}},482:(a,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.Utf8ToUtf32=o.StringToUtf32=o.utf32ToString=o.stringFromCodePoint=void 0,o.stringFromCodePoint=function(l){return l>65535?(l-=65536,String.fromCharCode(55296+(l>>10))+String.fromCharCode(l%1024+56320)):String.fromCharCode(l)},o.utf32ToString=function(l,h=0,g=l.length){let p="";for(let m=h;m<g;++m){let w=l[m];w>65535?(w-=65536,p+=String.fromCharCode(55296+(w>>10))+String.fromCharCode(w%1024+56320)):p+=String.fromCharCode(w)}return p},o.StringToUtf32=class{constructor(){this._interim=0}clear(){this._interim=0}decode(l,h){const g=l.length;if(!g)return 0;let p=0,m=0;if(this._interim){const w=l.charCodeAt(m++);56320<=w&&w<=57343?h[p++]=1024*(this._interim-55296)+w-56320+65536:(h[p++]=this._interim,h[p++]=w),this._interim=0}for(let w=m;w<g;++w){const C=l.charCodeAt(w);if(55296<=C&&C<=56319){if(++w>=g)return this._interim=C,p;const y=l.charCodeAt(w);56320<=y&&y<=57343?h[p++]=1024*(C-55296)+y-56320+65536:(h[p++]=C,h[p++]=y)}else C!==65279&&(h[p++]=C)}return p}},o.Utf8ToUtf32=class{constructor(){this.interim=new Uint8Array(3)}clear(){this.interim.fill(0)}decode(l,h){const g=l.length;if(!g)return 0;let p,m,w,C,y=0,v=0,f=0;if(this.interim[0]){let _=!1,R=this.interim[0];R&=(224&R)==192?31:(240&R)==224?15:7;let E,L=0;for(;(E=63&this.interim[++L])&&L<4;)R<<=6,R|=E;const b=(224&this.interim[0])==192?2:(240&this.interim[0])==224?3:4,I=b-L;for(;f<I;){if(f>=g)return 0;if(E=l[f++],(192&E)!=128){f--,_=!0;break}this.interim[L++]=E,R<<=6,R|=63&E}_||(b===2?R<128?f--:h[y++]=R:b===3?R<2048||R>=55296&&R<=57343||R===65279||(h[y++]=R):R<65536||R>1114111||(h[y++]=R)),this.interim.fill(0)}const u=g-4;let d=f;for(;d<g;){for(;!(!(d<u)||128&(p=l[d])||128&(m=l[d+1])||128&(w=l[d+2])||128&(C=l[d+3]));)h[y++]=p,h[y++]=m,h[y++]=w,h[y++]=C,d+=4;if(p=l[d++],p<128)h[y++]=p;else if((224&p)==192){if(d>=g)return this.interim[0]=p,y;if(m=l[d++],(192&m)!=128){d--;continue}if(v=(31&p)<<6|63&m,v<128){d--;continue}h[y++]=v}else if((240&p)==224){if(d>=g)return this.interim[0]=p,y;if(m=l[d++],(192&m)!=128){d--;continue}if(d>=g)return this.interim[0]=p,this.interim[1]=m,y;if(w=l[d++],(192&w)!=128){d--;continue}if(v=(15&p)<<12|(63&m)<<6|63&w,v<2048||v>=55296&&v<=57343||v===65279)continue;h[y++]=v}else if((248&p)==240){if(d>=g)return this.interim[0]=p,y;if(m=l[d++],(192&m)!=128){d--;continue}if(d>=g)return this.interim[0]=p,this.interim[1]=m,y;if(w=l[d++],(192&w)!=128){d--;continue}if(d>=g)return this.interim[0]=p,this.interim[1]=m,this.interim[2]=w,y;if(C=l[d++],(192&C)!=128){d--;continue}if(v=(7&p)<<18|(63&m)<<12|(63&w)<<6|63&C,v<65536||v>1114111)continue;h[y++]=v}}return y}}},225:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.UnicodeV6=void 0;const h=l(1480),g=[[768,879],[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],[65056,65059],[65279,65279],[65529,65531]],p=[[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]];let m;o.UnicodeV6=class{constructor(){if(this.version="6",!m){m=new Uint8Array(65536),m.fill(1),m[0]=0,m.fill(0,1,32),m.fill(0,127,160),m.fill(2,4352,4448),m[9001]=2,m[9002]=2,m.fill(2,11904,42192),m[12351]=1,m.fill(2,44032,55204),m.fill(2,63744,64256),m.fill(2,65040,65050),m.fill(2,65072,65136),m.fill(2,65280,65377),m.fill(2,65504,65511);for(let w=0;w<g.length;++w)m.fill(0,g[w][0],g[w][1]+1)}}wcwidth(w){return w<32?0:w<127?1:w<65536?m[w]:function(C,y){let v,f=0,u=y.length-1;if(C<y[0][0]||C>y[u][1])return!1;for(;u>=f;)if(v=f+u>>1,C>y[v][1])f=v+1;else{if(!(C<y[v][0]))return!0;u=v-1}return!1}(w,p)?0:w>=131072&&w<=196605||w>=196608&&w<=262141?2:1}charProperties(w,C){let y=this.wcwidth(w),v=y===0&&C!==0;if(v){const f=h.UnicodeService.extractWidth(C);f===0?v=!1:f>y&&(y=f)}return h.UnicodeService.createPropertyValue(0,y,v)}}},5981:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.WriteBuffer=void 0;const h=l(8460),g=l(844);class p extends g.Disposable{constructor(w){super(),this._action=w,this._writeBuffer=[],this._callbacks=[],this._pendingData=0,this._bufferOffset=0,this._isSyncWriting=!1,this._syncCalls=0,this._didUserInput=!1,this._onWriteParsed=this.register(new h.EventEmitter),this.onWriteParsed=this._onWriteParsed.event}handleUserInput(){this._didUserInput=!0}writeSync(w,C){if(C!==void 0&&this._syncCalls>C)return void(this._syncCalls=0);if(this._pendingData+=w.length,this._writeBuffer.push(w),this._callbacks.push(void 0),this._syncCalls++,this._isSyncWriting)return;let y;for(this._isSyncWriting=!0;y=this._writeBuffer.shift();){this._action(y);const v=this._callbacks.shift();v&&v()}this._pendingData=0,this._bufferOffset=2147483647,this._isSyncWriting=!1,this._syncCalls=0}write(w,C){if(this._pendingData>5e7)throw new Error("write data discarded, use flow control to avoid losing data");if(!this._writeBuffer.length){if(this._bufferOffset=0,this._didUserInput)return this._didUserInput=!1,this._pendingData+=w.length,this._writeBuffer.push(w),this._callbacks.push(C),void this._innerWrite();setTimeout(()=>this._innerWrite())}this._pendingData+=w.length,this._writeBuffer.push(w),this._callbacks.push(C)}_innerWrite(w=0,C=!0){const y=w||Date.now();for(;this._writeBuffer.length>this._bufferOffset;){const v=this._writeBuffer[this._bufferOffset],f=this._action(v,C);if(f){const d=_=>Date.now()-y>=12?setTimeout(()=>this._innerWrite(0,_)):this._innerWrite(y,_);return void f.catch(_=>(queueMicrotask(()=>{throw _}),Promise.resolve(!1))).then(d)}const u=this._callbacks[this._bufferOffset];if(u&&u(),this._bufferOffset++,this._pendingData-=v.length,Date.now()-y>=12)break}this._writeBuffer.length>this._bufferOffset?(this._bufferOffset>50&&(this._writeBuffer=this._writeBuffer.slice(this._bufferOffset),this._callbacks=this._callbacks.slice(this._bufferOffset),this._bufferOffset=0),setTimeout(()=>this._innerWrite())):(this._writeBuffer.length=0,this._callbacks.length=0,this._pendingData=0,this._bufferOffset=0),this._onWriteParsed.fire()}}o.WriteBuffer=p},5941:(a,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.toRgbString=o.parseColor=void 0;const l=/^([\da-f])\/([\da-f])\/([\da-f])$|^([\da-f]{2})\/([\da-f]{2})\/([\da-f]{2})$|^([\da-f]{3})\/([\da-f]{3})\/([\da-f]{3})$|^([\da-f]{4})\/([\da-f]{4})\/([\da-f]{4})$/,h=/^[\da-f]+$/;function g(p,m){const w=p.toString(16),C=w.length<2?"0"+w:w;switch(m){case 4:return w[0];case 8:return C;case 12:return(C+C).slice(0,3);default:return C+C}}o.parseColor=function(p){if(!p)return;let m=p.toLowerCase();if(m.indexOf("rgb:")===0){m=m.slice(4);const w=l.exec(m);if(w){const C=w[1]?15:w[4]?255:w[7]?4095:65535;return[Math.round(parseInt(w[1]||w[4]||w[7]||w[10],16)/C*255),Math.round(parseInt(w[2]||w[5]||w[8]||w[11],16)/C*255),Math.round(parseInt(w[3]||w[6]||w[9]||w[12],16)/C*255)]}}else if(m.indexOf("#")===0&&(m=m.slice(1),h.exec(m)&&[3,6,9,12].includes(m.length))){const w=m.length/3,C=[0,0,0];for(let y=0;y<3;++y){const v=parseInt(m.slice(w*y,w*y+w),16);C[y]=w===1?v<<4:w===2?v:w===3?v>>4:v>>8}return C}},o.toRgbString=function(p,m=16){const[w,C,y]=p;return`rgb:${g(w,m)}/${g(C,m)}/${g(y,m)}`}},5770:(a,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.PAYLOAD_LIMIT=void 0,o.PAYLOAD_LIMIT=1e7},6351:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.DcsHandler=o.DcsParser=void 0;const h=l(482),g=l(8742),p=l(5770),m=[];o.DcsParser=class{constructor(){this._handlers=Object.create(null),this._active=m,this._ident=0,this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=m}registerHandler(C,y){this._handlers[C]===void 0&&(this._handlers[C]=[]);const v=this._handlers[C];return v.push(y),{dispose:()=>{const f=v.indexOf(y);f!==-1&&v.splice(f,1)}}}clearHandler(C){this._handlers[C]&&delete this._handlers[C]}setHandlerFallback(C){this._handlerFb=C}reset(){if(this._active.length)for(let C=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;C>=0;--C)this._active[C].unhook(!1);this._stack.paused=!1,this._active=m,this._ident=0}hook(C,y){if(this.reset(),this._ident=C,this._active=this._handlers[C]||m,this._active.length)for(let v=this._active.length-1;v>=0;v--)this._active[v].hook(y);else this._handlerFb(this._ident,"HOOK",y)}put(C,y,v){if(this._active.length)for(let f=this._active.length-1;f>=0;f--)this._active[f].put(C,y,v);else this._handlerFb(this._ident,"PUT",(0,h.utf32ToString)(C,y,v))}unhook(C,y=!0){if(this._active.length){let v=!1,f=this._active.length-1,u=!1;if(this._stack.paused&&(f=this._stack.loopPosition-1,v=y,u=this._stack.fallThrough,this._stack.paused=!1),!u&&v===!1){for(;f>=0&&(v=this._active[f].unhook(C),v!==!0);f--)if(v instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=f,this._stack.fallThrough=!1,v;f--}for(;f>=0;f--)if(v=this._active[f].unhook(!1),v instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=f,this._stack.fallThrough=!0,v}else this._handlerFb(this._ident,"UNHOOK",C);this._active=m,this._ident=0}};const w=new g.Params;w.addParam(0),o.DcsHandler=class{constructor(C){this._handler=C,this._data="",this._params=w,this._hitLimit=!1}hook(C){this._params=C.length>1||C.params[0]?C.clone():w,this._data="",this._hitLimit=!1}put(C,y,v){this._hitLimit||(this._data+=(0,h.utf32ToString)(C,y,v),this._data.length>p.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}unhook(C){let y=!1;if(this._hitLimit)y=!1;else if(C&&(y=this._handler(this._data,this._params),y instanceof Promise))return y.then(v=>(this._params=w,this._data="",this._hitLimit=!1,v));return this._params=w,this._data="",this._hitLimit=!1,y}}},2015:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.EscapeSequenceParser=o.VT500_TRANSITION_TABLE=o.TransitionTable=void 0;const h=l(844),g=l(8742),p=l(6242),m=l(6351);class w{constructor(f){this.table=new Uint8Array(f)}setDefault(f,u){this.table.fill(f<<4|u)}add(f,u,d,_){this.table[u<<8|f]=d<<4|_}addMany(f,u,d,_){for(let R=0;R<f.length;R++)this.table[u<<8|f[R]]=d<<4|_}}o.TransitionTable=w;const C=160;o.VT500_TRANSITION_TABLE=function(){const v=new w(4095),f=Array.apply(null,Array(256)).map((L,b)=>b),u=(L,b)=>f.slice(L,b),d=u(32,127),_=u(0,24);_.push(25),_.push.apply(_,u(28,32));const R=u(0,14);let E;for(E in v.setDefault(1,0),v.addMany(d,0,2,0),R)v.addMany([24,26,153,154],E,3,0),v.addMany(u(128,144),E,3,0),v.addMany(u(144,152),E,3,0),v.add(156,E,0,0),v.add(27,E,11,1),v.add(157,E,4,8),v.addMany([152,158,159],E,0,7),v.add(155,E,11,3),v.add(144,E,11,9);return v.addMany(_,0,3,0),v.addMany(_,1,3,1),v.add(127,1,0,1),v.addMany(_,8,0,8),v.addMany(_,3,3,3),v.add(127,3,0,3),v.addMany(_,4,3,4),v.add(127,4,0,4),v.addMany(_,6,3,6),v.addMany(_,5,3,5),v.add(127,5,0,5),v.addMany(_,2,3,2),v.add(127,2,0,2),v.add(93,1,4,8),v.addMany(d,8,5,8),v.add(127,8,5,8),v.addMany([156,27,24,26,7],8,6,0),v.addMany(u(28,32),8,0,8),v.addMany([88,94,95],1,0,7),v.addMany(d,7,0,7),v.addMany(_,7,0,7),v.add(156,7,0,0),v.add(127,7,0,7),v.add(91,1,11,3),v.addMany(u(64,127),3,7,0),v.addMany(u(48,60),3,8,4),v.addMany([60,61,62,63],3,9,4),v.addMany(u(48,60),4,8,4),v.addMany(u(64,127),4,7,0),v.addMany([60,61,62,63],4,0,6),v.addMany(u(32,64),6,0,6),v.add(127,6,0,6),v.addMany(u(64,127),6,0,0),v.addMany(u(32,48),3,9,5),v.addMany(u(32,48),5,9,5),v.addMany(u(48,64),5,0,6),v.addMany(u(64,127),5,7,0),v.addMany(u(32,48),4,9,5),v.addMany(u(32,48),1,9,2),v.addMany(u(32,48),2,9,2),v.addMany(u(48,127),2,10,0),v.addMany(u(48,80),1,10,0),v.addMany(u(81,88),1,10,0),v.addMany([89,90,92],1,10,0),v.addMany(u(96,127),1,10,0),v.add(80,1,11,9),v.addMany(_,9,0,9),v.add(127,9,0,9),v.addMany(u(28,32),9,0,9),v.addMany(u(32,48),9,9,12),v.addMany(u(48,60),9,8,10),v.addMany([60,61,62,63],9,9,10),v.addMany(_,11,0,11),v.addMany(u(32,128),11,0,11),v.addMany(u(28,32),11,0,11),v.addMany(_,10,0,10),v.add(127,10,0,10),v.addMany(u(28,32),10,0,10),v.addMany(u(48,60),10,8,10),v.addMany([60,61,62,63],10,0,11),v.addMany(u(32,48),10,9,12),v.addMany(_,12,0,12),v.add(127,12,0,12),v.addMany(u(28,32),12,0,12),v.addMany(u(32,48),12,9,12),v.addMany(u(48,64),12,0,11),v.addMany(u(64,127),12,12,13),v.addMany(u(64,127),10,12,13),v.addMany(u(64,127),9,12,13),v.addMany(_,13,13,13),v.addMany(d,13,13,13),v.add(127,13,0,13),v.addMany([27,156,24,26],13,14,0),v.add(C,0,2,0),v.add(C,8,5,8),v.add(C,6,0,6),v.add(C,11,0,11),v.add(C,13,13,13),v}();class y extends h.Disposable{constructor(f=o.VT500_TRANSITION_TABLE){super(),this._transitions=f,this._parseStack={state:0,handlers:[],handlerPos:0,transition:0,chunkPos:0},this.initialState=0,this.currentState=this.initialState,this._params=new g.Params,this._params.addParam(0),this._collect=0,this.precedingJoinState=0,this._printHandlerFb=(u,d,_)=>{},this._executeHandlerFb=u=>{},this._csiHandlerFb=(u,d)=>{},this._escHandlerFb=u=>{},this._errorHandlerFb=u=>u,this._printHandler=this._printHandlerFb,this._executeHandlers=Object.create(null),this._csiHandlers=Object.create(null),this._escHandlers=Object.create(null),this.register((0,h.toDisposable)(()=>{this._csiHandlers=Object.create(null),this._executeHandlers=Object.create(null),this._escHandlers=Object.create(null)})),this._oscParser=this.register(new p.OscParser),this._dcsParser=this.register(new m.DcsParser),this._errorHandler=this._errorHandlerFb,this.registerEscHandler({final:"\\"},()=>!0)}_identifier(f,u=[64,126]){let d=0;if(f.prefix){if(f.prefix.length>1)throw new Error("only one byte as prefix supported");if(d=f.prefix.charCodeAt(0),d&&60>d||d>63)throw new Error("prefix must be in range 0x3c .. 0x3f")}if(f.intermediates){if(f.intermediates.length>2)throw new Error("only two bytes as intermediates are supported");for(let R=0;R<f.intermediates.length;++R){const E=f.intermediates.charCodeAt(R);if(32>E||E>47)throw new Error("intermediate must be in range 0x20 .. 0x2f");d<<=8,d|=E}}if(f.final.length!==1)throw new Error("final must be a single byte");const _=f.final.charCodeAt(0);if(u[0]>_||_>u[1])throw new Error(`final must be in range ${u[0]} .. ${u[1]}`);return d<<=8,d|=_,d}identToString(f){const u=[];for(;f;)u.push(String.fromCharCode(255&f)),f>>=8;return u.reverse().join("")}setPrintHandler(f){this._printHandler=f}clearPrintHandler(){this._printHandler=this._printHandlerFb}registerEscHandler(f,u){const d=this._identifier(f,[48,126]);this._escHandlers[d]===void 0&&(this._escHandlers[d]=[]);const _=this._escHandlers[d];return _.push(u),{dispose:()=>{const R=_.indexOf(u);R!==-1&&_.splice(R,1)}}}clearEscHandler(f){this._escHandlers[this._identifier(f,[48,126])]&&delete this._escHandlers[this._identifier(f,[48,126])]}setEscHandlerFallback(f){this._escHandlerFb=f}setExecuteHandler(f,u){this._executeHandlers[f.charCodeAt(0)]=u}clearExecuteHandler(f){this._executeHandlers[f.charCodeAt(0)]&&delete this._executeHandlers[f.charCodeAt(0)]}setExecuteHandlerFallback(f){this._executeHandlerFb=f}registerCsiHandler(f,u){const d=this._identifier(f);this._csiHandlers[d]===void 0&&(this._csiHandlers[d]=[]);const _=this._csiHandlers[d];return _.push(u),{dispose:()=>{const R=_.indexOf(u);R!==-1&&_.splice(R,1)}}}clearCsiHandler(f){this._csiHandlers[this._identifier(f)]&&delete this._csiHandlers[this._identifier(f)]}setCsiHandlerFallback(f){this._csiHandlerFb=f}registerDcsHandler(f,u){return this._dcsParser.registerHandler(this._identifier(f),u)}clearDcsHandler(f){this._dcsParser.clearHandler(this._identifier(f))}setDcsHandlerFallback(f){this._dcsParser.setHandlerFallback(f)}registerOscHandler(f,u){return this._oscParser.registerHandler(f,u)}clearOscHandler(f){this._oscParser.clearHandler(f)}setOscHandlerFallback(f){this._oscParser.setHandlerFallback(f)}setErrorHandler(f){this._errorHandler=f}clearErrorHandler(){this._errorHandler=this._errorHandlerFb}reset(){this.currentState=this.initialState,this._oscParser.reset(),this._dcsParser.reset(),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingJoinState=0,this._parseStack.state!==0&&(this._parseStack.state=2,this._parseStack.handlers=[])}_preserveStack(f,u,d,_,R){this._parseStack.state=f,this._parseStack.handlers=u,this._parseStack.handlerPos=d,this._parseStack.transition=_,this._parseStack.chunkPos=R}parse(f,u,d){let _,R=0,E=0,L=0;if(this._parseStack.state)if(this._parseStack.state===2)this._parseStack.state=0,L=this._parseStack.chunkPos+1;else{if(d===void 0||this._parseStack.state===1)throw this._parseStack.state=1,new Error("improper continuation due to previous async handler, giving up parsing");const b=this._parseStack.handlers;let I=this._parseStack.handlerPos-1;switch(this._parseStack.state){case 3:if(d===!1&&I>-1){for(;I>=0&&(_=b[I](this._params),_!==!0);I--)if(_ instanceof Promise)return this._parseStack.handlerPos=I,_}this._parseStack.handlers=[];break;case 4:if(d===!1&&I>-1){for(;I>=0&&(_=b[I](),_!==!0);I--)if(_ instanceof Promise)return this._parseStack.handlerPos=I,_}this._parseStack.handlers=[];break;case 6:if(R=f[this._parseStack.chunkPos],_=this._dcsParser.unhook(R!==24&&R!==26,d),_)return _;R===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0;break;case 5:if(R=f[this._parseStack.chunkPos],_=this._oscParser.end(R!==24&&R!==26,d),_)return _;R===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0}this._parseStack.state=0,L=this._parseStack.chunkPos+1,this.precedingJoinState=0,this.currentState=15&this._parseStack.transition}for(let b=L;b<u;++b){switch(R=f[b],E=this._transitions.table[this.currentState<<8|(R<160?R:C)],E>>4){case 2:for(let B=b+1;;++B){if(B>=u||(R=f[B])<32||R>126&&R<C){this._printHandler(f,b,B),b=B-1;break}if(++B>=u||(R=f[B])<32||R>126&&R<C){this._printHandler(f,b,B),b=B-1;break}if(++B>=u||(R=f[B])<32||R>126&&R<C){this._printHandler(f,b,B),b=B-1;break}if(++B>=u||(R=f[B])<32||R>126&&R<C){this._printHandler(f,b,B),b=B-1;break}}break;case 3:this._executeHandlers[R]?this._executeHandlers[R]():this._executeHandlerFb(R),this.precedingJoinState=0;break;case 0:break;case 1:if(this._errorHandler({position:b,code:R,currentState:this.currentState,collect:this._collect,params:this._params,abort:!1}).abort)return;break;case 7:const I=this._csiHandlers[this._collect<<8|R];let U=I?I.length-1:-1;for(;U>=0&&(_=I[U](this._params),_!==!0);U--)if(_ instanceof Promise)return this._preserveStack(3,I,U,E,b),_;U<0&&this._csiHandlerFb(this._collect<<8|R,this._params),this.precedingJoinState=0;break;case 8:do switch(R){case 59:this._params.addParam(0);break;case 58:this._params.addSubParam(-1);break;default:this._params.addDigit(R-48)}while(++b<u&&(R=f[b])>47&&R<60);b--;break;case 9:this._collect<<=8,this._collect|=R;break;case 10:const W=this._escHandlers[this._collect<<8|R];let Y=W?W.length-1:-1;for(;Y>=0&&(_=W[Y](),_!==!0);Y--)if(_ instanceof Promise)return this._preserveStack(4,W,Y,E,b),_;Y<0&&this._escHandlerFb(this._collect<<8|R),this.precedingJoinState=0;break;case 11:this._params.reset(),this._params.addParam(0),this._collect=0;break;case 12:this._dcsParser.hook(this._collect<<8|R,this._params);break;case 13:for(let B=b+1;;++B)if(B>=u||(R=f[B])===24||R===26||R===27||R>127&&R<C){this._dcsParser.put(f,b,B),b=B-1;break}break;case 14:if(_=this._dcsParser.unhook(R!==24&&R!==26),_)return this._preserveStack(6,[],0,E,b),_;R===27&&(E|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingJoinState=0;break;case 4:this._oscParser.start();break;case 5:for(let B=b+1;;B++)if(B>=u||(R=f[B])<32||R>127&&R<C){this._oscParser.put(f,b,B),b=B-1;break}break;case 6:if(_=this._oscParser.end(R!==24&&R!==26),_)return this._preserveStack(5,[],0,E,b),_;R===27&&(E|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingJoinState=0}this.currentState=15&E}}}o.EscapeSequenceParser=y},6242:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.OscHandler=o.OscParser=void 0;const h=l(5770),g=l(482),p=[];o.OscParser=class{constructor(){this._state=0,this._active=p,this._id=-1,this._handlers=Object.create(null),this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}registerHandler(m,w){this._handlers[m]===void 0&&(this._handlers[m]=[]);const C=this._handlers[m];return C.push(w),{dispose:()=>{const y=C.indexOf(w);y!==-1&&C.splice(y,1)}}}clearHandler(m){this._handlers[m]&&delete this._handlers[m]}setHandlerFallback(m){this._handlerFb=m}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=p}reset(){if(this._state===2)for(let m=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;m>=0;--m)this._active[m].end(!1);this._stack.paused=!1,this._active=p,this._id=-1,this._state=0}_start(){if(this._active=this._handlers[this._id]||p,this._active.length)for(let m=this._active.length-1;m>=0;m--)this._active[m].start();else this._handlerFb(this._id,"START")}_put(m,w,C){if(this._active.length)for(let y=this._active.length-1;y>=0;y--)this._active[y].put(m,w,C);else this._handlerFb(this._id,"PUT",(0,g.utf32ToString)(m,w,C))}start(){this.reset(),this._state=1}put(m,w,C){if(this._state!==3){if(this._state===1)for(;w<C;){const y=m[w++];if(y===59){this._state=2,this._start();break}if(y<48||57<y)return void(this._state=3);this._id===-1&&(this._id=0),this._id=10*this._id+y-48}this._state===2&&C-w>0&&this._put(m,w,C)}}end(m,w=!0){if(this._state!==0){if(this._state!==3)if(this._state===1&&this._start(),this._active.length){let C=!1,y=this._active.length-1,v=!1;if(this._stack.paused&&(y=this._stack.loopPosition-1,C=w,v=this._stack.fallThrough,this._stack.paused=!1),!v&&C===!1){for(;y>=0&&(C=this._active[y].end(m),C!==!0);y--)if(C instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=y,this._stack.fallThrough=!1,C;y--}for(;y>=0;y--)if(C=this._active[y].end(!1),C instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=y,this._stack.fallThrough=!0,C}else this._handlerFb(this._id,"END",m);this._active=p,this._id=-1,this._state=0}}},o.OscHandler=class{constructor(m){this._handler=m,this._data="",this._hitLimit=!1}start(){this._data="",this._hitLimit=!1}put(m,w,C){this._hitLimit||(this._data+=(0,g.utf32ToString)(m,w,C),this._data.length>h.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}end(m){let w=!1;if(this._hitLimit)w=!1;else if(m&&(w=this._handler(this._data),w instanceof Promise))return w.then(C=>(this._data="",this._hitLimit=!1,C));return this._data="",this._hitLimit=!1,w}}},8742:(a,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.Params=void 0;const l=2147483647;class h{static fromArray(p){const m=new h;if(!p.length)return m;for(let w=Array.isArray(p[0])?1:0;w<p.length;++w){const C=p[w];if(Array.isArray(C))for(let y=0;y<C.length;++y)m.addSubParam(C[y]);else m.addParam(C)}return m}constructor(p=32,m=32){if(this.maxLength=p,this.maxSubParamsLength=m,m>256)throw new Error("maxSubParamsLength must not be greater than 256");this.params=new Int32Array(p),this.length=0,this._subParams=new Int32Array(m),this._subParamsLength=0,this._subParamsIdx=new Uint16Array(p),this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}clone(){const p=new h(this.maxLength,this.maxSubParamsLength);return p.params.set(this.params),p.length=this.length,p._subParams.set(this._subParams),p._subParamsLength=this._subParamsLength,p._subParamsIdx.set(this._subParamsIdx),p._rejectDigits=this._rejectDigits,p._rejectSubDigits=this._rejectSubDigits,p._digitIsSub=this._digitIsSub,p}toArray(){const p=[];for(let m=0;m<this.length;++m){p.push(this.params[m]);const w=this._subParamsIdx[m]>>8,C=255&this._subParamsIdx[m];C-w>0&&p.push(Array.prototype.slice.call(this._subParams,w,C))}return p}reset(){this.length=0,this._subParamsLength=0,this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}addParam(p){if(this._digitIsSub=!1,this.length>=this.maxLength)this._rejectDigits=!0;else{if(p<-1)throw new Error("values lesser than -1 are not allowed");this._subParamsIdx[this.length]=this._subParamsLength<<8|this._subParamsLength,this.params[this.length++]=p>l?l:p}}addSubParam(p){if(this._digitIsSub=!0,this.length)if(this._rejectDigits||this._subParamsLength>=this.maxSubParamsLength)this._rejectSubDigits=!0;else{if(p<-1)throw new Error("values lesser than -1 are not allowed");this._subParams[this._subParamsLength++]=p>l?l:p,this._subParamsIdx[this.length-1]++}}hasSubParams(p){return(255&this._subParamsIdx[p])-(this._subParamsIdx[p]>>8)>0}getSubParams(p){const m=this._subParamsIdx[p]>>8,w=255&this._subParamsIdx[p];return w-m>0?this._subParams.subarray(m,w):null}getSubParamsAll(){const p={};for(let m=0;m<this.length;++m){const w=this._subParamsIdx[m]>>8,C=255&this._subParamsIdx[m];C-w>0&&(p[m]=this._subParams.slice(w,C))}return p}addDigit(p){let m;if(this._rejectDigits||!(m=this._digitIsSub?this._subParamsLength:this.length)||this._digitIsSub&&this._rejectSubDigits)return;const w=this._digitIsSub?this._subParams:this.params,C=w[m-1];w[m-1]=~C?Math.min(10*C+p,l):p}}o.Params=h},5741:(a,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.AddonManager=void 0,o.AddonManager=class{constructor(){this._addons=[]}dispose(){for(let l=this._addons.length-1;l>=0;l--)this._addons[l].instance.dispose()}loadAddon(l,h){const g={instance:h,dispose:h.dispose,isDisposed:!1};this._addons.push(g),h.dispose=()=>this._wrappedAddonDispose(g),h.activate(l)}_wrappedAddonDispose(l){if(l.isDisposed)return;let h=-1;for(let g=0;g<this._addons.length;g++)if(this._addons[g]===l){h=g;break}if(h===-1)throw new Error("Could not dispose an addon that has not been loaded");l.isDisposed=!0,l.dispose.apply(l.instance),this._addons.splice(h,1)}}},8771:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.BufferApiView=void 0;const h=l(3785),g=l(511);o.BufferApiView=class{constructor(p,m){this._buffer=p,this.type=m}init(p){return this._buffer=p,this}get cursorY(){return this._buffer.y}get cursorX(){return this._buffer.x}get viewportY(){return this._buffer.ydisp}get baseY(){return this._buffer.ybase}get length(){return this._buffer.lines.length}getLine(p){const m=this._buffer.lines.get(p);if(m)return new h.BufferLineApiView(m)}getNullCell(){return new g.CellData}}},3785:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.BufferLineApiView=void 0;const h=l(511);o.BufferLineApiView=class{constructor(g){this._line=g}get isWrapped(){return this._line.isWrapped}get length(){return this._line.length}getCell(g,p){if(!(g<0||g>=this._line.length))return p?(this._line.loadCell(g,p),p):this._line.loadCell(g,new h.CellData)}translateToString(g,p,m){return this._line.translateToString(g,p,m)}}},8285:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.BufferNamespaceApi=void 0;const h=l(8771),g=l(8460),p=l(844);class m extends p.Disposable{constructor(C){super(),this._core=C,this._onBufferChange=this.register(new g.EventEmitter),this.onBufferChange=this._onBufferChange.event,this._normal=new h.BufferApiView(this._core.buffers.normal,"normal"),this._alternate=new h.BufferApiView(this._core.buffers.alt,"alternate"),this._core.buffers.onBufferActivate(()=>this._onBufferChange.fire(this.active))}get active(){if(this._core.buffers.active===this._core.buffers.normal)return this.normal;if(this._core.buffers.active===this._core.buffers.alt)return this.alternate;throw new Error("Active buffer is neither normal nor alternate")}get normal(){return this._normal.init(this._core.buffers.normal)}get alternate(){return this._alternate.init(this._core.buffers.alt)}}o.BufferNamespaceApi=m},7975:(a,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ParserApi=void 0,o.ParserApi=class{constructor(l){this._core=l}registerCsiHandler(l,h){return this._core.registerCsiHandler(l,g=>h(g.toArray()))}addCsiHandler(l,h){return this.registerCsiHandler(l,h)}registerDcsHandler(l,h){return this._core.registerDcsHandler(l,(g,p)=>h(g,p.toArray()))}addDcsHandler(l,h){return this.registerDcsHandler(l,h)}registerEscHandler(l,h){return this._core.registerEscHandler(l,h)}addEscHandler(l,h){return this.registerEscHandler(l,h)}registerOscHandler(l,h){return this._core.registerOscHandler(l,h)}addOscHandler(l,h){return this.registerOscHandler(l,h)}}},7090:(a,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.UnicodeApi=void 0,o.UnicodeApi=class{constructor(l){this._core=l}register(l){this._core.unicodeService.register(l)}get versions(){return this._core.unicodeService.versions}get activeVersion(){return this._core.unicodeService.activeVersion}set activeVersion(l){this._core.unicodeService.activeVersion=l}}},744:function(a,o,l){var h=this&&this.__decorate||function(v,f,u,d){var _,R=arguments.length,E=R<3?f:d===null?d=Object.getOwnPropertyDescriptor(f,u):d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")E=Reflect.decorate(v,f,u,d);else for(var L=v.length-1;L>=0;L--)(_=v[L])&&(E=(R<3?_(E):R>3?_(f,u,E):_(f,u))||E);return R>3&&E&&Object.defineProperty(f,u,E),E},g=this&&this.__param||function(v,f){return function(u,d){f(u,d,v)}};Object.defineProperty(o,"__esModule",{value:!0}),o.BufferService=o.MINIMUM_ROWS=o.MINIMUM_COLS=void 0;const p=l(8460),m=l(844),w=l(5295),C=l(2585);o.MINIMUM_COLS=2,o.MINIMUM_ROWS=1;let y=o.BufferService=class extends m.Disposable{get buffer(){return this.buffers.active}constructor(v){super(),this.isUserScrolling=!1,this._onResize=this.register(new p.EventEmitter),this.onResize=this._onResize.event,this._onScroll=this.register(new p.EventEmitter),this.onScroll=this._onScroll.event,this.cols=Math.max(v.rawOptions.cols||0,o.MINIMUM_COLS),this.rows=Math.max(v.rawOptions.rows||0,o.MINIMUM_ROWS),this.buffers=this.register(new w.BufferSet(v,this))}resize(v,f){this.cols=v,this.rows=f,this.buffers.resize(v,f),this._onResize.fire({cols:v,rows:f})}reset(){this.buffers.reset(),this.isUserScrolling=!1}scroll(v,f=!1){const u=this.buffer;let d;d=this._cachedBlankLine,d&&d.length===this.cols&&d.getFg(0)===v.fg&&d.getBg(0)===v.bg||(d=u.getBlankLine(v,f),this._cachedBlankLine=d),d.isWrapped=f;const _=u.ybase+u.scrollTop,R=u.ybase+u.scrollBottom;if(u.scrollTop===0){const E=u.lines.isFull;R===u.lines.length-1?E?u.lines.recycle().copyFrom(d):u.lines.push(d.clone()):u.lines.splice(R+1,0,d.clone()),E?this.isUserScrolling&&(u.ydisp=Math.max(u.ydisp-1,0)):(u.ybase++,this.isUserScrolling||u.ydisp++)}else{const E=R-_+1;u.lines.shiftElements(_+1,E-1,-1),u.lines.set(R,d.clone())}this.isUserScrolling||(u.ydisp=u.ybase),this._onScroll.fire(u.ydisp)}scrollLines(v,f,u){const d=this.buffer;if(v<0){if(d.ydisp===0)return;this.isUserScrolling=!0}else v+d.ydisp>=d.ybase&&(this.isUserScrolling=!1);const _=d.ydisp;d.ydisp=Math.max(Math.min(d.ydisp+v,d.ybase),0),_!==d.ydisp&&(f||this._onScroll.fire(d.ydisp))}};o.BufferService=y=h([g(0,C.IOptionsService)],y)},7994:(a,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.CharsetService=void 0,o.CharsetService=class{constructor(){this.glevel=0,this._charsets=[]}reset(){this.charset=void 0,this._charsets=[],this.glevel=0}setgLevel(l){this.glevel=l,this.charset=this._charsets[l]}setgCharset(l,h){this._charsets[l]=h,this.glevel===l&&(this.charset=h)}}},1753:function(a,o,l){var h=this&&this.__decorate||function(d,_,R,E){var L,b=arguments.length,I=b<3?_:E===null?E=Object.getOwnPropertyDescriptor(_,R):E;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")I=Reflect.decorate(d,_,R,E);else for(var U=d.length-1;U>=0;U--)(L=d[U])&&(I=(b<3?L(I):b>3?L(_,R,I):L(_,R))||I);return b>3&&I&&Object.defineProperty(_,R,I),I},g=this&&this.__param||function(d,_){return function(R,E){_(R,E,d)}};Object.defineProperty(o,"__esModule",{value:!0}),o.CoreMouseService=void 0;const p=l(2585),m=l(8460),w=l(844),C={NONE:{events:0,restrict:()=>!1},X10:{events:1,restrict:d=>d.button!==4&&d.action===1&&(d.ctrl=!1,d.alt=!1,d.shift=!1,!0)},VT200:{events:19,restrict:d=>d.action!==32},DRAG:{events:23,restrict:d=>d.action!==32||d.button!==3},ANY:{events:31,restrict:d=>!0}};function y(d,_){let R=(d.ctrl?16:0)|(d.shift?4:0)|(d.alt?8:0);return d.button===4?(R|=64,R|=d.action):(R|=3&d.button,4&d.button&&(R|=64),8&d.button&&(R|=128),d.action===32?R|=32:d.action!==0||_||(R|=3)),R}const v=String.fromCharCode,f={DEFAULT:d=>{const _=[y(d,!1)+32,d.col+32,d.row+32];return _[0]>255||_[1]>255||_[2]>255?"":`\x1B[M${v(_[0])}${v(_[1])}${v(_[2])}`},SGR:d=>{const _=d.action===0&&d.button!==4?"m":"M";return`\x1B[<${y(d,!0)};${d.col};${d.row}${_}`},SGR_PIXELS:d=>{const _=d.action===0&&d.button!==4?"m":"M";return`\x1B[<${y(d,!0)};${d.x};${d.y}${_}`}};let u=o.CoreMouseService=class extends w.Disposable{constructor(d,_){super(),this._bufferService=d,this._coreService=_,this._protocols={},this._encodings={},this._activeProtocol="",this._activeEncoding="",this._lastEvent=null,this._onProtocolChange=this.register(new m.EventEmitter),this.onProtocolChange=this._onProtocolChange.event;for(const R of Object.keys(C))this.addProtocol(R,C[R]);for(const R of Object.keys(f))this.addEncoding(R,f[R]);this.reset()}addProtocol(d,_){this._protocols[d]=_}addEncoding(d,_){this._encodings[d]=_}get activeProtocol(){return this._activeProtocol}get areMouseEventsActive(){return this._protocols[this._activeProtocol].events!==0}set activeProtocol(d){if(!this._protocols[d])throw new Error(`unknown protocol "${d}"`);this._activeProtocol=d,this._onProtocolChange.fire(this._protocols[d].events)}get activeEncoding(){return this._activeEncoding}set activeEncoding(d){if(!this._encodings[d])throw new Error(`unknown encoding "${d}"`);this._activeEncoding=d}reset(){this.activeProtocol="NONE",this.activeEncoding="DEFAULT",this._lastEvent=null}triggerMouseEvent(d){if(d.col<0||d.col>=this._bufferService.cols||d.row<0||d.row>=this._bufferService.rows||d.button===4&&d.action===32||d.button===3&&d.action!==32||d.button!==4&&(d.action===2||d.action===3)||(d.col++,d.row++,d.action===32&&this._lastEvent&&this._equalEvents(this._lastEvent,d,this._activeEncoding==="SGR_PIXELS"))||!this._protocols[this._activeProtocol].restrict(d))return!1;const _=this._encodings[this._activeEncoding](d);return _&&(this._activeEncoding==="DEFAULT"?this._coreService.triggerBinaryEvent(_):this._coreService.triggerDataEvent(_,!0)),this._lastEvent=d,!0}explainEvents(d){return{down:!!(1&d),up:!!(2&d),drag:!!(4&d),move:!!(8&d),wheel:!!(16&d)}}_equalEvents(d,_,R){if(R){if(d.x!==_.x||d.y!==_.y)return!1}else if(d.col!==_.col||d.row!==_.row)return!1;return d.button===_.button&&d.action===_.action&&d.ctrl===_.ctrl&&d.alt===_.alt&&d.shift===_.shift}};o.CoreMouseService=u=h([g(0,p.IBufferService),g(1,p.ICoreService)],u)},6975:function(a,o,l){var h=this&&this.__decorate||function(u,d,_,R){var E,L=arguments.length,b=L<3?d:R===null?R=Object.getOwnPropertyDescriptor(d,_):R;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(u,d,_,R);else for(var I=u.length-1;I>=0;I--)(E=u[I])&&(b=(L<3?E(b):L>3?E(d,_,b):E(d,_))||b);return L>3&&b&&Object.defineProperty(d,_,b),b},g=this&&this.__param||function(u,d){return function(_,R){d(_,R,u)}};Object.defineProperty(o,"__esModule",{value:!0}),o.CoreService=void 0;const p=l(1439),m=l(8460),w=l(844),C=l(2585),y=Object.freeze({insertMode:!1}),v=Object.freeze({applicationCursorKeys:!1,applicationKeypad:!1,bracketedPasteMode:!1,origin:!1,reverseWraparound:!1,sendFocus:!1,wraparound:!0});let f=o.CoreService=class extends w.Disposable{constructor(u,d,_){super(),this._bufferService=u,this._logService=d,this._optionsService=_,this.isCursorInitialized=!1,this.isCursorHidden=!1,this._onData=this.register(new m.EventEmitter),this.onData=this._onData.event,this._onUserInput=this.register(new m.EventEmitter),this.onUserInput=this._onUserInput.event,this._onBinary=this.register(new m.EventEmitter),this.onBinary=this._onBinary.event,this._onRequestScrollToBottom=this.register(new m.EventEmitter),this.onRequestScrollToBottom=this._onRequestScrollToBottom.event,this.modes=(0,p.clone)(y),this.decPrivateModes=(0,p.clone)(v)}reset(){this.modes=(0,p.clone)(y),this.decPrivateModes=(0,p.clone)(v)}triggerDataEvent(u,d=!1){if(this._optionsService.rawOptions.disableStdin)return;const _=this._bufferService.buffer;d&&this._optionsService.rawOptions.scrollOnUserInput&&_.ybase!==_.ydisp&&this._onRequestScrollToBottom.fire(),d&&this._onUserInput.fire(),this._logService.debug(`sending data "${u}"`,()=>u.split("").map(R=>R.charCodeAt(0))),this._onData.fire(u)}triggerBinaryEvent(u){this._optionsService.rawOptions.disableStdin||(this._logService.debug(`sending binary "${u}"`,()=>u.split("").map(d=>d.charCodeAt(0))),this._onBinary.fire(u))}};o.CoreService=f=h([g(0,C.IBufferService),g(1,C.ILogService),g(2,C.IOptionsService)],f)},9074:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.DecorationService=void 0;const h=l(8055),g=l(8460),p=l(844),m=l(6106);let w=0,C=0;class y extends p.Disposable{get decorations(){return this._decorations.values()}constructor(){super(),this._decorations=new m.SortedList(u=>u?.marker.line),this._onDecorationRegistered=this.register(new g.EventEmitter),this.onDecorationRegistered=this._onDecorationRegistered.event,this._onDecorationRemoved=this.register(new g.EventEmitter),this.onDecorationRemoved=this._onDecorationRemoved.event,this.register((0,p.toDisposable)(()=>this.reset()))}registerDecoration(u){if(u.marker.isDisposed)return;const d=new v(u);if(d){const _=d.marker.onDispose(()=>d.dispose());d.onDispose(()=>{d&&(this._decorations.delete(d)&&this._onDecorationRemoved.fire(d),_.dispose())}),this._decorations.insert(d),this._onDecorationRegistered.fire(d)}return d}reset(){for(const u of this._decorations.values())u.dispose();this._decorations.clear()}*getDecorationsAtCell(u,d,_){let R=0,E=0;for(const L of this._decorations.getKeyIterator(d))R=L.options.x??0,E=R+(L.options.width??1),u>=R&&u<E&&(!_||(L.options.layer??"bottom")===_)&&(yield L)}forEachDecorationAtCell(u,d,_,R){this._decorations.forEachByKey(d,E=>{w=E.options.x??0,C=w+(E.options.width??1),u>=w&&u<C&&(!_||(E.options.layer??"bottom")===_)&&R(E)})}}o.DecorationService=y;class v extends p.Disposable{get isDisposed(){return this._isDisposed}get backgroundColorRGB(){return this._cachedBg===null&&(this.options.backgroundColor?this._cachedBg=h.css.toColor(this.options.backgroundColor):this._cachedBg=void 0),this._cachedBg}get foregroundColorRGB(){return this._cachedFg===null&&(this.options.foregroundColor?this._cachedFg=h.css.toColor(this.options.foregroundColor):this._cachedFg=void 0),this._cachedFg}constructor(u){super(),this.options=u,this.onRenderEmitter=this.register(new g.EventEmitter),this.onRender=this.onRenderEmitter.event,this._onDispose=this.register(new g.EventEmitter),this.onDispose=this._onDispose.event,this._cachedBg=null,this._cachedFg=null,this.marker=u.marker,this.options.overviewRulerOptions&&!this.options.overviewRulerOptions.position&&(this.options.overviewRulerOptions.position="full")}dispose(){this._onDispose.fire(),super.dispose()}}},4348:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.InstantiationService=o.ServiceCollection=void 0;const h=l(2585),g=l(8343);class p{constructor(...w){this._entries=new Map;for(const[C,y]of w)this.set(C,y)}set(w,C){const y=this._entries.get(w);return this._entries.set(w,C),y}forEach(w){for(const[C,y]of this._entries.entries())w(C,y)}has(w){return this._entries.has(w)}get(w){return this._entries.get(w)}}o.ServiceCollection=p,o.InstantiationService=class{constructor(){this._services=new p,this._services.set(h.IInstantiationService,this)}setService(m,w){this._services.set(m,w)}getService(m){return this._services.get(m)}createInstance(m,...w){const C=(0,g.getServiceDependencies)(m).sort((f,u)=>f.index-u.index),y=[];for(const f of C){const u=this._services.get(f.id);if(!u)throw new Error(`[createInstance] ${m.name} depends on UNKNOWN service ${f.id}.`);y.push(u)}const v=C.length>0?C[0].index:w.length;if(w.length!==v)throw new Error(`[createInstance] First service dependency of ${m.name} at position ${v+1} conflicts with ${w.length} static arguments`);return new m(...w,...y)}}},7866:function(a,o,l){var h=this&&this.__decorate||function(v,f,u,d){var _,R=arguments.length,E=R<3?f:d===null?d=Object.getOwnPropertyDescriptor(f,u):d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")E=Reflect.decorate(v,f,u,d);else for(var L=v.length-1;L>=0;L--)(_=v[L])&&(E=(R<3?_(E):R>3?_(f,u,E):_(f,u))||E);return R>3&&E&&Object.defineProperty(f,u,E),E},g=this&&this.__param||function(v,f){return function(u,d){f(u,d,v)}};Object.defineProperty(o,"__esModule",{value:!0}),o.traceCall=o.setTraceLogger=o.LogService=void 0;const p=l(844),m=l(2585),w={trace:m.LogLevelEnum.TRACE,debug:m.LogLevelEnum.DEBUG,info:m.LogLevelEnum.INFO,warn:m.LogLevelEnum.WARN,error:m.LogLevelEnum.ERROR,off:m.LogLevelEnum.OFF};let C,y=o.LogService=class extends p.Disposable{get logLevel(){return this._logLevel}constructor(v){super(),this._optionsService=v,this._logLevel=m.LogLevelEnum.OFF,this._updateLogLevel(),this.register(this._optionsService.onSpecificOptionChange("logLevel",()=>this._updateLogLevel())),C=this}_updateLogLevel(){this._logLevel=w[this._optionsService.rawOptions.logLevel]}_evalLazyOptionalParams(v){for(let f=0;f<v.length;f++)typeof v[f]=="function"&&(v[f]=v[f]())}_log(v,f,u){this._evalLazyOptionalParams(u),v.call(console,(this._optionsService.options.logger?"":"xterm.js: ")+f,...u)}trace(v,...f){this._logLevel<=m.LogLevelEnum.TRACE&&this._log(this._optionsService.options.logger?.trace.bind(this._optionsService.options.logger)??console.log,v,f)}debug(v,...f){this._logLevel<=m.LogLevelEnum.DEBUG&&this._log(this._optionsService.options.logger?.debug.bind(this._optionsService.options.logger)??console.log,v,f)}info(v,...f){this._logLevel<=m.LogLevelEnum.INFO&&this._log(this._optionsService.options.logger?.info.bind(this._optionsService.options.logger)??console.info,v,f)}warn(v,...f){this._logLevel<=m.LogLevelEnum.WARN&&this._log(this._optionsService.options.logger?.warn.bind(this._optionsService.options.logger)??console.warn,v,f)}error(v,...f){this._logLevel<=m.LogLevelEnum.ERROR&&this._log(this._optionsService.options.logger?.error.bind(this._optionsService.options.logger)??console.error,v,f)}};o.LogService=y=h([g(0,m.IOptionsService)],y),o.setTraceLogger=function(v){C=v},o.traceCall=function(v,f,u){if(typeof u.value!="function")throw new Error("not supported");const d=u.value;u.value=function(..._){if(C.logLevel!==m.LogLevelEnum.TRACE)return d.apply(this,_);C.trace(`GlyphRenderer#${d.name}(${_.map(E=>JSON.stringify(E)).join(", ")})`);const R=d.apply(this,_);return C.trace(`GlyphRenderer#${d.name} return`,R),R}}},7302:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.OptionsService=o.DEFAULT_OPTIONS=void 0;const h=l(8460),g=l(844),p=l(6114);o.DEFAULT_OPTIONS={cols:80,rows:24,cursorBlink:!1,cursorStyle:"block",cursorWidth:1,cursorInactiveStyle:"outline",customGlyphs:!0,drawBoldTextInBrightColors:!0,documentOverride:null,fastScrollModifier:"alt",fastScrollSensitivity:5,fontFamily:"courier-new, courier, monospace",fontSize:15,fontWeight:"normal",fontWeightBold:"bold",ignoreBracketedPasteMode:!1,lineHeight:1,letterSpacing:0,linkHandler:null,logLevel:"info",logger:null,scrollback:1e3,scrollOnUserInput:!0,scrollSensitivity:1,screenReaderMode:!1,smoothScrollDuration:0,macOptionIsMeta:!1,macOptionClickForcesSelection:!1,minimumContrastRatio:1,disableStdin:!1,allowProposedApi:!1,allowTransparency:!1,tabStopWidth:8,theme:{},rescaleOverlappingGlyphs:!1,rightClickSelectsWord:p.isMac,windowOptions:{},windowsMode:!1,windowsPty:{},wordSeparator:" ()[]{}',\"`",altClickMovesCursor:!0,convertEol:!1,termName:"xterm",cancelEvents:!1,overviewRulerWidth:0};const m=["normal","bold","100","200","300","400","500","600","700","800","900"];class w extends g.Disposable{constructor(y){super(),this._onOptionChange=this.register(new h.EventEmitter),this.onOptionChange=this._onOptionChange.event;const v={...o.DEFAULT_OPTIONS};for(const f in y)if(f in v)try{const u=y[f];v[f]=this._sanitizeAndValidateOption(f,u)}catch(u){console.error(u)}this.rawOptions=v,this.options={...v},this._setupOptions(),this.register((0,g.toDisposable)(()=>{this.rawOptions.linkHandler=null,this.rawOptions.documentOverride=null}))}onSpecificOptionChange(y,v){return this.onOptionChange(f=>{f===y&&v(this.rawOptions[y])})}onMultipleOptionChange(y,v){return this.onOptionChange(f=>{y.indexOf(f)!==-1&&v()})}_setupOptions(){const y=f=>{if(!(f in o.DEFAULT_OPTIONS))throw new Error(`No option with key "${f}"`);return this.rawOptions[f]},v=(f,u)=>{if(!(f in o.DEFAULT_OPTIONS))throw new Error(`No option with key "${f}"`);u=this._sanitizeAndValidateOption(f,u),this.rawOptions[f]!==u&&(this.rawOptions[f]=u,this._onOptionChange.fire(f))};for(const f in this.rawOptions){const u={get:y.bind(this,f),set:v.bind(this,f)};Object.defineProperty(this.options,f,u)}}_sanitizeAndValidateOption(y,v){switch(y){case"cursorStyle":if(v||(v=o.DEFAULT_OPTIONS[y]),!function(f){return f==="block"||f==="underline"||f==="bar"}(v))throw new Error(`"${v}" is not a valid value for ${y}`);break;case"wordSeparator":v||(v=o.DEFAULT_OPTIONS[y]);break;case"fontWeight":case"fontWeightBold":if(typeof v=="number"&&1<=v&&v<=1e3)break;v=m.includes(v)?v:o.DEFAULT_OPTIONS[y];break;case"cursorWidth":v=Math.floor(v);case"lineHeight":case"tabStopWidth":if(v<1)throw new Error(`${y} cannot be less than 1, value: ${v}`);break;case"minimumContrastRatio":v=Math.max(1,Math.min(21,Math.round(10*v)/10));break;case"scrollback":if((v=Math.min(v,4294967295))<0)throw new Error(`${y} cannot be less than 0, value: ${v}`);break;case"fastScrollSensitivity":case"scrollSensitivity":if(v<=0)throw new Error(`${y} cannot be less than or equal to 0, value: ${v}`);break;case"rows":case"cols":if(!v&&v!==0)throw new Error(`${y} must be numeric, value: ${v}`);break;case"windowsPty":v=v??{}}return v}}o.OptionsService=w},2660:function(a,o,l){var h=this&&this.__decorate||function(w,C,y,v){var f,u=arguments.length,d=u<3?C:v===null?v=Object.getOwnPropertyDescriptor(C,y):v;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")d=Reflect.decorate(w,C,y,v);else for(var _=w.length-1;_>=0;_--)(f=w[_])&&(d=(u<3?f(d):u>3?f(C,y,d):f(C,y))||d);return u>3&&d&&Object.defineProperty(C,y,d),d},g=this&&this.__param||function(w,C){return function(y,v){C(y,v,w)}};Object.defineProperty(o,"__esModule",{value:!0}),o.OscLinkService=void 0;const p=l(2585);let m=o.OscLinkService=class{constructor(w){this._bufferService=w,this._nextId=1,this._entriesWithId=new Map,this._dataByLinkId=new Map}registerLink(w){const C=this._bufferService.buffer;if(w.id===void 0){const _=C.addMarker(C.ybase+C.y),R={data:w,id:this._nextId++,lines:[_]};return _.onDispose(()=>this._removeMarkerFromLink(R,_)),this._dataByLinkId.set(R.id,R),R.id}const y=w,v=this._getEntryIdKey(y),f=this._entriesWithId.get(v);if(f)return this.addLineToLink(f.id,C.ybase+C.y),f.id;const u=C.addMarker(C.ybase+C.y),d={id:this._nextId++,key:this._getEntryIdKey(y),data:y,lines:[u]};return u.onDispose(()=>this._removeMarkerFromLink(d,u)),this._entriesWithId.set(d.key,d),this._dataByLinkId.set(d.id,d),d.id}addLineToLink(w,C){const y=this._dataByLinkId.get(w);if(y&&y.lines.every(v=>v.line!==C)){const v=this._bufferService.buffer.addMarker(C);y.lines.push(v),v.onDispose(()=>this._removeMarkerFromLink(y,v))}}getLinkData(w){return this._dataByLinkId.get(w)?.data}_getEntryIdKey(w){return`${w.id};;${w.uri}`}_removeMarkerFromLink(w,C){const y=w.lines.indexOf(C);y!==-1&&(w.lines.splice(y,1),w.lines.length===0&&(w.data.id!==void 0&&this._entriesWithId.delete(w.key),this._dataByLinkId.delete(w.id)))}};o.OscLinkService=m=h([g(0,p.IBufferService)],m)},8343:(a,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.createDecorator=o.getServiceDependencies=o.serviceRegistry=void 0;const l="di$target",h="di$dependencies";o.serviceRegistry=new Map,o.getServiceDependencies=function(g){return g[h]||[]},o.createDecorator=function(g){if(o.serviceRegistry.has(g))return o.serviceRegistry.get(g);const p=function(m,w,C){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");(function(y,v,f){v[l]===v?v[h].push({id:y,index:f}):(v[h]=[{id:y,index:f}],v[l]=v)})(p,m,C)};return p.toString=()=>g,o.serviceRegistry.set(g,p),p}},2585:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.IDecorationService=o.IUnicodeService=o.IOscLinkService=o.IOptionsService=o.ILogService=o.LogLevelEnum=o.IInstantiationService=o.ICharsetService=o.ICoreService=o.ICoreMouseService=o.IBufferService=void 0;const h=l(8343);var g;o.IBufferService=(0,h.createDecorator)("BufferService"),o.ICoreMouseService=(0,h.createDecorator)("CoreMouseService"),o.ICoreService=(0,h.createDecorator)("CoreService"),o.ICharsetService=(0,h.createDecorator)("CharsetService"),o.IInstantiationService=(0,h.createDecorator)("InstantiationService"),function(p){p[p.TRACE=0]="TRACE",p[p.DEBUG=1]="DEBUG",p[p.INFO=2]="INFO",p[p.WARN=3]="WARN",p[p.ERROR=4]="ERROR",p[p.OFF=5]="OFF"}(g||(o.LogLevelEnum=g={})),o.ILogService=(0,h.createDecorator)("LogService"),o.IOptionsService=(0,h.createDecorator)("OptionsService"),o.IOscLinkService=(0,h.createDecorator)("OscLinkService"),o.IUnicodeService=(0,h.createDecorator)("UnicodeService"),o.IDecorationService=(0,h.createDecorator)("DecorationService")},1480:(a,o,l)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.UnicodeService=void 0;const h=l(8460),g=l(225);class p{static extractShouldJoin(w){return(1&w)!=0}static extractWidth(w){return w>>1&3}static extractCharKind(w){return w>>3}static createPropertyValue(w,C,y=!1){return(16777215&w)<<3|(3&C)<<1|(y?1:0)}constructor(){this._providers=Object.create(null),this._active="",this._onChange=new h.EventEmitter,this.onChange=this._onChange.event;const w=new g.UnicodeV6;this.register(w),this._active=w.version,this._activeProvider=w}dispose(){this._onChange.dispose()}get versions(){return Object.keys(this._providers)}get activeVersion(){return this._active}set activeVersion(w){if(!this._providers[w])throw new Error(`unknown Unicode version "${w}"`);this._active=w,this._activeProvider=this._providers[w],this._onChange.fire(w)}register(w){this._providers[w.version]=w}wcwidth(w){return this._activeProvider.wcwidth(w)}getStringCellWidth(w){let C=0,y=0;const v=w.length;for(let f=0;f<v;++f){let u=w.charCodeAt(f);if(55296<=u&&u<=56319){if(++f>=v)return C+this.wcwidth(u);const R=w.charCodeAt(f);56320<=R&&R<=57343?u=1024*(u-55296)+R-56320+65536:C+=this.wcwidth(R)}const d=this.charProperties(u,y);let _=p.extractWidth(d);p.extractShouldJoin(d)&&(_-=p.extractWidth(y)),C+=_,y=d}return C}charProperties(w,C){return this._activeProvider.charProperties(w,C)}}o.UnicodeService=p}},n={};function i(a){var o=n[a];if(o!==void 0)return o.exports;var l=n[a]={exports:{}};return r[a].call(l.exports,l,l.exports,i),l.exports}var s={};return(()=>{var a=s;Object.defineProperty(a,"__esModule",{value:!0}),a.Terminal=void 0;const o=i(9042),l=i(3236),h=i(844),g=i(5741),p=i(8285),m=i(7975),w=i(7090),C=["cols","rows"];class y extends h.Disposable{constructor(f){super(),this._core=this.register(new l.Terminal(f)),this._addonManager=this.register(new g.AddonManager),this._publicOptions={...this._core.options};const u=_=>this._core.options[_],d=(_,R)=>{this._checkReadonlyOptions(_),this._core.options[_]=R};for(const _ in this._core.options){const R={get:u.bind(this,_),set:d.bind(this,_)};Object.defineProperty(this._publicOptions,_,R)}}_checkReadonlyOptions(f){if(C.includes(f))throw new Error(`Option "${f}" can only be set in the constructor`)}_checkProposedApi(){if(!this._core.optionsService.rawOptions.allowProposedApi)throw new Error("You must set the allowProposedApi option to true to use proposed API")}get onBell(){return this._core.onBell}get onBinary(){return this._core.onBinary}get onCursorMove(){return this._core.onCursorMove}get onData(){return this._core.onData}get onKey(){return this._core.onKey}get onLineFeed(){return this._core.onLineFeed}get onRender(){return this._core.onRender}get onResize(){return this._core.onResize}get onScroll(){return this._core.onScroll}get onSelectionChange(){return this._core.onSelectionChange}get onTitleChange(){return this._core.onTitleChange}get onWriteParsed(){return this._core.onWriteParsed}get element(){return this._core.element}get parser(){return this._parser||(this._parser=new m.ParserApi(this._core)),this._parser}get unicode(){return this._checkProposedApi(),new w.UnicodeApi(this._core)}get textarea(){return this._core.textarea}get rows(){return this._core.rows}get cols(){return this._core.cols}get buffer(){return this._buffer||(this._buffer=this.register(new p.BufferNamespaceApi(this._core))),this._buffer}get markers(){return this._checkProposedApi(),this._core.markers}get modes(){const f=this._core.coreService.decPrivateModes;let u="none";switch(this._core.coreMouseService.activeProtocol){case"X10":u="x10";break;case"VT200":u="vt200";break;case"DRAG":u="drag";break;case"ANY":u="any"}return{applicationCursorKeysMode:f.applicationCursorKeys,applicationKeypadMode:f.applicationKeypad,bracketedPasteMode:f.bracketedPasteMode,insertMode:this._core.coreService.modes.insertMode,mouseTrackingMode:u,originMode:f.origin,reverseWraparoundMode:f.reverseWraparound,sendFocusMode:f.sendFocus,wraparoundMode:f.wraparound}}get options(){return this._publicOptions}set options(f){for(const u in f)this._publicOptions[u]=f[u]}blur(){this._core.blur()}focus(){this._core.focus()}input(f,u=!0){this._core.input(f,u)}resize(f,u){this._verifyIntegers(f,u),this._core.resize(f,u)}open(f){this._core.open(f)}attachCustomKeyEventHandler(f){this._core.attachCustomKeyEventHandler(f)}attachCustomWheelEventHandler(f){this._core.attachCustomWheelEventHandler(f)}registerLinkProvider(f){return this._core.registerLinkProvider(f)}registerCharacterJoiner(f){return this._checkProposedApi(),this._core.registerCharacterJoiner(f)}deregisterCharacterJoiner(f){this._checkProposedApi(),this._core.deregisterCharacterJoiner(f)}registerMarker(f=0){return this._verifyIntegers(f),this._core.registerMarker(f)}registerDecoration(f){return this._checkProposedApi(),this._verifyPositiveIntegers(f.x??0,f.width??0,f.height??0),this._core.registerDecoration(f)}hasSelection(){return this._core.hasSelection()}select(f,u,d){this._verifyIntegers(f,u,d),this._core.select(f,u,d)}getSelection(){return this._core.getSelection()}getSelectionPosition(){return this._core.getSelectionPosition()}clearSelection(){this._core.clearSelection()}selectAll(){this._core.selectAll()}selectLines(f,u){this._verifyIntegers(f,u),this._core.selectLines(f,u)}dispose(){super.dispose()}scrollLines(f){this._verifyIntegers(f),this._core.scrollLines(f)}scrollPages(f){this._verifyIntegers(f),this._core.scrollPages(f)}scrollToTop(){this._core.scrollToTop()}scrollToBottom(){this._core.scrollToBottom()}scrollToLine(f){this._verifyIntegers(f),this._core.scrollToLine(f)}clear(){this._core.clear()}write(f,u){this._core.write(f,u)}writeln(f,u){this._core.write(f),this._core.write(`\r
`,u)}paste(f){this._core.paste(f)}refresh(f,u){this._verifyIntegers(f,u),this._core.refresh(f,u)}reset(){this._core.reset()}clearTextureAtlas(){this._core.clearTextureAtlas()}loadAddon(f){this._addonManager.loadAddon(this,f)}static get strings(){return o}_verifyIntegers(...f){for(const u of f)if(u===1/0||isNaN(u)||u%1!=0)throw new Error("This API only accepts integers")}_verifyPositiveIntegers(...f){for(const u of f)if(u&&(u===1/0||isNaN(u)||u%1!=0||u<0))throw new Error("This API only accepts positive integers")}}a.Terminal=y})(),s})())})(p1);var xA=p1.exports,EA=xA,ih=G;document.head.innerHTML+=`<style>/**
 * Copyright (c) 2014 The xterm.js authors. All rights reserved.
 * Copyright (c) 2012-2013, Christopher Jeffrey (MIT License)
 * https://github.com/chjj/term.js
 * @license MIT
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 *
 * Originally forked from (with the author's permission):
 *   Fabrice Bellard's javascript vt100 for jslinux:
 *   http://bellard.org/jslinux/
 *   Copyright (c) 2011 Fabrice Bellard
 *   The original design remains. The terminal itself
 *   has been extended to include xterm CSI codes, among
 *   other features.
 */

/**
 *  Default styles for xterm.js
 */

.xterm {
    cursor: text;
    position: relative;
    user-select: none;
    -ms-user-select: none;
    -webkit-user-select: none;
}

.xterm.focus,
.xterm:focus {
    outline: none;
}

.xterm .xterm-helpers {
    position: absolute;
    top: 0;
    /**
     * The z-index of the helpers must be higher than the canvases in order for
     * IMEs to appear on top.
     */
    z-index: 5;
}

.xterm .xterm-helper-textarea {
    padding: 0;
    border: 0;
    margin: 0;
    /* Move textarea out of the screen to the far left, so that the cursor is not visible */
    position: absolute;
    opacity: 0;
    left: -9999em;
    top: 0;
    width: 0;
    height: 0;
    z-index: -5;
    /** Prevent wrapping so the IME appears against the textarea at the correct position */
    white-space: nowrap;
    overflow: hidden;
    resize: none;
}

.xterm .composition-view {
    /* TODO: Composition position got messed up somewhere */
    background: #000;
    color: #FFF;
    display: none;
    position: absolute;
    white-space: nowrap;
    z-index: 1;
}

.xterm .composition-view.active {
    display: block;
}

.xterm .xterm-viewport {
    /* On OS X this is required in order for the scroll bar to appear fully opaque */
    background-color: #000;
    overflow-y: scroll;
    cursor: default;
    position: absolute;
    right: 0;
    left: 0;
    top: 0;
    bottom: 0;
}

.xterm .xterm-screen {
    position: relative;
}

.xterm .xterm-screen canvas {
    position: absolute;
    left: 0;
    top: 0;
}

.xterm .xterm-scroll-area {
    visibility: hidden;
}

.xterm-char-measure-element {
    display: inline-block;
    visibility: hidden;
    position: absolute;
    top: 0;
    left: -9999em;
    line-height: normal;
}

.xterm.enable-mouse-events {
    /* When mouse events are enabled (eg. tmux), revert to the standard pointer cursor */
    cursor: default;
}

.xterm.xterm-cursor-pointer,
.xterm .xterm-cursor-pointer {
    cursor: pointer;
}

.xterm.column-select.focus {
    /* Column selection mode */
    cursor: crosshair;
}

.xterm .xterm-accessibility:not(.debug),
.xterm .xterm-message {
    position: absolute;
    left: 0;
    top: 0;
    bottom: 0;
    right: 0;
    z-index: 10;
    color: transparent;
    pointer-events: none;
}

.xterm .xterm-accessibility-tree:not(.debug) *::selection {
  color: transparent;
}

.xterm .xterm-accessibility-tree {
  user-select: text;
  white-space: pre;
}

.xterm .live-region {
    position: absolute;
    left: -9999px;
    width: 1px;
    height: 1px;
    overflow: hidden;
}

.xterm-dim {
    /* Dim should not apply to background, so the opacity of the foreground color is applied
     * explicitly in the generated class and reset to 1 here */
    opacity: 1 !important;
}

.xterm-underline-1 { text-decoration: underline; }
.xterm-underline-2 { text-decoration: double underline; }
.xterm-underline-3 { text-decoration: wavy underline; }
.xterm-underline-4 { text-decoration: dotted underline; }
.xterm-underline-5 { text-decoration: dashed underline; }

.xterm-overline {
    text-decoration: overline;
}

.xterm-overline.xterm-underline-1 { text-decoration: overline underline; }
.xterm-overline.xterm-underline-2 { text-decoration: overline double underline; }
.xterm-overline.xterm-underline-3 { text-decoration: overline wavy underline; }
.xterm-overline.xterm-underline-4 { text-decoration: overline dotted underline; }
.xterm-overline.xterm-underline-5 { text-decoration: overline dashed underline; }

.xterm-strikethrough {
    text-decoration: line-through;
}

.xterm-screen .xterm-decoration-container .xterm-decoration {
	z-index: 6;
	position: absolute;
}

.xterm-screen .xterm-decoration-container .xterm-decoration.xterm-decoration-top-layer {
	z-index: 7;
}

.xterm-decoration-overview-ruler {
    z-index: 8;
    position: absolute;
    top: 0;
    right: 0;
    pointer-events: none;
}

.xterm-decoration-top {
    z-index: 2;
    position: relative;
}
</style>`;function RA({options:e,addons:t,listeners:r}={}){const n=ih.useRef(null),[i,s]=ih.useState(null);return ih.useEffect(()=>{const a=new EA.Terminal({fontFamily:"operator mono,SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace",fontSize:14,theme:{background:"#101420"},cursorStyle:"underline",cursorBlink:!1,...e});return t&&t.forEach(o=>{a.loadAddon(o)}),r&&(r.onBinary&&a.onBinary(r.onBinary),r.onCursorMove&&a.onCursorMove(r.onCursorMove),r.onLineFeed&&a.onLineFeed(r.onLineFeed),r.onScroll&&a.onScroll(r.onScroll),r.onSelectionChange&&a.onSelectionChange(r.onSelectionChange),r.onRender&&a.onRender(r.onRender),r.onResize&&a.onResize(r.onResize),r.onTitleChange&&a.onTitleChange(r.onTitleChange),r.onKey&&a.onKey(r.onKey),r.onData&&a.onData(r.onData),r.customKeyEventHandler&&a.attachCustomKeyEventHandler(r.customKeyEventHandler)),n.current&&(a.open(n.current),a.focus()),s(a),()=>{a.dispose(),s(null)}},[n,e,t,r,r?.onBinary,r?.onCursorMove,r?.onData,r?.onKey,r?.onLineFeed,r?.onScroll,r?.onSelectionChange,r?.onRender,r?.onResize,r?.onTitleChange,r?.customKeyEventHandler]),{ref:n,instance:i}}var TA=RA;const xi={PROMPT:"> ",PROMPT_LENGTH:2},LA={fontFamily:'"Fira Code", Menlo, "DejaVu Sans Mono", "Lucida Console", monospace',cursorBlink:!0,cursorStyle:"block",cursorInactiveStyle:"outline",rows:50,theme:{foreground:"white",background:"#0007",cursor:"white",cursorAccent:"yellow",selectionForeground:"gray",selectionBackground:"black",black:"#0007",red:"#ff0000",green:"#00ff00",yellow:"#ffff00",blue:"#4444ff",magenta:"#ff00ff",cyan:"#00ffff",white:"#ffffff",brightBlack:"#808080",brightRed:"#ff0000",brightGreen:"#00ff00",brightYellow:"#ffff00",brightBlue:"#66aaff",brightMagenta:"#ff00ff",brightCyan:"#00ffff",brightWhite:"#ffffff"}},AA=({setLastTypedCharacter:e,isInSvgMode:t,writeOutputInternal:r})=>({handleCharacter:G.useCallback(i=>{localStorage.setItem("currentCharacter",i),e(null),(_s.value||ys.value)&&r("*")},[e,t,r])}),g1=G.createContext(null),up=()=>{const e=xn(()=>fu.value),t=G.useCallback(()=>{if(e.value.length<2)return{wpmAverage:0,charWpms:[]};const r=[];let n=0;for(let s=1;s<e.value.length;s++){const a=e.value[s],o=e.value[s-1];if(!a||!o)continue;const l=a.timestamp-o.timestamp,p=1/(l/6e4)/5;r.push({character:a.char,wpm:p,durationMilliseconds:l}),n+=p}return{wpmAverage:n/(e.value.length-1),charWpms:Object.freeze(r)}},[e]);return{addKeystroke:i1,getWPMs:t,clearKeystrokes:iA,keystrokeCount:e.value.length}},Xt=Vt({prefix:"useCommand"}),m1=()=>{const[e,t]=G.useState([]),[r,n]=G.useState([]),[i,s]=G.useState(-1),[a,o]=G.useState(null),l=xn(()=>Ne.value),{handleCommandExecuted:h,checkTutorialProgress:g}=f1(),p=up(),m=G.useContext(g1);if(m===void 0)throw new Error("useCommand must be used within a CommandProvider");G.useEffect(()=>{const _=G2();_&&_.length>0&&(Xt.debug("Loaded command history:",_),n(_))},[]);const w=G.useCallback(()=>{Xt.debug("Resetting output"),t([])},[]),C=G.useCallback(_=>{const R=typeof _=="string"?_:gd(_);Xt.debug("Adding to command history:",R),n(E=>{if(E.length>0&&E[E.length-1]===R)return E;const L=[...E,R].slice(-120);return V_(L),L})},[]),y=G.useCallback(()=>{const _=[],R=[];for(let E=0;E<localStorage.length;E++){const L=localStorage.key(E);L?.startsWith(Et.command+"_")&&_.push(L)}_.sort();for(const E of _){const L=localStorage.getItem(E);L&&R.push(L)}return Xt.debug("Retrieved command response history:",R),R},[]),v=G.useCallback((_,R,E,L,b)=>{const I=p.getWPMs();return Xt.debug("Creating command record:",{command:_,response:R,status:E}),{command:_,response:R,status:E,wpmAverage:I.wpmAverage,characterAverages:I.charWpms,commandTime:L,sensitive:b??!1}},[p]),f=G.useCallback((_,R)=>{Xt.debug("Processing command output:",{command:_,response:R});const E=new Date,L=v(_,R.message,R.status,E,R.sensitive??!1);og(L),C(_)},[v,C]),u=G.useCallback(async _=>{Xt.debug("Executing command:",_);const R=Nl.getCommand(_.command);if(R!=null&&m!=null)try{const E=await R.execute(m,_);Xt.debug("Command executed successfully:",E),f(_,E),h(_)}catch(E){const L=E instanceof Error?E.message:"Unknown error occurred";Xt.error("Command execution failed:",E),f(_,{status:500,message:L}),h(_)}else{const E=l.value===Ce.TUTORIAL?`Tutorial attempt: ${_.command}`:`Command not found: ${_.command}`;Xt.debug("Command not found:",{command:_.command,activity:l.value}),f(_,{status:404,message:E}),h(_)}},[m,f,h,l]),d=G.useCallback(async _=>{const R=l.value;if(Xt.debug("Handling command:",{parsedCommand:_,activity:R,timestamp:new Date().toISOString()}),sA(new Date),R===Ce.TUTORIAL){if(Xt.debug("Processing tutorial command:",{command:_.command,activity:R}),g(_.command),l.value!==R){Xt.debug("Activity changed during tutorial progress - skipping command execution");return}}else Xt.debug("Processing non-tutorial command:",{command:_.command,activity:R});await u(_),Xt.debug("Command handling complete:",{parsedCommand:_,activity:l.value,timestamp:new Date().toISOString()})},[l.value,u,g]);return{output:e,resetOutput:w,commandHistory:r,addToCommandHistory:C,getCommandResponseHistory:y,handleCommand:d,commandHistoryIndex:i,setCommandHistoryIndex:s,commandHistoryFilter:a,setCommandHistoryFilter:o,appendToOutput:og,executeCommand:u}},Ln=Vt({prefix:"useTerminal"}),MA=()=>{const{instance:e,ref:t}=TA({options:LA}),{handleCommand:r,commandHistory:n,commandHistoryIndex:i,setCommandHistoryIndex:s}=m1(),a=up(),o=xn(()=>ma.value),[l,h]=G.useState(""),g=G.useRef(new bA.FitAddon),p=G.useCallback(d=>{Ln.debug("Writing to terminal:",d),e?.write(d)},[e]),m=G.useCallback(()=>{if(e==null)return"";const d=e.buffer.active;let _="";for(let L=0;L<=d.cursorY;L++){const b=d.getLine(L);b!=null&&(_+=b.translateToString(!0))}const R=_.indexOf(xi.PROMPT)+xi.PROMPT_LENGTH,E=_.substring(R).trimStart();return Ln.debug("Getting current command:",E),E},[e]),w=G.useCallback(()=>{if(e==null)return;Ln.debug("Resetting prompt");const d=m();e.reset(),Kn(""),h(""),d.includes(xi.PROMPT)||e.write(xi.PROMPT),e.scrollToBottom()},[e,m]),C=G.useRef(null),y=d=>{C.current=d},{handleCharacter:v}=AA({setLastTypedCharacter:y,isInSvgMode:!1,writeOutputInternal:p}),f=G.useCallback(()=>{e!=null&&(Ln.debug("Clearing current line"),e.write("\x1B[2K\r"),e.write(xi.PROMPT))},[e]),u=G.useCallback(d=>{if(e==null||n.length===0)return;let _=i;if(d==="up"){if(_===-1){const E=m();E!=null&&(Kn(E),h(E))}_=_===-1?n.length-1:Math.max(0,_-1)}else if(_=_===-1?-1:Math.min(n.length-1,_+1),_===-1){f();const E=o.value;E!=null&&(e.write(E),Kn(E),h(E)),s(_);return}f();const R=n[_]??"";e.write(R),Kn(R),h(R),s(_)},[e,n,i,m,f,s,o,h]);return G.useEffect(()=>{e!=null&&(e.loadAddon(g.current),g.current.fit(),w())},[e,w]),G.useEffect(()=>{if(e==null)return;const d=(I,U)=>{switch(Ln.debug("Handling control character:",{data:I,cursorX:U}),I){case"":return Kn(""),h(""),K_(Ce.NORMAL),e?.write("^C"),w(),!0;case"\r":return _(),!0;case"":return R(U),!0;case"\x1B[D":return U>xi.PROMPT_LENGTH&&e?.write(I),!0;case"\x1B[A":return u("up"),!0;case"\x1B[B":return u("down"),!0;default:return!1}},_=()=>{if(e!=null){if(ys.value){const I=cl(["login",Uo.value,Qn.value].join(" "));r(I).catch(console.error),Jr(!1),sg(""),$l("")}else if(_s.value){const I=cl(["signup",Uo.value,vd.value,Qn.value].join(" "));r(I).catch(console.error),ul(!1),sg(""),$l(""),z_("")}else{const I=m();Ln.debug("Processing command:",I);const U=cl(I===""?"\r":I);Ln.debug("Parsed command:",U),e?.write(`\r
`),Kn(""),h(""),r(U).catch(console.error),a.clearKeystrokes()}s(-1),w()}},R=I=>{if(Ln.debug("Handling backspace:",{cursorX:I}),ys.value||_s.value)Qn.value.length>0&&(Qn.value=Qn.value.slice(0,-1),e?.write("\b \b"));else if(I>xi.PROMPT_LENGTH){e?.write("\b \b");const U=l.slice(0,-1);Kn(U),h(U)}},E=I=>{if(e==null)return;Ln.debug("Handling terminal data:",I);const U=e.buffer.active.cursorX;if(!d(I,U))if(ys.value||_s.value)Qn.value+=I,v(I);else{const W=l+I;e.write(I),Kn(W),h(W),i1(I)}},L=()=>{g.current.fit(),e.scrollToBottom()};window.addEventListener("resize",L);const b=e.onData(E);return()=>{window.removeEventListener("resize",L),b.dispose()}},[e,m,w,a,o,u,v,l,r,s]),{xtermRef:t,writeToTerminal:p,resetPrompt:w}},PA=({setOn:e})=>{const t=G.useRef(null);return G.useEffect(()=>{const r=t.current;if(r)return r.autoplay=!0,r.muted=!0,r.id="terminal-video",r.setAttribute("playsinline",""),r.setAttribute("webkit-playsinline",""),r.setAttribute("x5-playsinline",""),e?navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}}).then(n=>{r&&(r.srcObject=n)}).catch(n=>{console.error("Error accessing media devices:",n)}):r.srcObject&&(r.srcObject.getTracks().forEach(i=>i.stop()),r.srcObject=null),r.hidden=!e,()=>{r&&r.srcObject&&(r.srcObject.getTracks().forEach(i=>{i.stop(),i.enabled=!1}),r.srcObject=null)}},[e]),de("video",{ref:t,style:{width:"100%",height:"auto"},children:de("track",{kind:"captions",src:"",label:"No captions available"})})};var y1={},_1={},S1={};const OA=Fm(CC),IA=Fm(wC);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=OA,r=IA;function n(B,$){return l(B)||o(B,$)||s(B,$)||i()}function i(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function s(B,$){if(B){if(typeof B=="string")return a(B,$);var N={}.toString.call(B).slice(8,-1);return N==="Object"&&B.constructor&&(N=B.constructor.name),N==="Map"||N==="Set"?Array.from(B):N==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(N)?a(B,$):void 0}}function a(B,$){($==null||$>B.length)&&($=B.length);for(var N=0,z=Array($);N<$;N++)z[N]=B[N];return z}function o(B,$){var N=B==null?null:typeof Symbol<"u"&&B[Symbol.iterator]||B["@@iterator"];if(N!=null){var z,Q,V,M,P=[],O=!0,j=!1;try{if(V=(N=N.call(B)).next,$!==0)for(;!(O=(z=V.call(N)).done)&&(P.push(z.value),P.length!==$);O=!0);}catch(Z){j=!0,Q=Z}finally{try{if(!O&&N.return!=null&&(M=N.return(),Object(M)!==M))return}finally{if(j)throw Q}}return P}}function l(B){if(Array.isArray(B))return B}function h(B){"@babel/helpers - typeof";return h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},h(B)}function g(B,$){if(!(B instanceof $))throw new TypeError("Cannot call a class as a function")}function p(B,$){for(var N=0;N<$.length;N++){var z=$[N];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(B,w(z.key),z)}}function m(B,$,N){return $&&p(B.prototype,$),Object.defineProperty(B,"prototype",{writable:!1}),B}function w(B){var $=C(B,"string");return h($)=="symbol"?$:$+""}function C(B,$){if(h(B)!="object"||!B)return B;var N=B[Symbol.toPrimitive];if(N!==void 0){var z=N.call(B,$);if(h(z)!="object")return z;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(B)}var y={Bottom:4},v={readOnly:65,cursorWidth:20,fontInfo:32},f=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function u(B){return/\w/.test(B)||B>""&&(B.toUpperCase()!=B.toLowerCase()||f.test(B))}function d(B,$){if(!(this instanceof d))return new d(B,$);this.line=B,this.ch=$}function _(B,$,N){B.dispatch($,N)}function R(B){return function(){}}var E=function($,N){this.pos=this.start=0,this.string=$,this.tabSize=N||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0};E.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return this.pos==this.lineStart},peek:function(){return this.string.charAt(this.pos)||void 0},next:function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},eat:function($){var N=this.string.charAt(this.pos);if(typeof $=="string")var z=N==$;else var z=N&&($.test?$.test(N):$(N));if(z)return++this.pos,N},eatWhile:function($){for(var N=this.pos;this.eat($););return this.pos>N},eatSpace:function(){for(var $=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>$},skipToEnd:function(){this.pos=this.string.length},skipTo:function($){var N=this.string.indexOf($,this.pos);if(N>-1)return this.pos=N,!0},backUp:function($){this.pos-=$},column:function(){throw"not implemented"},indentation:function(){throw"not implemented"},match:function($,N,z){if(typeof $=="string"){var Q=function(O){return z?O.toLowerCase():O},V=this.string.substr(this.pos,$.length);if(Q(V)==Q($))return N!==!1&&(this.pos+=$.length),!0}else{var M=this.string.slice(this.pos).match($);return M&&M.index>0?null:(M&&N!==!1&&(this.pos+=M[0].length),M)}},current:function(){return this.string.slice(this.start,this.pos)},hideFirstChars:function($,N){this.lineStart+=$;try{return N()}finally{this.lineStart-=$}}};function L(B){return new d(B.lineNumber-1,B.column-1)}function b(B){return new t.Position(B.line+1,B.ch+1)}var I=function(){function B($,N,z,Q){g(this,B),this.cm=$,this.id=N,this.lineNumber=z+1,this.column=Q+1,$.marks[this.id]=this}return m(B,[{key:"clear",value:function(){delete this.cm.marks[this.id]}},{key:"find",value:function(){return L(this)}}])}();function U(B){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,N=!0,z=t.KeyCode[B.keyCode];B.key&&(z=B.key,N=!1);var Q=z,V=$;switch(B.keyCode){case t.KeyCode.Shift:case t.KeyCode.Meta:case t.KeyCode.Alt:case t.KeyCode.Ctrl:return Q;case t.KeyCode.Escape:V=!0,Q="Esc";break;case t.KeyCode.Space:V=!0;break}return z.startsWith("Key")||z.startsWith("KEY_")?Q=z[z.length-1].toLowerCase():z.startsWith("Digit")?Q=z.slice(5,6):z.startsWith("Numpad")?Q=z.slice(6,7):z.endsWith("Arrow")?(V=!0,Q=z.substring(0,z.length-5)):(z.startsWith("US_")||z.startsWith("Bracket")||!Q)&&(Q=B.browserEvent.key),!V&&!B.altKey&&!B.ctrlKey&&!B.metaKey?Q=B.key||B.browserEvent.key:(B.altKey&&(Q="Alt-".concat(Q)),B.ctrlKey&&(Q="Ctrl-".concat(Q)),B.metaKey&&(Q="Meta-".concat(Q)),B.shiftKey&&(Q="Shift-".concat(Q))),Q.length===1&&N&&(Q="'".concat(Q,"'")),Q}var W=function(){function B($){g(this,B),Y.call(this),this.editor=$,this.state={keyMap:"vim"},this.marks={},this.$uid=0,this.disposables=[],this.listeners={},this.curOp={},this.attached=!1,this.statusBar=null,this.options={},this.addLocalListeners(),this.ctxInsert=this.editor.createContextKey("insertMode",!0)}return m(B,[{key:"attach",value:function(){B.keyMap.vim.attach(this)}},{key:"addLocalListeners",value:function(){this.disposables.push(this.editor.onDidChangeCursorPosition(this.handleCursorChange),this.editor.onDidChangeModelContent(this.handleChange),this.editor.onKeyDown(this.handleKeyDown))}},{key:"handleReplaceMode",value:function(N,z){var Q=!1,V=N,M=this.editor.getPosition(),P=new t.Range(M.lineNumber,M.column,M.lineNumber,M.column+1),O=!0;if(N.startsWith("'"))V=N[1];else if(V==="Enter")V=`
`;else if(V==="Backspace"){var j=this.replaceStack.pop();if(!j)return;Q=!0,V=j,P=new t.Range(M.lineNumber,M.column,M.lineNumber,M.column-1)}else return;z.preventDefault(),z.stopPropagation(),this.replaceStack||(this.replaceStack=[]),Q||this.replaceStack.push(this.editor.getModel().getValueInRange(P)),this.editor.executeEdits("vim",[{text:V,range:P,forceMoveMarkers:O}]),Q&&this.editor.setPosition(P.getStartPosition())}},{key:"setOption",value:function(N,z){this.state[N]=z,N==="theme"&&t.editor.setTheme(z)}},{key:"getConfiguration",value:function(){var N=this.editor,z=v;return typeof N.getConfiguration=="function"?N.getConfiguration():("EditorOption"in t.editor&&(z=t.editor.EditorOption),{readOnly:N.getOption(z.readOnly),viewInfo:{cursorWidth:N.getOption(z.cursorWidth)},fontInfo:N.getOption(z.fontInfo)})}},{key:"getOption",value:function(N){return N==="readOnly"?this.getConfiguration().readOnly:N==="firstLineNumber"?this.firstLine()+1:N==="indentWithTabs"?!this.editor.getModel().getOptions().insertSpaces:typeof this.editor.getConfiguration=="function"?this.editor.getRawConfiguration()[N]:this.editor.getRawOptions()[N]}},{key:"dispatch",value:function(N){for(var z=arguments.length,Q=new Array(z>1?z-1:0),V=1;V<z;V++)Q[V-1]=arguments[V];var M=this.listeners[N];M&&M.forEach(function(P){return P.apply(void 0,Q)})}},{key:"on",value:function(N,z){this.listeners[N]||(this.listeners[N]=[]),this.listeners[N].push(z)}},{key:"off",value:function(N,z){var Q=this.listeners[N];Q&&(this.listeners[N]=Q.filter(function(V){return V!==z}))}},{key:"firstLine",value:function(){return 0}},{key:"lastLine",value:function(){return this.lineCount()-1}},{key:"lineCount",value:function(){return this.editor.getModel().getLineCount()}},{key:"defaultTextHeight",value:function(){return 1}},{key:"getLine",value:function(N){if(N<0)return"";var z=this.editor.getModel(),Q=z.getLineCount();return N+1>Q&&(N=Q-1),this.editor.getModel().getLineContent(N+1)}},{key:"getAnchorForSelection",value:function(N){if(N.isEmpty())return N.getPosition();var z=N.getDirection();return z===t.SelectionDirection.LTR?N.getStartPosition():N.getEndPosition()}},{key:"getHeadForSelection",value:function(N){if(N.isEmpty())return N.getPosition();var z=N.getDirection();return z===t.SelectionDirection.LTR?N.getEndPosition():N.getStartPosition()}},{key:"getCursor",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;if(!N)return L(this.editor.getPosition());var z=this.editor.getSelection(),Q;return z.isEmpty()?Q=z.getPosition():N==="anchor"?Q=this.getAnchorForSelection(z):Q=this.getHeadForSelection(z),L(Q)}},{key:"getRange",value:function(N,z){var Q=b(N),V=b(z);return this.editor.getModel().getValueInRange(t.Range.fromPositions(Q,V))}},{key:"getSelection",value:function(){var N=[],z=this.editor;return z.getSelections().map(function(Q){N.push(z.getModel().getValueInRange(Q))}),N.join(`
`)}},{key:"replaceRange",value:function(N,z,Q){var V=b(z),M=Q?b(Q):V;this.editor.executeEdits("vim",[{text:N,range:t.Range.fromPositions(V,M)}]),this.pushUndoStop()}},{key:"pushUndoStop",value:function(){this.editor.pushUndoStop()}},{key:"setCursor",value:function(N,z){var Q=N;h(N)!=="object"&&(Q={},Q.line=N,Q.ch=z);var V=this.editor.getModel().validatePosition(b(Q));this.editor.setPosition(b(Q)),this.editor.revealPosition(V)}},{key:"somethingSelected",value:function(){return!this.editor.getSelection().isEmpty()}},{key:"operation",value:function(N,z){return N()}},{key:"listSelections",value:function(){var N=this,z=this.editor.getSelections();return!z.length||this.inVirtualSelectionMode?[{anchor:this.getCursor("anchor"),head:this.getCursor("head")}]:z.map(function(Q){return Q.getPosition(),Q.getStartPosition(),Q.getEndPosition(),{anchor:N.clipPos(L(N.getAnchorForSelection(Q))),head:N.clipPos(L(N.getHeadForSelection(Q)))}})}},{key:"focus",value:function(){this.editor.focus()}},{key:"setSelections",value:function(N,z){var Q=!!this.editor.getSelections().length,V=N.map(function(O,j){var Z=O.anchor,re=O.head;return Q?t.Selection.fromPositions(b(Z),b(re)):t.Selection.fromPositions(b(re),b(Z))});if(z&&V[z]&&V.push(V.splice(z,1)[0]),!!V.length){var M=V[0],P;M.getDirection()===t.SelectionDirection.LTR?P=M.getEndPosition():P=M.getStartPosition(),this.editor.setSelections(V),this.editor.revealPosition(P)}}},{key:"setSelection",value:function(N,z){var Q=t.Range.fromPositions(b(N),b(z));this.editor.setSelection(Q)}},{key:"getSelections",value:function(){var N=this.editor;return N.getSelections().map(function(z){return N.getModel().getValueInRange(z)})}},{key:"replaceSelections",value:function(N){var z=this.editor;z.getSelections().forEach(function(Q,V){z.executeEdits("vim",[{range:Q,text:N[V],forceMoveMarkers:!1}])})}},{key:"toggleOverwrite",value:function(N){N?(this.enterVimMode(),this.replaceMode=!0):(this.leaveVimMode(),this.replaceMode=!1,this.replaceStack=[])}},{key:"charCoords",value:function(N,z){return{top:N.line,left:N.ch}}},{key:"coordsChar",value:function(N,z){}},{key:"clipPos",value:function(N){var z=this.editor.getModel().validatePosition(b(N));return L(z)}},{key:"setBookmark",value:function(N,z){var Q=new I(this,this.$uid++,N.line,N.ch);return(!z||!z.insertLeft)&&(Q.$insertRight=!0),this.marks[Q.id]=Q,Q}},{key:"getScrollInfo",value:function(){var N=this.editor,z=N.getVisibleRanges(),Q=n(z,1),V=Q[0];return{left:0,top:V.startLineNumber-1,height:N.getModel().getLineCount(),clientHeight:V.endLineNumber-V.startLineNumber+1}}},{key:"triggerEditorAction",value:function(N){this.editor.trigger("vim",N)}},{key:"dispose",value:function(){this.dispatch("dispose"),this.removeOverlay(),B.keyMap.vim&&B.keyMap.vim.detach(this),this.disposables.forEach(function(N){return N.dispose()})}},{key:"getInputField",value:function(){}},{key:"getWrapperElement",value:function(){}},{key:"enterVimMode",value:function(){this.ctxInsert.set(!1);var N=this.getConfiguration();this.initialCursorWidth=N.viewInfo.cursorWidth||0,this.editor.updateOptions({cursorWidth:N.fontInfo.typicalFullwidthCharacterWidth,cursorBlinking:"solid",cursorStyle:"block"})}},{key:"leaveVimMode",value:function(){this.ctxInsert.set(!0),this.editor.updateOptions({cursorWidth:this.initialCursorWidth||0,cursorBlinking:"blink",cursorStyle:"line"})}},{key:"virtualSelectionMode",value:function(){return this.inVirtualSelectionMode}},{key:"markText",value:function(){return{clear:function(){},find:function(){}}}},{key:"getUserVisibleLines",value:function(){var N=this.editor.getVisibleRanges();if(!N.length)return{top:0,bottom:0};var z={top:1/0,bottom:0};return N.reduce(function(Q,V){return V.startLineNumber<Q.top&&(Q.top=V.startLineNumber),V.endLineNumber>Q.bottom&&(Q.bottom=V.endLineNumber),Q},z),z.top-=1,z.bottom-=1,z}},{key:"findPosV",value:function(N,z,Q){var V=this.editor,M=z,P=Q,O=b(N);if(Q==="page"){var j=V.getLayoutInfo().height,Z=this.getConfiguration().fontInfo.lineHeight;M=M*Math.floor(j/Z),P="line"}return P==="line"&&(O.lineNumber+=M),L(O)}},{key:"findMatchingBracket",value:function(N){var z=b(N),Q=this.editor.getModel(),V;if(Q.bracketPairs)V=Q.bracketPairs.matchBracket(z);else{var M;V=(M=Q.matchBracket)===null||M===void 0?void 0:M.call(Q,z)}return!V||V.length!==2?{to:null}:{to:L(V[1].getStartPosition())}}},{key:"findFirstNonWhiteSpaceCharacter",value:function(N){return this.editor.getModel().getLineFirstNonWhitespaceColumn(N+1)-1}},{key:"scrollTo",value:function(N,z){!N&&!z||N||(z<0&&(z=this.editor.getPosition().lineNumber-z),this.editor.setScrollTop(this.editor.getTopForLineNumber(z+1)))}},{key:"moveCurrentLineTo",value:function(N){var z,Q=this.editor,V=Q.getPosition(),M=t.Range.fromPositions(V,V);switch(N){case"top":Q.revealRangeAtTop(M);return;case"center":Q.revealRangeInCenter(M);return;case"bottom":(z=Q._revealRange)===null||z===void 0||z.call(Q,M,y.Bottom);return}}},{key:"getSearchCursor",value:function(N,z){var Q=!1,V=!1;N instanceof RegExp&&!N.global&&(Q=!N.ignoreCase,N=N.source,V=!0),z.ch==null&&(z.ch=Number.MAX_VALUE);var M=b(z),P=this,O=this.editor,j=null,Z=O.getModel(),re=Z.findMatches(N,!1,V,Q)||[];return{getMatches:function(){return re},findNext:function(){return this.find(!1)},findPrevious:function(){return this.find(!0)},jumpTo:function(ue){if(!re||!re.length)return!1;var X=re[ue];return j=X.range,P.highlightRanges([j],"currentFindMatch"),P.highlightRanges(re.map(function(D){return D.range}).filter(function(D){return!D.equalsRange(j)})),j},find:function(ue){if(!re||!re.length)return!1;var X;if(ue){var D=j?j.getStartPosition():M;if(X=Z.findPreviousMatch(N,D,V,Q),!X||!X.range.getStartPosition().isBeforeOrEqual(D))return!1}else{var te=j?Z.getPositionAt(Z.getOffsetAt(j.getEndPosition())+1):M;if(X=Z.findNextMatch(N,te,V,Q),!X||!te.isBeforeOrEqual(X.range.getStartPosition()))return!1}return j=X.range,P.highlightRanges([j],"currentFindMatch"),P.highlightRanges(re.map(function(ie){return ie.range}).filter(function(ie){return!ie.equalsRange(j)})),j},from:function(){return j&&L(j.getStartPosition())},to:function(){return j&&L(j.getEndPosition())},replace:function(ue){j&&(O.executeEdits("vim",[{range:j,text:ue,forceMoveMarkers:!0}],function(X){var D=X[0].range,te=D.endLineNumber,ie=D.endColumn;j=j.setEndPosition(te,ie)}),O.setPosition(j.getStartPosition()))}}}},{key:"highlightRanges",value:function(N){var z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"findMatch",Q="decoration".concat(z);return this[Q]=this.editor.deltaDecorations(this[Q]||[],N.map(function(V){return{range:V,options:{stickiness:t.editor.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,zIndex:13,className:z,showIfCollapsed:!0}}})),this[Q]}},{key:"addOverlay",value:function(N,z,Q){var V=N.query,M=!1,P=!1;V&&V instanceof RegExp&&!V.global&&(P=!0,M=!V.ignoreCase,V=V.source);var O=this.editor.getModel().findNextMatch(V,this.editor.getPosition(),P,M);!O||!O.range||this.highlightRanges([O.range])}},{key:"removeOverlay",value:function(){var N=this;["currentFindMatch","findMatch"].forEach(function(z){N.editor.deltaDecorations(N["decoration".concat(z)]||[],[])})}},{key:"scrollIntoView",value:function(N){N&&this.editor.revealPosition(b(N))}},{key:"moveH",value:function(N,z){if(z==="char"){var Q=this.editor.getPosition();this.editor.setPosition(new t.Position(Q.lineNumber,Q.column+N))}}},{key:"scanForBracket",value:function(N,z,Q,V){for(var M=V.bracketRegex,P=b(N),O=this.editor.getModel(),j=(z===-1?O.findPreviousMatch:O.findNextMatch).bind(O),Z=[],re=0;;){if(re>10)return;var le=j(M.source,P,!0,!0,null,!0),ue=le.matches[0];if(le===void 0)return;var X=B.matchingBrackets[ue];if(X&&X.charAt(1)===">"==z>0)Z.push(ue);else if(Z.length===0){var D=le.range.getStartPosition();return{pos:L(D)}}else Z.pop();P=O.getPositionAt(O.getOffsetAt(le.range.getStartPosition())+z),re+=1}}},{key:"indexFromPos",value:function(N){return this.editor.getModel().getOffsetAt(b(N))}},{key:"posFromIndex",value:function(N){return L(this.editor.getModel().getPositionAt(N))}},{key:"indentLine",value:function(N){var z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,Q=this.editor,V;Q._getViewModel?V=Q._getViewModel().cursorConfig:V=Q._getCursors().context.config;var M=new t.Position(N+1,1),P=t.Selection.fromPositions(M,M);Q.executeCommand("vim",new r.ShiftCommand(P,{isUnshift:!z,tabSize:V.tabSize,indentSize:V.indentSize,insertSpaces:V.insertSpaces,useTabStops:V.useTabStops,autoIndent:V.autoIndent}))}},{key:"setStatusBar",value:function(N){this.statusBar=N}},{key:"openDialog",value:function(N,z,Q){if(this.statusBar)return this.statusBar.setSec(N,z,Q)}},{key:"openNotification",value:function(N){this.statusBar&&this.statusBar.showNotification(N)}},{key:"smartIndent",value:function(){this.editor.getAction("editor.action.formatSelection").run()}},{key:"moveCursorTo",value:function(N){var z=this.editor.getPosition();N==="start"?z.column=1:N==="end"&&(z.column=this.editor.getModel().getLineMaxColumn(z.lineNumber)),this.editor.setPosition(z)}},{key:"execCommand",value:function(N){switch(N){case"goLineLeft":this.moveCursorTo("start");break;case"goLineRight":this.moveCursorTo("end");break;case"indentAuto":this.smartIndent();break}}}])}();W.Pos=d,W.signal=_,W.on=R(),W.off=R(),W.addClass=R(),W.rmClass=R(),W.defineOption=R(),W.keyMap={default:function($){return function(N){return!0}}},W.matchingBrackets={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<","<":">>",">":"<<"},W.isWordChar=u,W.keyName=U,W.StringStream=E,W.e_stop=function(B){return B.stopPropagation?B.stopPropagation():B.cancelBubble=!0,W.e_preventDefault(B),!1},W.e_preventDefault=function(B){return B.preventDefault?(B.preventDefault(),B.browserEvent&&B.browserEvent.preventDefault()):B.returnValue=!1,!1},W.commands={redo:function($){$.editor.getModel().redo()},undo:function($){$.editor.getModel().undo()},newlineAndIndent:function($){$.triggerEditorAction("editor.action.insertLineAfter")}},W.lookupKey=function B($,N,z){typeof N=="string"&&(N=W.keyMap[N]);var Q=typeof N=="function"?N($):N[$];if(Q===!1)return"nothing";if(Q==="...")return"multi";if(Q!=null&&z(Q))return"handled";if(N.fallthrough){if(!Array.isArray(N.fallthrough))return B($,N.fallthrough,z);for(var V=0;V<N.fallthrough.length;V++){var M=B($,N.fallthrough[V],z);if(M)return M}}},W.defineExtension=function(B,$){W.prototype[B]=$};var Y=function(){var $=this;this.handleKeyDown=function(N){if(!(N.browserEvent.defaultPrevented&N.keyCode!==t.KeyCode.Escape)&&$.attached){var z=U(N);if($.replaceMode&&$.handleReplaceMode(z,N),!!z){var Q=$.state.keyMap;if(W.keyMap[Q]&&W.keyMap[Q].call){var V=W.keyMap[Q].call(z,$);if(V){N.preventDefault(),N.stopPropagation();try{V()}catch(M){console.error(M)}}}}}},this.handleCursorChange=function(N){var z=N.position;N.source;var Q=$.editor,V=Q.getSelection();if(!$.ctxInsert.get()&&N.source==="mouse"&&V.isEmpty()){var M=Q.getModel().getLineMaxColumn(z.lineNumber);if(N.position.column===M){Q.setPosition(new t.Position(N.position.lineNumber,M-1));return}}$.dispatch("cursorActivity",$,N)},this.handleChange=function(N){var z=N.changes,Q={text:z.reduce(function(M,P){return M.push(P.text),M},[]),origin:"+input"},V=$.curOp=$.curOp||{};V.changeHandlers||(V.changeHandlers=$.listeners.change&&$.listeners.change.slice()),!$.virtualSelectionMode()&&(V.lastChange?V.lastChange.next=V.lastChange=Q:V.lastChange=V.change=Q,$.dispatch("change",$,Q))}};e.default=W})(S1);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.Vim=void 0;var t=r(S1);function r(g){return g&&g.__esModule?g:{default:g}}function n(g){"@babel/helpers - typeof";return n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},n(g)}var i=t.default.Pos;function s(g,p){var m=g.state.vim;if(!m||m.insertMode)return p.head;var w=m.sel.head;if(!w)return p.head;if(!(m.visualBlock&&p.head.line!=w.line))return p.from()==p.anchor&&!p.empty()&&p.head.line==w.line&&p.head.ch!=w.ch?new i(p.head.line,p.head.ch-1):p.head}var a=[{keys:"<Left>",type:"keyToKey",toKeys:"h"},{keys:"<Right>",type:"keyToKey",toKeys:"l"},{keys:"<Up>",type:"keyToKey",toKeys:"k"},{keys:"<Down>",type:"keyToKey",toKeys:"j"},{keys:"g<Up>",type:"keyToKey",toKeys:"gk"},{keys:"g<Down>",type:"keyToKey",toKeys:"gj"},{keys:"<Space>",type:"keyToKey",toKeys:"l"},{keys:"<BS>",type:"keyToKey",toKeys:"h",context:"normal"},{keys:"<Del>",type:"keyToKey",toKeys:"x",context:"normal"},{keys:"<C-Space>",type:"keyToKey",toKeys:"W"},{keys:"<C-BS>",type:"keyToKey",toKeys:"B",context:"normal"},{keys:"<S-Space>",type:"keyToKey",toKeys:"w"},{keys:"<S-BS>",type:"keyToKey",toKeys:"b",context:"normal"},{keys:"<C-n>",type:"keyToKey",toKeys:"j"},{keys:"<C-p>",type:"keyToKey",toKeys:"k"},{keys:"<C-[>",type:"keyToKey",toKeys:"<Esc>"},{keys:"<C-c>",type:"keyToKey",toKeys:"<Esc>"},{keys:"<C-[>",type:"keyToKey",toKeys:"<Esc>",context:"insert"},{keys:"<C-c>",type:"keyToKey",toKeys:"<Esc>",context:"insert"},{keys:"s",type:"keyToKey",toKeys:"cl",context:"normal"},{keys:"s",type:"keyToKey",toKeys:"c",context:"visual"},{keys:"S",type:"keyToKey",toKeys:"cc",context:"normal"},{keys:"S",type:"keyToKey",toKeys:"VdO",context:"visual"},{keys:"<Home>",type:"keyToKey",toKeys:"0"},{keys:"<End>",type:"keyToKey",toKeys:"$"},{keys:"<PageUp>",type:"keyToKey",toKeys:"<C-b>"},{keys:"<PageDown>",type:"keyToKey",toKeys:"<C-f>"},{keys:"<CR>",type:"keyToKey",toKeys:"j^",context:"normal"},{keys:"<Ins>",type:"keyToKey",toKeys:"i",context:"normal"},{keys:"<Ins>",type:"action",action:"toggleOverwrite",context:"insert"},{keys:"H",type:"motion",motion:"moveToTopLine",motionArgs:{linewise:!0,toJumplist:!0}},{keys:"M",type:"motion",motion:"moveToMiddleLine",motionArgs:{linewise:!0,toJumplist:!0}},{keys:"L",type:"motion",motion:"moveToBottomLine",motionArgs:{linewise:!0,toJumplist:!0}},{keys:"h",type:"motion",motion:"moveByCharacters",motionArgs:{forward:!1}},{keys:"l",type:"motion",motion:"moveByCharacters",motionArgs:{forward:!0}},{keys:"j",type:"motion",motion:"moveByLines",motionArgs:{forward:!0,linewise:!0}},{keys:"k",type:"motion",motion:"moveByLines",motionArgs:{forward:!1,linewise:!0}},{keys:"gj",type:"motion",motion:"moveByDisplayLines",motionArgs:{forward:!0}},{keys:"gk",type:"motion",motion:"moveByDisplayLines",motionArgs:{forward:!1}},{keys:"w",type:"motion",motion:"moveByWords",motionArgs:{forward:!0,wordEnd:!1}},{keys:"W",type:"motion",motion:"moveByWords",motionArgs:{forward:!0,wordEnd:!1,bigWord:!0}},{keys:"e",type:"motion",motion:"moveByWords",motionArgs:{forward:!0,wordEnd:!0,inclusive:!0}},{keys:"E",type:"motion",motion:"moveByWords",motionArgs:{forward:!0,wordEnd:!0,bigWord:!0,inclusive:!0}},{keys:"b",type:"motion",motion:"moveByWords",motionArgs:{forward:!1,wordEnd:!1}},{keys:"B",type:"motion",motion:"moveByWords",motionArgs:{forward:!1,wordEnd:!1,bigWord:!0}},{keys:"ge",type:"motion",motion:"moveByWords",motionArgs:{forward:!1,wordEnd:!0,inclusive:!0}},{keys:"gE",type:"motion",motion:"moveByWords",motionArgs:{forward:!1,wordEnd:!0,bigWord:!0,inclusive:!0}},{keys:"{",type:"motion",motion:"moveByParagraph",motionArgs:{forward:!1,toJumplist:!0}},{keys:"}",type:"motion",motion:"moveByParagraph",motionArgs:{forward:!0,toJumplist:!0}},{keys:"(",type:"motion",motion:"moveBySentence",motionArgs:{forward:!1}},{keys:")",type:"motion",motion:"moveBySentence",motionArgs:{forward:!0}},{keys:"<C-f>",type:"motion",motion:"moveByPage",motionArgs:{forward:!0}},{keys:"<C-b>",type:"motion",motion:"moveByPage",motionArgs:{forward:!1}},{keys:"<C-d>",type:"motion",motion:"moveByScroll",motionArgs:{forward:!0,explicitRepeat:!0}},{keys:"<C-u>",type:"motion",motion:"moveByScroll",motionArgs:{forward:!1,explicitRepeat:!0}},{keys:"gg",type:"motion",motion:"moveToLineOrEdgeOfDocument",motionArgs:{forward:!1,explicitRepeat:!0,linewise:!0,toJumplist:!0}},{keys:"G",type:"motion",motion:"moveToLineOrEdgeOfDocument",motionArgs:{forward:!0,explicitRepeat:!0,linewise:!0,toJumplist:!0}},{keys:"g$",type:"motion",motion:"moveToEndOfDisplayLine"},{keys:"g^",type:"motion",motion:"moveToStartOfDisplayLine"},{keys:"g0",type:"motion",motion:"moveToStartOfDisplayLine"},{keys:"0",type:"motion",motion:"moveToStartOfLine"},{keys:"^",type:"motion",motion:"moveToFirstNonWhiteSpaceCharacter"},{keys:"+",type:"motion",motion:"moveByLines",motionArgs:{forward:!0,toFirstChar:!0}},{keys:"-",type:"motion",motion:"moveByLines",motionArgs:{forward:!1,toFirstChar:!0}},{keys:"_",type:"motion",motion:"moveByLines",motionArgs:{forward:!0,toFirstChar:!0,repeatOffset:-1}},{keys:"$",type:"motion",motion:"moveToEol",motionArgs:{inclusive:!0}},{keys:"%",type:"motion",motion:"moveToMatchedSymbol",motionArgs:{inclusive:!0,toJumplist:!0}},{keys:"f<character>",type:"motion",motion:"moveToCharacter",motionArgs:{forward:!0,inclusive:!0}},{keys:"F<character>",type:"motion",motion:"moveToCharacter",motionArgs:{forward:!1}},{keys:"t<character>",type:"motion",motion:"moveTillCharacter",motionArgs:{forward:!0,inclusive:!0}},{keys:"T<character>",type:"motion",motion:"moveTillCharacter",motionArgs:{forward:!1}},{keys:";",type:"motion",motion:"repeatLastCharacterSearch",motionArgs:{forward:!0}},{keys:",",type:"motion",motion:"repeatLastCharacterSearch",motionArgs:{forward:!1}},{keys:"'<character>",type:"motion",motion:"goToMark",motionArgs:{toJumplist:!0,linewise:!0}},{keys:"`<character>",type:"motion",motion:"goToMark",motionArgs:{toJumplist:!0}},{keys:"]`",type:"motion",motion:"jumpToMark",motionArgs:{forward:!0}},{keys:"[`",type:"motion",motion:"jumpToMark",motionArgs:{forward:!1}},{keys:"]'",type:"motion",motion:"jumpToMark",motionArgs:{forward:!0,linewise:!0}},{keys:"['",type:"motion",motion:"jumpToMark",motionArgs:{forward:!1,linewise:!0}},{keys:"]p",type:"action",action:"paste",isEdit:!0,actionArgs:{after:!0,isEdit:!0,matchIndent:!0}},{keys:"[p",type:"action",action:"paste",isEdit:!0,actionArgs:{after:!1,isEdit:!0,matchIndent:!0}},{keys:"]<character>",type:"motion",motion:"moveToSymbol",motionArgs:{forward:!0,toJumplist:!0}},{keys:"[<character>",type:"motion",motion:"moveToSymbol",motionArgs:{forward:!1,toJumplist:!0}},{keys:"|",type:"motion",motion:"moveToColumn"},{keys:"o",type:"motion",motion:"moveToOtherHighlightedEnd",context:"visual"},{keys:"O",type:"motion",motion:"moveToOtherHighlightedEnd",motionArgs:{sameLine:!0},context:"visual"},{keys:"d",type:"operator",operator:"delete"},{keys:"y",type:"operator",operator:"yank"},{keys:"c",type:"operator",operator:"change"},{keys:"=",type:"operator",operator:"indentAuto"},{keys:">",type:"operator",operator:"indent",operatorArgs:{indentRight:!0}},{keys:"<",type:"operator",operator:"indent",operatorArgs:{indentRight:!1}},{keys:"g~",type:"operator",operator:"changeCase"},{keys:"gu",type:"operator",operator:"changeCase",operatorArgs:{toLower:!0},isEdit:!0},{keys:"gU",type:"operator",operator:"changeCase",operatorArgs:{toLower:!1},isEdit:!0},{keys:"n",type:"motion",motion:"findNext",motionArgs:{forward:!0,toJumplist:!0}},{keys:"N",type:"motion",motion:"findNext",motionArgs:{forward:!1,toJumplist:!0}},{keys:"gn",type:"motion",motion:"findAndSelectNextInclusive",motionArgs:{forward:!0}},{keys:"gN",type:"motion",motion:"findAndSelectNextInclusive",motionArgs:{forward:!1}},{keys:"x",type:"operatorMotion",operator:"delete",motion:"moveByCharacters",motionArgs:{forward:!0},operatorMotionArgs:{visualLine:!1}},{keys:"X",type:"operatorMotion",operator:"delete",motion:"moveByCharacters",motionArgs:{forward:!1},operatorMotionArgs:{visualLine:!0}},{keys:"D",type:"operatorMotion",operator:"delete",motion:"moveToEol",motionArgs:{inclusive:!0},context:"normal"},{keys:"D",type:"operator",operator:"delete",operatorArgs:{linewise:!0},context:"visual"},{keys:"Y",type:"operatorMotion",operator:"yank",motion:"expandToLine",motionArgs:{linewise:!0},context:"normal"},{keys:"Y",type:"operator",operator:"yank",operatorArgs:{linewise:!0},context:"visual"},{keys:"C",type:"operatorMotion",operator:"change",motion:"moveToEol",motionArgs:{inclusive:!0},context:"normal"},{keys:"C",type:"operator",operator:"change",operatorArgs:{linewise:!0},context:"visual"},{keys:"~",type:"operatorMotion",operator:"changeCase",motion:"moveByCharacters",motionArgs:{forward:!0},operatorArgs:{shouldMoveCursor:!0},context:"normal"},{keys:"~",type:"operator",operator:"changeCase",context:"visual"},{keys:"<C-u>",type:"operatorMotion",operator:"delete",motion:"moveToStartOfLine",context:"insert"},{keys:"<C-w>",type:"operatorMotion",operator:"delete",motion:"moveByWords",motionArgs:{forward:!1,wordEnd:!1},context:"insert"},{keys:"<C-w>",type:"idle",context:"normal"},{keys:"<C-i>",type:"action",action:"jumpListWalk",actionArgs:{forward:!0}},{keys:"<C-o>",type:"action",action:"jumpListWalk",actionArgs:{forward:!1}},{keys:"<C-e>",type:"action",action:"scroll",actionArgs:{forward:!0,linewise:!0}},{keys:"<C-y>",type:"action",action:"scroll",actionArgs:{forward:!1,linewise:!0}},{keys:"a",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"charAfter"},context:"normal"},{keys:"A",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"eol"},context:"normal"},{keys:"A",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"endOfSelectedArea"},context:"visual"},{keys:"i",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"inplace"},context:"normal"},{keys:"gi",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"lastEdit"},context:"normal"},{keys:"I",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"firstNonBlank"},context:"normal"},{keys:"gI",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"bol"},context:"normal"},{keys:"I",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"startOfSelectedArea"},context:"visual"},{keys:"o",type:"action",action:"newLineAndEnterInsertMode",isEdit:!0,interlaceInsertRepeat:!0,actionArgs:{after:!0},context:"normal"},{keys:"O",type:"action",action:"newLineAndEnterInsertMode",isEdit:!0,interlaceInsertRepeat:!0,actionArgs:{after:!1},context:"normal"},{keys:"v",type:"action",action:"toggleVisualMode"},{keys:"V",type:"action",action:"toggleVisualMode",actionArgs:{linewise:!0}},{keys:"<C-v>",type:"action",action:"toggleVisualMode",actionArgs:{blockwise:!0}},{keys:"<C-q>",type:"action",action:"toggleVisualMode",actionArgs:{blockwise:!0}},{keys:"gv",type:"action",action:"reselectLastSelection"},{keys:"J",type:"action",action:"joinLines",isEdit:!0},{keys:"gJ",type:"action",action:"joinLines",actionArgs:{keepSpaces:!0},isEdit:!0},{keys:"p",type:"action",action:"paste",isEdit:!0,actionArgs:{after:!0,isEdit:!0}},{keys:"P",type:"action",action:"paste",isEdit:!0,actionArgs:{after:!1,isEdit:!0}},{keys:"r<character>",type:"action",action:"replace",isEdit:!0},{keys:"@<character>",type:"action",action:"replayMacro"},{keys:"q<character>",type:"action",action:"enterMacroRecordMode"},{keys:"R",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{replace:!0},context:"normal"},{keys:"R",type:"operator",operator:"change",operatorArgs:{linewise:!0,fullLine:!0},context:"visual",exitVisualBlock:!0},{keys:"u",type:"action",action:"undo",context:"normal"},{keys:"u",type:"operator",operator:"changeCase",operatorArgs:{toLower:!0},context:"visual",isEdit:!0},{keys:"U",type:"operator",operator:"changeCase",operatorArgs:{toLower:!1},context:"visual",isEdit:!0},{keys:"<C-r>",type:"action",action:"redo"},{keys:"m<character>",type:"action",action:"setMark"},{keys:'"<character>',type:"action",action:"setRegister"},{keys:"zz",type:"action",action:"scrollToCursor",actionArgs:{position:"center"}},{keys:"z.",type:"action",action:"scrollToCursor",actionArgs:{position:"center"},motion:"moveToFirstNonWhiteSpaceCharacter"},{keys:"zt",type:"action",action:"scrollToCursor",actionArgs:{position:"top"}},{keys:"z<CR>",type:"action",action:"scrollToCursor",actionArgs:{position:"top"},motion:"moveToFirstNonWhiteSpaceCharacter"},{keys:"z-",type:"action",action:"scrollToCursor",actionArgs:{position:"bottom"}},{keys:"zb",type:"action",action:"scrollToCursor",actionArgs:{position:"bottom"},motion:"moveToFirstNonWhiteSpaceCharacter"},{keys:".",type:"action",action:"repeatLastEdit"},{keys:"<C-a>",type:"action",action:"incrementNumberToken",isEdit:!0,actionArgs:{increase:!0,backtrack:!1}},{keys:"<C-x>",type:"action",action:"incrementNumberToken",isEdit:!0,actionArgs:{increase:!1,backtrack:!1}},{keys:"<C-t>",type:"action",action:"indent",actionArgs:{indentRight:!0},context:"insert"},{keys:"<C-d>",type:"action",action:"indent",actionArgs:{indentRight:!1},context:"insert"},{keys:"a<character>",type:"motion",motion:"textObjectManipulation"},{keys:"i<character>",type:"motion",motion:"textObjectManipulation",motionArgs:{textObjectInner:!0}},{keys:"/",type:"search",searchArgs:{forward:!0,querySrc:"prompt",toJumplist:!0}},{keys:"?",type:"search",searchArgs:{forward:!1,querySrc:"prompt",toJumplist:!0}},{keys:"*",type:"search",searchArgs:{forward:!0,querySrc:"wordUnderCursor",wholeWordOnly:!0,toJumplist:!0}},{keys:"#",type:"search",searchArgs:{forward:!1,querySrc:"wordUnderCursor",wholeWordOnly:!0,toJumplist:!0}},{keys:"g*",type:"search",searchArgs:{forward:!0,querySrc:"wordUnderCursor",toJumplist:!0}},{keys:"g#",type:"search",searchArgs:{forward:!1,querySrc:"wordUnderCursor",toJumplist:!0}},{keys:":",type:"ex"}],o=a.length,l=[{name:"colorscheme",shortName:"colo"},{name:"map"},{name:"imap",shortName:"im"},{name:"nmap",shortName:"nm"},{name:"vmap",shortName:"vm"},{name:"unmap"},{name:"write",shortName:"w"},{name:"undo",shortName:"u"},{name:"redo",shortName:"red"},{name:"set",shortName:"se"},{name:"setlocal",shortName:"setl"},{name:"setglobal",shortName:"setg"},{name:"sort",shortName:"sor"},{name:"substitute",shortName:"s",possiblyAsync:!0},{name:"nohlsearch",shortName:"noh"},{name:"yank",shortName:"y"},{name:"delmarks",shortName:"delm"},{name:"registers",shortName:"reg",excludeFromCommandHistory:!0},{name:"vglobal",shortName:"v"},{name:"global",shortName:"g"}],h=e.Vim=function(){function p(x){x.setOption("disableInput",!0),x.setOption("showCursorWhenSelecting",!1),t.default.signal(x,"vim-mode-change",{mode:"normal"}),x.on("cursorActivity",Fp),X(x),x.enterVimMode()}function m(x){x.setOption("disableInput",!1),x.off("cursorActivity",Fp),x.state.vim=null,Sa&&clearTimeout(Sa),x.leaveVimMode()}function w(x,c){x.attached=!1,this==t.default.keyMap.vim&&(x.options.$customCursor=null),(!c||c.attach!=C)&&m(x)}function C(x,c){this==t.default.keyMap.vim&&(x.attached=!0,x.curOp&&(x.curOp.selectionChanged=!0),x.options.$customCursor=s),(!c||c.attach!=C)&&p(x)}t.default.defineOption("vimMode",!1,function(x,c,S){c&&x.getOption("keyMap")!="vim"?x.setOption("keyMap","vim"):!c&&S!=t.default.Init&&/^vim/.test(x.getOption("keyMap"))&&x.setOption("keyMap","default")});function y(x,c){if(c){if(this[x])return this[x];var S=u(x);if(!S)return!1;var k=ce.findKey(c,S);return typeof k=="function"&&t.default.signal(c,"vim-keypress",S),k}}var v={Shift:"S",Ctrl:"C",Alt:"A",Cmd:"D",Mod:"A",CapsLock:""},f={Enter:"CR",Backspace:"BS",Delete:"Del",Insert:"Ins"};function u(x){if(x.charAt(0)=="'")return x.charAt(1);if(x==="AltGraph")return!1;var c=x.split(/-(?!$)/),S=c[c.length-1];if(c.length==1&&c[0].length==1)return!1;if(c.length==2&&c[0]=="Shift"&&S.length==1)return!1;for(var k=!1,T=0;T<c.length;T++){var A=c[T];A in v?c[T]=v[A]:k=!0,A in f&&(c[T]=f[A])}return k?(z(S)&&(c[c.length-1]=S.toLowerCase()),"<"+c.join("-")+">"):!1}var d=/[\d]/,_=[t.default.isWordChar,function(x){return x&&!t.default.isWordChar(x)&&!/\s/.test(x)}],R=[function(x){return/\S/.test(x)}];function E(x,c){for(var S=[],k=x;k<x+c;k++)S.push(String.fromCharCode(k));return S}var L=E(65,26),b=E(97,26),I=E(48,10),U=[].concat(L,b,I,["<",">"]),W=[].concat(L,b,I,["-",'"',".",":","_","/"]),Y;try{Y=new RegExp("^[\\p{Lu}]$","u")}catch{Y=/^[A-Z]$/}function B(x,c){return c>=x.firstLine()&&c<=x.lastLine()}function $(x){return/^[a-z]$/.test(x)}function N(x){return d.test(x)}function z(x){return Y.test(x)}function Q(x){return/^\s*$/.test(x)}function V(x){return".?!".indexOf(x)!=-1}function M(x,c){for(var S=0;S<c.length;S++)if(c[S]==x)return!0;return!1}var P={};function O(x,c,S,k,T){if(c===void 0&&!T)throw Error("defaultValue is required unless callback is provided");if(S||(S="string"),P[x]={type:S,defaultValue:c,callback:T},k)for(var A=0;A<k.length;A++)P[k[A]]=P[x];c&&j(x,c)}function j(x,c,S,k){var T=P[x];k=k||{};var A=k.scope;if(!T)return new Error("Unknown option: "+x);if(T.type=="boolean"){if(c&&c!==!0)return new Error("Invalid argument: "+x+"="+c);c!==!1&&(c=!0)}T.callback?(A!=="local"&&T.callback(c,void 0),A!=="global"&&S&&T.callback(c,S)):(A!=="local"&&(T.value=T.type=="boolean"?!!c:c),A!=="global"&&S&&(S.state.vim.options[x]={value:c}))}function Z(x,c,S){var k=P[x];S=S||{};var T=S.scope;if(!k)return new Error("Unknown option: "+x);if(k.callback){var A=c&&k.callback(void 0,c);return T!=="global"&&A!==void 0?A:T!=="local"?k.callback():void 0}else{var A=T!=="global"&&c&&c.state.vim.options[x];return(A||T!=="local"&&k||{}).value}}O("filetype",void 0,"string",["ft"],function(x,c){if(c!==void 0)if(x===void 0){var S=c.getOption("mode");return S=="null"?"":S}else{var S=x==""?"null":x;c.setOption("mode",S)}});var re=function(){var c=100,S=-1,k=0,T=0,A=new Array(c);function F(q,J,ee){var ae=S%c,oe=A[ae];function se(me){var ve=++S%c,Te=A[ve];Te&&Te.clear(),A[ve]=q.setBookmark(me)}if(oe){var ge=oe.find();ge&&!Fr(ge,J)&&se(J)}else se(J);se(ee),k=S,T=S-c+1,T<0&&(T=0)}function H(q,J){S+=J,S>k?S=k:S<T&&(S=T);var ee=A[(c+S)%c];if(ee&&!ee.find()){var ae=J>0?1:-1,oe,se=q.getCursor();do if(S+=ae,ee=A[(c+S)%c],ee&&(oe=ee.find())&&!Fr(se,oe))break;while(S<k&&S>T)}return ee}function K(q,J){var ee=S,ae=H(q,J);return S=ee,ae&&ae.find()}return{cachedCursor:void 0,add:F,find:K,move:H}},le=function(c){return c?{changes:c.changes,expectCursorActivityForChange:c.expectCursorActivityForChange}:{changes:[],expectCursorActivityForChange:!1}};function ue(){this.latestRegister=void 0,this.isPlaying=!1,this.isRecording=!1,this.replaySearchQueries=[],this.onRecordingDone=void 0,this.lastInsertModeChanges=le()}ue.prototype={exitMacroRecordMode:function(){var c=D.macroModeState;c.onRecordingDone&&c.onRecordingDone(),c.onRecordingDone=void 0,c.isRecording=!1},enterMacroRecordMode:function(c,S){var k=D.registerController.getRegister(S);k&&(k.clear(),this.latestRegister=S,c.openDialog&&(this.onRecordingDone=c.openDialog(document.createTextNode("(recording)["+S+"]"),null,{bottom:!0})),this.isRecording=!0)}};function X(x){return x.state.vim||(x.state.vim={inputState:new he,lastEditInputState:void 0,lastEditActionCommand:void 0,lastHPos:-1,lastHSPos:-1,lastMotion:null,marks:{},insertMode:!1,insertModeRepeat:void 0,visualMode:!1,visualLine:!1,visualBlock:!1,lastSelection:null,lastPastedText:null,sel:{},options:{}}),x.state.vim}var D;function te(){D={searchQuery:null,searchIsReversed:!1,lastSubstituteReplacePart:void 0,jumpList:re(),macroModeState:new ue,lastCharacterSearch:{increment:0,forward:!0,selectedCharacter:""},registerController:new we({}),searchHistoryController:new pe,exCommandHistoryController:new pe};for(var x in P){var c=P[x];c.value=c.defaultValue}}var ie,ce={buildKeyMap:function(){},getRegisterController:function(){return D.registerController},resetVimGlobalState_:te,getVimGlobalState_:function(){return D},maybeInitVimState_:X,suppressErrorLogging:!1,InsertModeKey:vc,map:function(c,S,k){cn.map(c,S,k)},unmap:function(c,S){return cn.unmap(c,S)},noremap:function(c,S,k){function T(oe){return oe?[oe]:["normal","insert","visual"]}for(var A=T(k),F=a.length,H=o,K=F-H;K<F&&A.length;K++){var q=a[K];if(q.keys==S&&(!k||!q.context||q.context===k)&&q.type.substr(0,2)!=="ex"&&q.type.substr(0,3)!=="key"){var J={};for(var ee in q)J[ee]=q[ee];J.keys=c,k&&!J.context&&(J.context=k),this._mapCommand(J);var ae=T(q.context);A=A.filter(function(oe){return ae.indexOf(oe)===-1})}}},mapclear:function(c){var S=a.length,k=o,T=a.slice(0,S-k);if(a=a.slice(S-k),c)for(var A=T.length-1;A>=0;A--){var F=T[A];if(c!==F.context)if(F.context)this._mapCommand(F);else{var H=["normal","insert","visual"];for(var K in H)if(H[K]!==c){var q={};for(var J in F)q[J]=F[J];q.context=H[K],this._mapCommand(q)}}}},setOption:j,getOption:Z,defineOption:O,defineEx:function(c,S,k){if(!S)S=c;else if(c.indexOf(S)!==0)throw new Error('(Vim.defineEx) "'+S+'" is not a prefix of "'+c+'", command not registered');Ip[c]=k,cn.commandMap_[S]={name:c,shortName:S,type:"api"}},handleKey:function(c,S,k){var T=this.findKey(c,S,k);if(typeof T=="function")return T()},findKey:function(c,S,k){var T=X(c);function A(){var ee=D.macroModeState;if(ee.isRecording){if(S=="q")return ee.exitMacroRecordMode(),Se(c),!0;k!="mapping"&&mC(ee,S)}}function F(){if(S=="<Esc>"){if(T.visualMode)an(c);else if(T.insertMode)Xs(c);else return;return Se(c),!0}}function H(ee){for(var ae;ee;)ae=/<\w+-.+?>|<\w+>|./.exec(ee),S=ae[0],ee=ee.substring(ae.index+S.length),ce.handleKey(c,S,"mapping")}function K(){if(F())return!0;for(var ee=T.inputState.keyBuffer=T.inputState.keyBuffer+S,ae=S.length==1,oe=Oe.matchCommand(ee,a,T.inputState,"insert");ee.length>1&&oe.type!="full";){var ee=T.inputState.keyBuffer=ee.slice(1),se=Oe.matchCommand(ee,a,T.inputState,"insert");se.type!="none"&&(oe=se)}if(oe.type=="none")return Se(c),!1;if(oe.type=="partial")return ie&&window.clearTimeout(ie),ie=window.setTimeout(function(){T.insertMode&&T.inputState.keyBuffer&&Se(c)},Z("insertModeEscKeysTimeout")),!ae;if(ie&&window.clearTimeout(ie),ae){for(var ge=c.listSelections(),me=0;me<ge.length;me++){var ve=ge[me].head;c.replaceRange("",tt(ve,0,-(ee.length-1)),ve,"+input")}D.macroModeState.lastInsertModeChanges.changes.pop()}return Se(c),oe.command}function q(){if(A()||F())return!0;var ee=T.inputState.keyBuffer=T.inputState.keyBuffer+S;if(/^[1-9]\d*$/.test(ee))return!0;var ge=/^(\d*)(.*)$/.exec(ee);if(!ge)return Se(c),!1;var ae=T.visualMode?"visual":"normal",oe=ge[2]||ge[1];T.inputState.operatorShortcut&&T.inputState.operatorShortcut.slice(-1)==oe&&(oe=T.inputState.operatorShortcut);var se=Oe.matchCommand(oe,a,T.inputState,ae);if(se.type=="none")return Se(c),!1;if(se.type=="partial")return!0;T.inputState.keyBuffer="";var ge=/^(\d*)(.*)$/.exec(ee);return ge[1]&&ge[1]!="0"&&T.inputState.pushRepeatDigit(ge[1]),se.command}var J;return T.insertMode?J=K():J=q(),J===!1?!T.insertMode&&S.length===1?function(){return!0}:void 0:J===!0?function(){return!0}:function(){return c.operation(function(){c.curOp.isVimOp=!0;try{J.type=="keyToKey"?H(J.toKeys):Oe.processCommand(c,T,J)}catch(ee){throw c.state.vim=void 0,X(c),ce.suppressErrorLogging||console.log(ee),ee}return!0})}},handleEx:function(c,S){cn.processCommand(c,S)},defineMotion:ct,defineAction:ir,defineOperator:mt,mapCommand:vC,_mapCommand:Dp,defineRegister:Le,exitVisualMode:an,exitInsertMode:Xs};function he(){this.prefixRepeat=[],this.motionRepeat=[],this.operator=null,this.operatorArgs=null,this.motion=null,this.motionArgs=null,this.keyBuffer=[],this.registerName=null}he.prototype.pushRepeatDigit=function(x){this.operator?this.motionRepeat=this.motionRepeat.concat(x):this.prefixRepeat=this.prefixRepeat.concat(x)},he.prototype.getRepeat=function(){var x=0;return(this.prefixRepeat.length>0||this.motionRepeat.length>0)&&(x=1,this.prefixRepeat.length>0&&(x*=parseInt(this.prefixRepeat.join(""),10)),this.motionRepeat.length>0&&(x*=parseInt(this.motionRepeat.join(""),10))),x};function Se(x,c){x.state.vim.inputState=new he,t.default.signal(x,"vim-command-done",c)}function _e(x,c,S){this.clear(),this.keyBuffer=[x||""],this.insertModeChanges=[],this.searchQueries=[],this.linewise=!!c,this.blockwise=!!S}_e.prototype={setText:function(c,S,k){this.keyBuffer=[c||""],this.linewise=!!S,this.blockwise=!!k},pushText:function(c,S){S&&(this.linewise||this.keyBuffer.push(`
`),this.linewise=!0),this.keyBuffer.push(c)},pushInsertModeChanges:function(c){this.insertModeChanges.push(le(c))},pushSearchQuery:function(c){this.searchQueries.push(c)},clear:function(){this.keyBuffer=[],this.insertModeChanges=[],this.searchQueries=[],this.linewise=!1},toString:function(){return this.keyBuffer.join("")}};function Le(x,c){var S=D.registerController.registers;if(!x||x.length!=1)throw Error("Register name must be 1 character");if(S[x])throw Error("Register already defined "+x);S[x]=c,W.push(x)}function we(x){this.registers=x,this.unnamedRegister=x['"']=new _e,x["."]=new _e,x[":"]=new _e,x["/"]=new _e}we.prototype={pushText:function(c,S,k,T,A){if(c!=="_"){T&&k.charAt(k.length-1)!==`
`&&(k+=`
`);var F=this.isValidRegister(c)?this.getRegister(c):null;if(!F){switch(S){case"yank":this.registers[0]=new _e(k,T,A);break;case"delete":case"change":k.indexOf(`
`)==-1?this.registers["-"]=new _e(k,T):(this.shiftNumericRegisters_(),this.registers[1]=new _e(k,T));break}this.unnamedRegister.setText(k,T,A);return}var H=z(c);H?F.pushText(k,T):F.setText(k,T,A),this.unnamedRegister.setText(F.toString(),T)}},getRegister:function(c){return this.isValidRegister(c)?(c=c.toLowerCase(),this.registers[c]||(this.registers[c]=new _e),this.registers[c]):this.unnamedRegister},isValidRegister:function(c){return c&&M(c,W)},shiftNumericRegisters_:function(){for(var c=9;c>=2;c--)this.registers[c]=this.getRegister(""+(c-1))}};function pe(){this.historyBuffer=[],this.iterator=0,this.initialPrefix=null}pe.prototype={nextMatch:function(c,S){var k=this.historyBuffer,T=S?-1:1;this.initialPrefix===null&&(this.initialPrefix=c);for(var A=this.iterator+T;S?A>=0:A<k.length;A+=T)for(var F=k[A],H=0;H<=F.length;H++)if(this.initialPrefix==F.substring(0,H))return this.iterator=A,F;if(A>=k.length)return this.iterator=k.length,this.initialPrefix;if(A<0)return c},pushInput:function(c){var S=this.historyBuffer.indexOf(c);S>-1&&this.historyBuffer.splice(S,1),c.length&&this.historyBuffer.push(c)},reset:function(){this.initialPrefix=null,this.iterator=this.historyBuffer.length}};var Oe={matchCommand:function(c,S,k,T){var A=En(c,S,T,k);if(!A.full&&!A.partial)return{type:"none"};if(!A.full&&A.partial)return{type:"partial"};for(var F,H=0;H<A.full.length;H++){var K=A.full[H];F||(F=K)}if(F.keys.slice(-11)=="<character>"){var q=Gr(c);if(!q)return{type:"none"};k.selectedCharacter=q}return{type:"full",command:F}},processCommand:function(c,S,k){switch(S.inputState.repeatOverride=k.repeatOverride,k.type){case"motion":this.processMotion(c,S,k);break;case"operator":this.processOperator(c,S,k);break;case"operatorMotion":this.processOperatorMotion(c,S,k);break;case"action":this.processAction(c,S,k);break;case"search":this.processSearch(c,S,k);break;case"ex":case"keyToEx":this.processEx(c,S,k);break}},processMotion:function(c,S,k){S.inputState.motion=k.motion,S.inputState.motionArgs=on(k.motionArgs),this.evalInput(c,S)},processOperator:function(c,S,k){var T=S.inputState;if(T.operator)if(T.operator==k.operator){T.motion="expandToLine",T.motionArgs={linewise:!0},this.evalInput(c,S);return}else Se(c);T.operator=k.operator,T.operatorArgs=on(k.operatorArgs),k.keys.length>1&&(T.operatorShortcut=k.keys),k.exitVisualBlock&&(S.visualBlock=!1,Yi(c)),S.visualMode&&this.evalInput(c,S)},processOperatorMotion:function(c,S,k){var T=S.visualMode,A=on(k.operatorMotionArgs);A&&T&&A.visualLine&&(S.visualLine=!0),this.processOperator(c,S,k),T||this.processMotion(c,S,k)},processAction:function(c,S,k){var T=S.inputState,A=T.getRepeat(),F=!!A,H=on(k.actionArgs)||{};T.selectedCharacter&&(H.selectedCharacter=T.selectedCharacter),k.operator&&this.processOperator(c,S,k),k.motion&&this.processMotion(c,S,k),(k.motion||k.operator)&&this.evalInput(c,S),H.repeat=A||1,H.repeatIsExplicit=F,H.registerName=T.registerName,Se(c),S.lastMotion=null,k.isEdit&&this.recordLastEdit(S,T,k),Br[k.action](c,H,S)},processSearch:function(c,S,k){if(!c.getSearchCursor)return;var T=k.searchArgs.forward,A=k.searchArgs.wholeWordOnly;un(c).setReversed(!T);var F=T?"/":"?",H=un(c).getQuery(),K=c.getScrollInfo();function q(ve,Te,Ee){D.searchHistoryController.pushInput(ve),D.searchHistoryController.reset();try{Qs(c,ve,Te,Ee)}catch{Qe(c,"Invalid regex: "+ve),Se(c);return}Oe.processMotion(c,S,{type:"motion",motion:"findNext",motionArgs:{forward:!0,toJumplist:k.searchArgs.toJumplist}})}function J(ve){c.scrollTo(K.left,K.top),q(ve,!0,!0);var Te=D.macroModeState;Te.isRecording&&_C(Te,ve)}function ee(ve,Te,Ee){var Re=t.default.keyName(ve),Xe,sr;Re=="Up"||Re=="Down"?(Xe=Re=="Up",sr=ve.target?ve.target.selectionEnd:0,Te=D.searchHistoryController.nextMatch(Te,Xe)||"",Ee(Te),sr&&ve.target&&(ve.target.selectionEnd=ve.target.selectionStart=Math.min(sr,ve.target.value.length))):Re!="Left"&&Re!="Right"&&Re!="Ctrl"&&Re!="Alt"&&Re!="Shift"&&D.searchHistoryController.reset();var ft;try{ft=Qs(c,Te,!0,!0)}catch{}ft?c.scrollIntoView(Ap(c,!T,ft),30):(dc(c),c.scrollTo(K.left,K.top))}function ae(ve,Te,Ee){var Re=t.default.keyName(ve);Re=="Esc"||Re=="Ctrl-C"||Re=="Ctrl-["||Re=="Backspace"&&Te==""?(D.searchHistoryController.pushInput(Te),D.searchHistoryController.reset(),Qs(c,H),dc(c),c.scrollTo(K.left,K.top),t.default.e_stop(ve),Se(c),Ee(),c.focus()):Re=="Up"||Re=="Down"?t.default.e_stop(ve):Re=="Ctrl-U"&&(t.default.e_stop(ve),Ee(""))}switch(k.searchArgs.querySrc){case"prompt":var oe=D.macroModeState;if(oe.isPlaying){var me=oe.replaySearchQueries.shift();q(me,!0,!1)}else _a(c,{onClose:J,prefix:F,desc:"(JavaScript regexp)",onKeyUp:ee,onKeyDown:ae});break;case"wordUnderCursor":var se=ya(c,!1,!0,!1,!0),ge=!0;if(se||(se=ya(c,!1,!0,!1,!1),ge=!1),!se)return;var me=c.getLine(se.start.line).substring(se.start.ch,se.end.ch);ge&&A?me="\\b"+me+"\\b":me=$1(me),D.jumpList.cachedCursor=c.getCursor(),c.setCursor(se.start),q(me,!0,!1);break}},processEx:function(c,S,k){function T(F){D.exCommandHistoryController.pushInput(F),D.exCommandHistoryController.reset(),cn.processCommand(c,F)}function A(F,H,K){var q=t.default.keyName(F),J,ee;(q=="Esc"||q=="Ctrl-C"||q=="Ctrl-["||q=="Backspace"&&H=="")&&(D.exCommandHistoryController.pushInput(H),D.exCommandHistoryController.reset(),t.default.e_stop(F),Se(c),K(),c.focus()),q=="Up"||q=="Down"?(t.default.e_stop(F),J=q=="Up",ee=F.target?F.target.selectionEnd:0,H=D.exCommandHistoryController.nextMatch(H,J)||"",K(H),ee&&F.target&&(F.target.selectionEnd=F.target.selectionStart=Math.min(ee,F.target.value.length))):q=="Ctrl-U"?(t.default.e_stop(F),K("")):q!="Left"&&q!="Right"&&q!="Ctrl"&&q!="Alt"&&q!="Shift"&&D.exCommandHistoryController.reset()}k.type=="keyToEx"?cn.processCommand(c,k.exArgs.input):S.visualMode?_a(c,{onClose:T,prefix:":",value:"'<,'>",onKeyDown:A,selectValueOnOpen:!1}):_a(c,{onClose:T,prefix:":",onKeyDown:A})},evalInput:function(c,S){var k=S.inputState,T=k.motion,A=k.motionArgs||{},F=k.operator,H=k.operatorArgs||{},K=k.registerName,q=S.sel,J=Ge(S.visualMode?ht(c,q.head):c.getCursor("head")),ee=Ge(S.visualMode?ht(c,q.anchor):c.getCursor("anchor")),ae=Ge(J),oe=Ge(ee),se,ge,me;if(F&&this.recordLastEdit(S,k),k.repeatOverride!==void 0?me=k.repeatOverride:me=k.getRepeat(),me>0&&A.explicitRepeat?A.repeatIsExplicit=!0:(A.noRepeat||!A.explicitRepeat&&me===0)&&(me=1,A.repeatIsExplicit=!1),k.selectedCharacter&&(A.selectedCharacter=H.selectedCharacter=k.selectedCharacter),A.repeat=me,Se(c),T){var ve=$e[T](c,J,A,S,k);if(S.lastMotion=$e[T],!ve)return;if(A.toJumplist){var Te=D.jumpList,Ee=Te.cachedCursor;Ee?(_p(c,Ee,ve),delete Te.cachedCursor):_p(c,J,ve)}ve instanceof Array?(ge=ve[0],se=ve[1]):se=ve,se||(se=Ge(J)),S.visualMode?(S.visualBlock&&se.ch===1/0||(se=ht(c,se)),ge&&(ge=ht(c,ge)),ge=ge||oe,q.anchor=ge,q.head=se,Yi(c),Rn(c,S,"<",yt(ge,se)?ge:se),Rn(c,S,">",yt(ge,se)?se:ge)):F||(se=ht(c,se),c.setCursor(se.line,se.ch))}if(F){if(H.lastSel){ge=oe;var Re=H.lastSel,Xe=Math.abs(Re.head.line-Re.anchor.line),sr=Math.abs(Re.head.ch-Re.anchor.ch);Re.visualLine?se=new i(oe.line+Xe,oe.ch):Re.visualBlock?se=new i(oe.line+Xe,oe.ch+sr):Re.head.line==Re.anchor.line?se=new i(oe.line,oe.ch+sr):se=new i(oe.line+Xe,oe.ch),S.visualMode=!0,S.visualLine=Re.visualLine,S.visualBlock=Re.visualBlock,q=S.sel={anchor:ge,head:se},Yi(c)}else S.visualMode&&(H.lastSel={anchor:Ge(q.anchor),head:Ge(q.head),visualBlock:S.visualBlock,visualLine:S.visualLine});var ft,qt,We,Be,Lt;if(S.visualMode){if(ft=Nr(q.head,q.anchor),qt=wi(q.head,q.anchor),We=S.visualLine||H.linewise,Be=S.visualBlock?"block":We?"line":"char",Lt=hc(c,{anchor:ft,head:qt},Be),We){var or=Lt.ranges;if(Be=="block")for(var Qt=0;Qt<or.length;Qt++)or[Qt].head.ch=Ct(c,or[Qt].head.line);else Be=="line"&&(or[0].head=new i(or[0].head.line+1,0))}}else{if(ft=Ge(ge||oe),qt=Ge(se||ae),yt(qt,ft)){var Wn=ft;ft=qt,qt=Wn}We=A.linewise||H.linewise,We?V1(c,ft,qt):A.forward&&K1(c,ft,qt),Be="char";var Js=!A.inclusive||We;Lt=hc(c,{anchor:ft,head:qt},Be,Js)}c.setSelections(Lt.ranges,Lt.primary),S.lastMotion=null,H.repeat=me,H.registerName=K,H.linewise=We;var Ys=yr[F](c,H,Lt.ranges,oe,se);S.visualMode&&an(c,Ys!=null),Ys&&c.setCursor(Ys)}},recordLastEdit:function(c,S,k){var T=D.macroModeState;T.isPlaying||(c.lastEditInputState=S,c.lastEditActionCommand=k,T.lastInsertModeChanges.changes=[],T.lastInsertModeChanges.expectCursorActivityForChange=!1,T.lastInsertModeChanges.visualBlock=c.visualBlock?c.sel.head.line-c.sel.anchor.line:0)}},$e={moveToTopLine:function(c,S,k){var T=pc(c).top+k.repeat-1;return new i(T,ln(c.getLine(T)))},moveToMiddleLine:function(c){var S=pc(c),k=Math.floor((S.top+S.bottom)*.5);return new i(k,ln(c.getLine(k)))},moveToBottomLine:function(c,S,k){var T=pc(c).bottom-k.repeat+1;return new i(T,ln(c.getLine(T)))},expandToLine:function(c,S,k){var T=S;return new i(T.line+k.repeat-1,1/0)},findNext:function(c,S,k){var T=un(c),A=T.getQuery();if(A){var F=!k.forward;return F=T.isReversed()?!F:F,Lp(c,A),Ap(c,F,A,k.repeat)}},findAndSelectNextInclusive:function(c,S,k,T,A){var F=un(c),H=F.getQuery();if(H){var K=!k.forward;K=F.isReversed()?!K:K;var q=fC(c,K,H,k.repeat,T);if(q){if(A.operator)return q;var J=q[0],ee=new i(q[1].line,q[1].ch-1);if(T.visualMode){(T.visualLine||T.visualBlock)&&(T.visualLine=!1,T.visualBlock=!1,t.default.signal(c,"vim-mode-change",{mode:"visual",subMode:""}));var ae=T.sel.anchor;if(ae)return F.isReversed()?k.forward?[ae,J]:[ae,ee]:k.forward?[ae,ee]:[ae,J]}else T.visualMode=!0,T.visualLine=!1,T.visualBlock=!1,t.default.signal(c,"vim-mode-change",{mode:"visual",subMode:""});return K?[ee,J]:[J,ee]}}},goToMark:function(c,S,k,T){var A=Mp(c,T,k.selectedCharacter);return A?k.linewise?{line:A.line,ch:ln(c.getLine(A.line))}:A:null},moveToOtherHighlightedEnd:function(c,S,k,T){if(T.visualBlock&&k.sameLine){var A=T.sel;return[ht(c,new i(A.anchor.line,A.head.ch)),ht(c,new i(A.head.line,A.anchor.ch))]}else return[T.sel.head,T.sel.anchor]},jumpToMark:function(c,S,k,T){for(var A=S,F=0;F<k.repeat;F++){var H=A;for(var K in T.marks)if($(K)){var q=T.marks[K].find(),J=k.forward?yt(q,H):yt(H,q);if(!J&&!(k.linewise&&q.line==H.line)){var ee=Fr(H,A),ae=k.forward?vp(H,q,A):vp(A,q,H);(ee||ae)&&(A=q)}}}return k.linewise&&(A=new i(A.line,ln(c.getLine(A.line)))),A},moveByCharacters:function(c,S,k){var T=S,A=k.repeat,F=k.forward?T.ch+A:T.ch-A;return new i(T.line,F)},moveByLines:function(c,S,k,T){var A=S,F=A.ch;switch(T.lastMotion){case this.moveByLines:case this.moveByDisplayLines:case this.moveByScroll:case this.moveToColumn:case this.moveToEol:F=T.lastHPos;break;default:T.lastHPos=F}var H=k.repeat+(k.repeatOffset||0),K=k.forward?A.line+H:A.line-H,q=c.firstLine(),J=c.lastLine(),ee=c.findPosV(A,k.forward?H:-H,"line",T.lastHSPos),ae=k.forward?ee.line>K:ee.line<K;return ae&&(K=ee.line,F=ee.ch),K<q&&A.line==q?this.moveToStartOfLine(c,S,k,T):K>J&&A.line==J?wp(c,S,k,T,!0):(k.toFirstChar&&(F=ln(c.getLine(K)),T.lastHPos=F),T.lastHSPos=c.charCoords(new i(K,F),"div").left,new i(K,F))},moveByDisplayLines:function(c,S,k,T){var A=S;switch(T.lastMotion){case this.moveByDisplayLines:case this.moveByScroll:case this.moveByLines:case this.moveToColumn:case this.moveToEol:break;default:T.lastHSPos=c.charCoords(A,"div").left}var F=k.repeat,H=c.findPosV(A,k.forward?F:-F,"line",T.lastHSPos);if(H.hitSide)if(k.forward)var K=c.charCoords(H,"div"),q={top:K.top+8,left:T.lastHSPos},H=c.coordsChar(q,"div");else{var J=c.charCoords(new i(c.firstLine(),0),"div");J.left=T.lastHSPos,H=c.coordsChar(J,"div")}return T.lastHPos=H.ch,H},moveByPage:function(c,S,k){var T=S,A=k.repeat;return c.findPosV(T,k.forward?A:-A,"page")},moveByParagraph:function(c,S,k){var T=k.forward?1:-1;return kp(c,S,k.repeat,T)},moveBySentence:function(c,S,k){var T=k.forward?1:-1;return eC(c,S,k.repeat,T)},moveByScroll:function(c,S,k,T){var A=c.getScrollInfo(),K=null,F=k.repeat;F||(F=A.clientHeight/(2*c.defaultTextHeight()));var H=c.charCoords(S,"local");k.repeat=F;var K=$e.moveByDisplayLines(c,S,k,T);if(!K)return null;var q=c.charCoords(K,"local");return c.scrollTo(null,A.top+q.top-H.top),K},moveByWords:function(c,S,k){return J1(c,S,k.repeat,!!k.forward,!!k.wordEnd,!!k.bigWord)},moveTillCharacter:function(c,S,k){var T=k.repeat,A=fc(c,T,k.forward,k.selectedCharacter),F=k.forward?-1:1;return Sp(F,k),A?(A.ch+=F,A):null},moveToCharacter:function(c,S,k){var T=k.repeat;return Sp(0,k),fc(c,T,k.forward,k.selectedCharacter)||S},moveToSymbol:function(c,S,k){var T=k.repeat;return Q1(c,T,k.forward,k.selectedCharacter)||S},moveToColumn:function(c,S,k,T){var A=k.repeat;return T.lastHPos=A-1,T.lastHSPos=c.charCoords(S,"div").left,Y1(c,A)},moveToEol:function(c,S,k,T){return wp(c,S,k,T,!1)},moveToFirstNonWhiteSpaceCharacter:function(c,S){var k=S;return new i(k.line,ln(c.getLine(k.line)))},moveToMatchedSymbol:function(c,S){var k=S,T=k.line,A=k.ch,F=c.getLine(T);if(A<F.length){var H=A==="<"||A===">"?/[(){}[\]<>]/:/[(){}[\]]/,K=c.findMatchingBracket(new i(T,A),{bracketRegex:H});return K.to}else return k},moveToStartOfLine:function(c,S){return new i(S.line,0)},moveToLineOrEdgeOfDocument:function(c,S,k){var T=k.forward?c.lastLine():c.firstLine();return k.repeatIsExplicit&&(T=k.repeat-c.getOption("firstLineNumber")),new i(T,ln(c.getLine(T)))},moveToStartOfDisplayLine:function(c){return c.execCommand("goLineLeft"),c.getCursor()},moveToEndOfDisplayLine:function(c){c.execCommand("goLineRight");var S=c.getCursor();return S.sticky=="before"&&S.ch--,S},textObjectManipulation:function(c,S,k,T){var A={"(":")",")":"(","{":"}","}":"{","[":"]","]":"[","<":">",">":"<"},F={"'":!0,'"':!0,"`":!0},H=k.selectedCharacter;H=="b"?H="(":H=="B"&&(H="{");var K=!k.textObjectInner,q;if(A[H])q=tC(c,S,H,K);else if(F[H])q=rC(c,S,H,K);else if(H==="W")q=ya(c,K,!0,!0);else if(H==="w")q=ya(c,K,!0,!1);else if(H==="p")if(q=kp(c,S,k.repeat,0,K),k.linewise=!0,T.visualMode)T.visualLine||(T.visualLine=!0);else{var J=T.inputState.operatorArgs;J&&(J.linewise=!0),q.end.line--}else if(H==="t")q=G1(c,S,K);else return null;return c.state.vim.visualMode?W1(c,q.start,q.end):[q.start,q.end]},repeatLastCharacterSearch:function(c,S,k){var T=D.lastCharacterSearch,A=k.repeat,F=k.forward===T.forward,H=(T.increment?1:0)*(F?-1:1);c.moveH(-H,"char"),k.inclusive=!!F;var K=fc(c,A,F,T.selectedCharacter);return K?(K.ch+=H,K):(c.moveH(H,"char"),S)}};function ct(x,c){$e[x]=c}function Ft(x,c){for(var S=[],k=0;k<c;k++)S.push(x);return S}var yr={change:function(c,S,k){var T,A,F=c.state.vim,H=k[0].anchor,K=k[0].head;if(F.visualMode)if(S.fullLine)K.ch=Number.MAX_VALUE,K.line--,c.setSelection(H,K),A=c.getSelection(),c.replaceSelections(""),T=H;else{A=c.getSelection();var oe=Ft("",k.length);c.replaceSelections(oe),T=Nr(k[0].head,k[0].anchor)}else{A=c.getRange(H,K);var q=F.lastEditInputState||{};if(q.motion=="moveByWords"&&!Q(A)){var J=/\s+$/.exec(A);J&&q.motionArgs&&q.motionArgs.forward&&(K=tt(K,0,-J[0].length),A=A.slice(0,-J[0].length))}var ee=new i(H.line-1,Number.MAX_VALUE),ae=c.firstLine()==c.lastLine();K.line>c.lastLine()&&S.linewise&&!ae?c.replaceRange("",ee,K):c.replaceRange("",H,K),S.linewise&&(ae||(c.setCursor(ee),t.default.commands.newlineAndIndent(c)),H.ch=Number.MAX_VALUE),T=H}D.registerController.pushText(S.registerName,"change",A,S.linewise,k.length>1),Br.enterInsertMode(c,{head:T},c.state.vim)},delete:function(c,S,k){c.pushUndoStop();var T,A,F=c.state.vim;if(F.visualBlock){A=c.getSelection();var q=Ft("",k.length);c.replaceSelections(q),T=Nr(k[0].head,k[0].anchor)}else{var H=k[0].anchor,K=k[0].head;S.linewise&&K.line!=c.firstLine()&&H.line==c.lastLine()&&H.line==K.line-1&&(H.line==c.firstLine()?H.ch=0:H=new i(H.line-1,Ct(c,H.line-1))),A=c.getRange(H,K),c.replaceRange("",H,K),T=H,S.linewise&&(T=$e.moveToFirstNonWhiteSpaceCharacter(c,H))}return D.registerController.pushText(S.registerName,"delete",A,S.linewise,F.visualBlock),ht(c,T)},indent:function(c,S,k){var T=c.state.vim,A=k[0].anchor.line,F=T.visualBlock?k[k.length-1].anchor.line:k[0].head.line,H=T.visualMode?S.repeat:1;S.linewise&&F--,c.pushUndoStop();for(var K=A;K<=F;K++)for(var q=0;q<H;q++)c.indentLine(K,S.indentRight);return c.pushUndoStop(),$e.moveToFirstNonWhiteSpaceCharacter(c,k[0].anchor)},indentAuto:function(c,S,k){return c.execCommand("indentAuto"),$e.moveToFirstNonWhiteSpaceCharacter(c,k[0].anchor)},changeCase:function(c,S,k,T,A){for(var F=c.getSelections(),H=[],K=S.toLower,q=0;q<F.length;q++){var J=F[q],ee="";if(K===!0)ee=J.toLowerCase();else if(K===!1)ee=J.toUpperCase();else for(var ae=0;ae<J.length;ae++){var oe=J.charAt(ae);ee+=z(oe)?oe.toLowerCase():oe.toUpperCase()}H.push(ee)}return c.replaceSelections(H),S.shouldMoveCursor?A:!c.state.vim.visualMode&&S.linewise&&k[0].anchor.line+1==k[0].head.line?$e.moveToFirstNonWhiteSpaceCharacter(c,T):S.linewise?T:Nr(k[0].anchor,k[0].head)},yank:function(c,S,k,T){var A=c.state.vim,F=c.getSelection(),H=A.visualMode?Nr(A.sel.anchor,A.sel.head,k[0].head,k[0].anchor):T;return D.registerController.pushText(S.registerName,"yank",F,S.linewise,A.visualBlock),H}};function mt(x,c){yr[x]=c}var Br={jumpListWalk:function(c,S,k){if(!k.visualMode){var T=S.repeat,A=S.forward,F=D.jumpList,H=F.move(c,A?T:-T),K=H?H.find():void 0;K=K||c.getCursor(),c.setCursor(K)}},scroll:function(c,S,k){if(!k.visualMode){var T=S.repeat||1,A=c.defaultTextHeight(),F=c.getScrollInfo().top,H=A*T,K=S.forward?F+H:F-H,q=Ge(c.getCursor()),J=c.charCoords(q,"local");if(S.forward)K>J.top?(q.line+=(K-J.top)/A,q.line=Math.ceil(q.line),c.setCursor(q),J=c.charCoords(q,"local"),c.scrollTo(null,J.top)):c.scrollTo(null,K);else{var ee=K+c.getScrollInfo().clientHeight;ee<J.bottom?(q.line-=(J.bottom-ee)/A,q.line=Math.floor(q.line),c.setCursor(q),J=c.charCoords(q,"local"),c.scrollTo(null,J.bottom-c.getScrollInfo().clientHeight)):c.scrollTo(null,K)}}},scrollToCursor:function(c,S){var k=c.getCursor().line,T=c.charCoords(new i(k,0),"local"),A=c.getScrollInfo().clientHeight,F=T.top,H=T.bottom-F;switch(S.position){case"center":F=F-A/2+H;break;case"bottom":F=F-A+H;break}c.moveCurrentLineTo(F)},replayMacro:function(c,S,k){var T=S.selectedCharacter,A=S.repeat,F=D.macroModeState;for(T=="@"?T=F.latestRegister:F.latestRegister=T;A--;)gC(c,k,F,T)},enterMacroRecordMode:function(c,S){var k=D.macroModeState,T=S.selectedCharacter;D.registerController.isValidRegister(T)&&k.enterMacroRecordMode(c,T)},toggleOverwrite:function(c){c.state.overwrite?(c.toggleOverwrite(!1),c.setOption("keyMap","vim-insert"),t.default.signal(c,"vim-mode-change",{mode:"insert"})):(c.toggleOverwrite(!0),c.setOption("keyMap","vim-replace"),t.default.signal(c,"vim-mode-change",{mode:"replace"}))},enterInsertMode:function(c,S,k){if(!c.getOption("readOnly")){k.insertMode=!0,k.insertModeRepeat=S&&S.repeat||1;var T=S?S.insertAt:null,A=k.sel,F=S.head||c.getCursor("head"),H=c.listSelections().length;if(T=="eol")F=new i(F.line,Ct(c,F.line));else if(T=="bol")F=new i(F.line,0);else if(T=="charAfter")F=tt(F,0,1);else if(T=="firstNonBlank")F=$e.moveToFirstNonWhiteSpaceCharacter(c,F);else if(T=="startOfSelectedArea"){if(!k.visualMode)return;k.visualBlock?(F=new i(Math.min(A.head.line,A.anchor.line),Math.min(A.head.ch,A.anchor.ch)),H=Math.abs(A.head.line-A.anchor.line)+1):A.head.line<A.anchor.line?F=A.head:F=new i(A.anchor.line,0)}else if(T=="endOfSelectedArea"){if(!k.visualMode)return;k.visualBlock?(F=new i(Math.min(A.head.line,A.anchor.line),Math.max(A.head.ch,A.anchor.ch)+1),H=Math.abs(A.head.line-A.anchor.line)+1):A.head.line>=A.anchor.line?F=tt(A.head,0,1):F=new i(A.anchor.line,0)}else if(T=="inplace"){if(k.visualMode)return}else T=="lastEdit"&&(F=Pp(c)||F);c.setOption("disableInput",!1),S&&S.replace?(c.toggleOverwrite(!0),c.setOption("keyMap","vim-replace"),t.default.signal(c,"vim-mode-change",{mode:"replace"})):(c.toggleOverwrite(!1),c.setOption("keyMap","vim-insert"),t.default.signal(c,"vim-mode-change",{mode:"insert"})),D.macroModeState.isPlaying||(c.on("change",Bp),t.default.on(c.getInputField(),"keydown",Np)),k.visualMode&&an(c),mp(c,F,H)}},toggleVisualMode:function(c,S,k){var T=S.repeat,A=c.getCursor(),F;k.visualMode?k.visualLine^S.linewise||k.visualBlock^S.blockwise?(k.visualLine=!!S.linewise,k.visualBlock=!!S.blockwise,t.default.signal(c,"vim-mode-change",{mode:"visual",subMode:k.visualLine?"linewise":k.visualBlock?"blockwise":""}),Yi(c)):an(c):(k.visualMode=!0,k.visualLine=!!S.linewise,k.visualBlock=!!S.blockwise,F=ht(c,new i(A.line,A.ch+T-1)),k.sel={anchor:A,head:F},t.default.signal(c,"vim-mode-change",{mode:"visual",subMode:k.visualLine?"linewise":k.visualBlock?"blockwise":""}),Yi(c),Rn(c,k,"<",Nr(A,F)),Rn(c,k,">",wi(A,F)))},reselectLastSelection:function(c,S,k){var T=k.lastSelection;if(k.visualMode&&yp(c,k),T){var A=T.anchorMark.find(),F=T.headMark.find();if(!A||!F)return;k.sel={anchor:A,head:F},k.visualMode=!0,k.visualLine=T.visualLine,k.visualBlock=T.visualBlock,Yi(c),Rn(c,k,"<",Nr(A,F)),Rn(c,k,">",wi(A,F)),t.default.signal(c,"vim-mode-change",{mode:"visual",subMode:k.visualLine?"linewise":k.visualBlock?"blockwise":""})}},joinLines:function(c,S,k){var T,A;if(k.visualMode){if(T=c.getCursor("anchor"),A=c.getCursor("head"),yt(A,T)){var F=A;A=T,T=F}A.ch=Ct(c,A.line)-1}else{var H=Math.max(S.repeat,2);T=c.getCursor(),A=ht(c,new i(T.line+H-1,1/0))}for(var K=0,q=T.line;q<A.line;q++){K=Ct(c,T.line);var F=new i(T.line+1,Ct(c,T.line+1)),J=c.getRange(T,F);J=S.keepSpaces?J.replace(/\n\r?/g,""):J.replace(/\n\s*/g," "),c.replaceRange(J,T,F)}var ee=new i(T.line,K);k.visualMode&&an(c,!1),c.setCursor(ee)},newLineAndEnterInsertMode:function(c,S,k){if(!c.getOption("readOnly")){k.insertMode=!0;var T=Ge(c.getCursor());if(T.line===c.firstLine()&&!S.after)c.replaceRange(`
`,new i(c.firstLine(),0)),c.setCursor(c.firstLine(),0);else{T.line=S.after?T.line:T.line-1,T.ch=Ct(c,T.line),c.setCursor(T);var A=t.default.commands.newlineAndIndentContinueComment||t.default.commands.newlineAndIndent;A(c)}this.enterInsertMode(c,{repeat:S.repeat},k)}},paste:function(c,S,k){var T=Ge(c.getCursor()),A=D.registerController.getRegister(S.registerName),F=A.toString();if(F){if(S.matchIndent){var H=c.getOption("tabSize"),K=function(Wn){var Js=Wn.split("	").length-1,Ys=Wn.split(" ").length-1;return Js*H+Ys*1},q=c.getLine(c.getCursor().line),J=K(q.match(/^\s*/)[0]),ee=F.replace(/\n$/,""),ae=F!==ee,oe=K(F.match(/^\s*/)[0]),F=ee.replace(/^\s*/gm,function(Qt){var Wn=J+(K(Qt)-oe);if(Wn<0)return"";if(c.getOption("indentWithTabs")){var Js=Math.floor(Wn/H);return Array(Js+1).join("	")}else return Array(Wn+1).join(" ")});F+=ae?`
`:""}if(S.repeat>1)var F=Array(S.repeat+1).join(F);var se=A.linewise,ge=A.blockwise;if(ge){F=F.split(`
`),se&&F.pop();for(var me=0;me<F.length;me++)F[me]=F[me]==""?" ":F[me];T.ch+=S.after?1:0,T.ch=Math.min(Ct(c,T.line),T.ch)}else se?k.visualMode?F=k.visualLine?F.slice(0,-1):`
`+F.slice(0,F.length-1)+`
`:S.after?(F=`
`+F.slice(0,F.length-1),T.ch=Ct(c,T.line)):T.ch=0:T.ch+=S.after?1:0;var ve,Te;if(k.visualMode){k.lastPastedText=F;var Ee,Re=j1(c,k),Xe=Re[0],sr=Re[1],ft=c.getSelection(),qt=c.listSelections(),We=new Array(qt.length).join("1").split("1");k.lastSelection&&(Ee=k.lastSelection.headMark.find()),D.registerController.unnamedRegister.setText(ft),ge?(c.replaceSelections(We),sr=new i(Xe.line+F.length-1,Xe.ch),c.setCursor(Xe),gp(c,sr),c.replaceSelections(F),ve=Xe):k.visualBlock?(c.replaceSelections(We),c.setCursor(Xe),c.replaceRange(F,Xe,Xe),ve=Xe):(c.replaceRange(F,Xe,sr),ve=c.posFromIndex(c.indexFromPos(Xe)+F.length-1)),Ee&&(k.lastSelection.headMark=c.setBookmark(Ee)),se&&(ve.ch=0)}else if(ge){c.setCursor(T);for(var me=0;me<F.length;me++){var Be=T.line+me;Be>c.lastLine()&&c.replaceRange(`
`,new i(Be,0));var Lt=Ct(c,Be);Lt<T.ch&&H1(c,Be,T.ch)}c.setCursor(T),gp(c,new i(T.line+F.length-1,T.ch)),c.replaceSelections(F),ve=T}else c.replaceRange(F,T),se&&S.after?ve=new i(T.line+1,ln(c.getLine(T.line+1))):se&&!S.after?ve=new i(T.line,ln(c.getLine(T.line))):!se&&S.after?(Te=c.indexFromPos(T),ve=c.posFromIndex(Te+F.length-1)):(Te=c.indexFromPos(T),ve=c.posFromIndex(Te+F.length));k.visualMode&&an(c,!1),c.setCursor(ve)}},undo:function(c,S){c.operation(function(){Ve(c,t.default.commands.undo,S.repeat)(),c.setCursor(c.getCursor("anchor"))})},redo:function(c,S){Ve(c,t.default.commands.redo,S.repeat)()},setRegister:function(c,S,k){k.inputState.registerName=S.selectedCharacter},setMark:function(c,S,k){var T=S.selectedCharacter;Rn(c,k,T,c.getCursor())},replace:function(c,S,k){var T=S.selectedCharacter,A=c.getCursor(),F,H,K=c.listSelections();if(k.visualMode)A=c.getCursor("start"),H=c.getCursor("end");else{var q=c.getLine(A.line);F=A.ch+S.repeat,F>q.length&&(F=q.length),H=new i(A.line,F)}if(T==`
`)k.visualMode||c.replaceRange("",A,H),(t.default.commands.newlineAndIndentContinueComment||t.default.commands.newlineAndIndent)(c);else{var J=c.getRange(A,H);if(J=J.replace(/[^\n]/g,T),k.visualBlock){var ee=new Array(c.getOption("tabSize")+1).join(" ");J=c.getSelection(),J=J.replace(/\t/g,ee).replace(/[^\n]/g,T).split(`
`),c.replaceSelections(J)}else c.replaceRange(J,A,H);k.visualMode?(A=yt(K[0].anchor,K[0].head)?K[0].anchor:K[0].head,c.setCursor(A),an(c,!1)):c.setCursor(tt(H,0,-1))}},incrementNumberToken:function(c,S){for(var k=c.getCursor(),T=c.getLine(k.line),A=/(-?)(?:(0x)([\da-f]+)|(0b|0|)(\d+))/gi,F,H,K,q;(F=A.exec(T))!==null&&(H=F.index,K=H+F[0].length,!(k.ch<K)););if(!(!S.backtrack&&K<=k.ch)){if(F){var J=F[2]||F[4],ee=F[3]||F[5],ae=S.increase?1:-1,oe={"0b":2,0:8,"":10,"0x":16}[J.toLowerCase()],se=parseInt(F[1]+ee,oe)+ae*S.repeat;q=se.toString(oe);var ge=J?new Array(ee.length-q.length+1+F[1].length).join("0"):"";q.charAt(0)==="-"?q="-"+J+ge+q.substr(1):q=J+ge+q;var me=new i(k.line,H),ve=new i(k.line,K);c.replaceRange(q,me,ve)}else return;c.setCursor(new i(k.line,H+q.length-1))}},repeatLastEdit:function(c,S,k){var T=k.lastEditInputState;if(T){var A=S.repeat;A&&S.repeatIsExplicit?k.lastEditInputState.repeatOverride=A:A=k.lastEditInputState.repeatOverride||A,$p(c,k,A,!1)}},indent:function(c,S){c.indentLine(c.getCursor().line,S.indentRight)},exitInsertMode:Xs};function ir(x,c){Br[x]=c}function ht(x,c){var S=x.state.vim,k=S.insertMode||S.visualMode,T=Math.min(Math.max(x.firstLine(),c.line),x.lastLine()),A=Ct(x,T)-1+!!k,F=Math.min(Math.max(0,c.ch),A);return new i(T,F)}function on(x){var c={};for(var S in x)x.hasOwnProperty(S)&&(c[S]=x[S]);return c}function tt(x,c,S){return n(c)==="object"&&(S=c.ch,c=c.line),new i(x.line+c,x.ch+S)}function En(x,c,S,k){for(var T,A=[],F=[],H=0;H<c.length;H++){var K=c[H];S=="insert"&&K.context!="insert"||K.context&&K.context!=S||k.operator&&K.type=="action"||!(T=_r(x,K.keys))||(T=="partial"&&A.push(K),T=="full"&&F.push(K))}return{partial:A.length&&A,full:F.length&&F}}function _r(x,c){if(c.slice(-11)=="<character>"){var S=c.length-11,k=x.slice(0,S),T=c.slice(0,S);return k==T&&x.length>S?"full":T.indexOf(k)==0?"partial":!1}else return x==c?"full":c.indexOf(x)==0?"partial":!1}function Gr(x){var c=/^.*(<[^>]+>)$/.exec(x),S=c?c[1]:x.slice(-1);if(S.length>1)switch(S){case"<CR>":S=`
`;break;case"<Space>":S=" ";break;default:S="";break}return S}function Ve(x,c,S){return function(){for(var k=0;k<S;k++)c(x)}}function Ge(x){return new i(x.line,x.ch)}function Fr(x,c){return x.ch==c.ch&&x.line==c.line}function yt(x,c){return x.line<c.line||x.line==c.line&&x.ch<c.ch}function Nr(x,c){return arguments.length>2&&(c=Nr.apply(void 0,Array.prototype.slice.call(arguments,1))),yt(x,c)?x:c}function wi(x,c){return arguments.length>2&&(c=wi.apply(void 0,Array.prototype.slice.call(arguments,1))),yt(x,c)?c:x}function vp(x,c,S){var k=yt(x,c),T=yt(c,S);return k&&T}function Ct(x,c){return x.getLine(c).length}function cc(x){return x.trim?x.trim():x.replace(/^\s+|\s+$/g,"")}function $1(x){return x.replace(/([.?*+$\[\]\/\\(){}|\-])/g,"\\$1")}function H1(x,c,S){var k=Ct(x,c),T=new Array(S-k+1).join(" ");x.setCursor(new i(c,k)),x.replaceRange(T,x.getCursor())}function gp(x,c){var S=[],k=x.listSelections(),T=Ge(x.clipPos(c)),A=!Fr(c,T),F=x.getCursor("head"),H=U1(k,F),K=Fr(k[H].head,k[H].anchor),q=k.length-1,J=q-H>H?q:0,ee=k[J].anchor,ae=Math.min(ee.line,T.line),oe=Math.max(ee.line,T.line),se=ee.ch,ge=T.ch,me=k[J].head.ch-se,ve=ge-se;me>0&&ve<=0?(se++,A||ge--):me<0&&ve>=0?(se--,K||ge++):me<0&&ve==-1&&(se--,ge++);for(var Te=ae;Te<=oe;Te++){var Ee={anchor:new i(Te,se),head:new i(Te,ge)};S.push(Ee)}return x.setSelections(S),c.ch=ge,ee.ch=se,ee}function mp(x,c,S){for(var k=[],T=0;T<S;T++){var A=tt(c,T,0);k.push({anchor:A,head:A})}x.setSelections(k,0)}function U1(x,c,S){for(var k=0;k<x.length;k++){var T=Fr(x[k].anchor,c),A=Fr(x[k].head,c);if(T||A)return k}return-1}function j1(x,c){var S=c.lastSelection,k=function(){var F=x.listSelections(),H=F[0],K=F[F.length-1],q=yt(H.anchor,H.head)?H.anchor:H.head,J=yt(K.anchor,K.head)?K.head:K.anchor;return[q,J]},T=function(){var F=x.getCursor(),H=x.getCursor(),K=S.visualBlock;if(K){var q=K.width,J=K.height;H=new i(F.line+J,F.ch+q);for(var ee=[],ae=F.line;ae<H.line;ae++){var oe=new i(ae,F.ch),se=new i(ae,H.ch),ge={anchor:oe,head:se};ee.push(ge)}x.setSelections(ee)}else{var me=S.anchorMark.find(),ve=S.headMark.find(),Te=ve.line-me.line,Ee=ve.ch-me.ch;H={line:H.line+Te,ch:Te?H.ch:Ee+H.ch},S.visualLine&&(F=new i(F.line,0),H=new i(H.line,Ct(x,H.line))),x.setSelection(F,H)}return[F,H]};return c.visualMode?k():T()}function yp(x,c){var S=c.sel.anchor,k=c.sel.head;c.lastPastedText&&(k=x.posFromIndex(x.indexFromPos(S)+c.lastPastedText.length),c.lastPastedText=null),c.lastSelection={anchorMark:x.setBookmark(S),headMark:x.setBookmark(k),anchor:Ge(S),head:Ge(k),visualMode:c.visualMode,visualLine:c.visualLine,visualBlock:c.visualBlock}}function W1(x,c,S){var k=x.state.vim.sel,T=k.head,A=k.anchor,F;return yt(S,c)&&(F=S,S=c,c=F),yt(T,A)?(T=Nr(c,T),A=wi(A,S)):(A=Nr(c,A),T=wi(T,S),T=tt(T,0,-1),T.ch==-1&&T.line!=x.firstLine()&&(T=new i(T.line-1,Ct(x,T.line-1)))),[A,T]}function Yi(x,c,T){var k=x.state.vim;c=c||k.sel;var T=T||k.visualLine?"line":k.visualBlock?"block":"char",A=hc(x,c,T);x.setSelections(A.ranges,A.primary)}function hc(x,c,S,k){var T=Ge(c.head),A=Ge(c.anchor);if(S=="char"){var F=!k&&!yt(c.head,c.anchor)?1:0,H=yt(c.head,c.anchor)?1:0;return T=tt(c.head,0,F),A=tt(c.anchor,0,H),{ranges:[{anchor:A,head:T}],primary:0}}else if(S=="line"){if(yt(c.head,c.anchor))T.ch=0,A.ch=Ct(x,A.line);else{A.ch=0;var K=x.lastLine();T.line>K&&(T.line=K),T.ch=Ct(x,T.line)}return{ranges:[{anchor:A,head:T}],primary:0}}else if(S=="block"){var q=Math.min(A.line,T.line),J=A.ch,ee=Math.max(A.line,T.line),ae=T.ch;J<ae?ae+=1:J+=1;for(var oe=ee-q+1,se=T.line==q?0:oe-1,ge=[],me=0;me<oe;me++)ge.push({anchor:new i(q+me,J),head:new i(q+me,ae)});return{ranges:ge,primary:se}}}function z1(x){var c=x.getCursor("head");return x.getSelection().length==1&&(c=Nr(c,x.getCursor("anchor"))),c}function an(x,c){var S=x.state.vim;c!==!1&&x.setCursor(ht(x,S.sel.head)),yp(x,S),S.visualMode=!1,S.visualLine=!1,S.visualBlock=!1,S.insertMode||t.default.signal(x,"vim-mode-change",{mode:"normal"})}function K1(x,c,S){var k=x.getRange(c,S);if(/\n\s*$/.test(k)){var T=k.split(`
`);T.pop();for(var A,A=T.pop();T.length>0&&A&&Q(A);A=T.pop())S.line--,S.ch=0;A?(S.line--,S.ch=Ct(x,S.line)):S.ch=0}}function V1(x,c,S){c.ch=0,S.ch=0,S.line++}function ln(x){if(!x)return 0;var c=x.search(/\S/);return c==-1?x.length:c}function ya(x,c,S,k,T){for(var A=z1(x),F=x.getLine(A.line),H=A.ch,K=T?_[0]:R[0];!K(F.charAt(H));)if(H++,H>=F.length)return null;k?K=R[0]:(K=_[0],K(F.charAt(H))||(K=_[1]));for(var q=H,J=H;K(F.charAt(q))&&q<F.length;)q++;for(;K(F.charAt(J))&&J>=0;)J--;if(J++,c){for(var ee=q;/\s/.test(F.charAt(q))&&q<F.length;)q++;if(ee==q){for(var ae=J;/\s/.test(F.charAt(J-1))&&J>0;)J--;J||(J=ae)}}return{start:new i(A.line,J),end:new i(A.line,q)}}function G1(x,c,S){var k=c;if(!t.default.findMatchingTag||!t.default.findEnclosingTag)return{start:k,end:k};var T=t.default.findMatchingTag(x,c)||t.default.findEnclosingTag(x,c);return!T||!T.open||!T.close?{start:k,end:k}:S?{start:T.open.from,end:T.close.to}:{start:T.open.to,end:T.close.from}}function _p(x,c,S){Fr(c,S)||D.jumpList.add(x,c,S)}function Sp(x,c){D.lastCharacterSearch.increment=x,D.lastCharacterSearch.forward=c.forward,D.lastCharacterSearch.selectedCharacter=c.selectedCharacter}var q1={"(":"bracket",")":"bracket","{":"bracket","}":"bracket","[":"section","]":"section","*":"comment","/":"comment",m:"method",M:"method","#":"preprocess"},Cp={bracket:{isComplete:function(c){if(c.nextCh===c.symb){if(c.depth++,c.depth>=1)return!0}else c.nextCh===c.reverseSymb&&c.depth--;return!1}},section:{init:function(c){c.curMoveThrough=!0,c.symb=(c.forward?"]":"[")===c.symb?"{":"}"},isComplete:function(c){return c.index===0&&c.nextCh===c.symb}},comment:{isComplete:function(c){var S=c.lastCh==="*"&&c.nextCh==="/";return c.lastCh=c.nextCh,S}},method:{init:function(c){c.symb=c.symb==="m"?"{":"}",c.reverseSymb=c.symb==="{"?"}":"{"},isComplete:function(c){return c.nextCh===c.symb}},preprocess:{init:function(c){c.index=0},isComplete:function(c){if(c.nextCh==="#"){var S=c.lineText.match(/^#(\w+)/)[1];if(S==="endif"){if(c.forward&&c.depth===0)return!0;c.depth++}else if(S==="if"){if(!c.forward&&c.depth===0)return!0;c.depth--}if(S==="else"&&c.depth===0)return!0}return!1}}};function Q1(x,c,S,k){var T=Ge(x.getCursor()),A=S?1:-1,F=S?x.lineCount():-1,H=T.ch,K=T.line,q=x.getLine(K),J={lineText:q,nextCh:q.charAt(H),lastCh:null,index:H,symb:k,reverseSymb:(S?{")":"(","}":"{"}:{"(":")","{":"}"})[k],forward:S,depth:0,curMoveThrough:!1},ee=q1[k];if(!ee)return T;var ae=Cp[ee].init,oe=Cp[ee].isComplete;for(ae&&ae(J);K!==F&&c;){if(J.index+=A,J.nextCh=J.lineText.charAt(J.index),!J.nextCh){if(K+=A,J.lineText=x.getLine(K)||"",A>0)J.index=0;else{var se=J.lineText.length;J.index=se>0?se-1:0}J.nextCh=J.lineText.charAt(J.index)}oe(J)&&(T.line=K,T.ch=J.index,c--)}return J.nextCh||J.curMoveThrough?new i(K,J.index):T}function X1(x,c,S,k,T){var A=c.line,F=c.ch,H=x.getLine(A),K=S?1:-1,q=k?R:_;if(T&&H==""){if(A+=K,H=x.getLine(A),!B(x,A))return null;F=S?0:H.length}for(;;){if(T&&H=="")return{from:0,to:0,line:A};for(var J=K>0?H.length:-1,ee=J,ae=J;F!=J;){for(var oe=!1,se=0;se<q.length&&!oe;++se)if(q[se](H.charAt(F))){for(ee=F;F!=J&&q[se](H.charAt(F));)F+=K;if(ae=F,oe=ee!=ae,ee==c.ch&&A==c.line&&ae==ee+K)continue;return{from:Math.min(ee,ae+1),to:Math.max(ee,ae),line:A}}oe||(F+=K)}if(A+=K,!B(x,A))return null;H=x.getLine(A),F=K>0?0:H.length}}function J1(x,c,S,k,T,A){var F=Ge(c),H=[];(k&&!T||!k&&T)&&S++;for(var K=!(k&&T),q=0;q<S;q++){var J=X1(x,c,k,A,K);if(!J){var ee=Ct(x,x.lastLine());H.push(k?{line:x.lastLine(),from:ee,to:ee}:{line:0,from:0,to:0});break}H.push(J),c=new i(J.line,k?J.to-1:J.from)}var ae=H.length!=S,oe=H[0],se=H.pop();return k&&!T?(!ae&&(oe.from!=F.ch||oe.line!=F.line)&&(se=H.pop()),new i(se.line,se.from)):k&&T?new i(se.line,se.to-1):!k&&T?(!ae&&(oe.to!=F.ch||oe.line!=F.line)&&(se=H.pop()),new i(se.line,se.to)):new i(se.line,se.from)}function wp(x,c,S,k,T){var A=c,F=new i(A.line+S.repeat-1,1/0),H=x.clipPos(F);return H.ch--,T||(k.lastHPos=1/0,k.lastHSPos=x.charCoords(H,"div").left),F}function fc(x,c,S,k){for(var T=x.getCursor(),A=T.ch,F,H=0;H<c;H++){var K=x.getLine(T.line);if(F=Z1(A,K,k,S),F==-1)return null;A=F}return new i(x.getCursor().line,F)}function Y1(x,c){var S=x.getCursor().line;return ht(x,new i(S,c-1))}function Rn(x,c,S,k){M(S,U)&&(c.marks[S]&&c.marks[S].clear(),c.marks[S]=x.setBookmark(k))}function Z1(x,c,S,k,T){var A;return k?A=c.indexOf(S,x+1):A=c.lastIndexOf(S,x-1),A}function kp(x,c,S,k,T){var A=c.line,F=x.firstLine(),H=x.lastLine(),K,q,J=A;function ee(me){return!x.getLine(me)}function ae(me,ve,Te){return Te?ee(me)!=ee(me+ve):!ee(me)&&ee(me+ve)}if(k){for(;F<=J&&J<=H&&S>0;)ae(J,k)&&S--,J+=k;return new i(J,0)}var oe=x.state.vim;if(oe.visualLine&&ae(A,1,!0)){var se=oe.sel.anchor;ae(se.line,-1,!0)&&(!T||se.line!=A)&&(A+=1)}var ge=ee(A);for(J=A;J<=H&&S;J++)ae(J,1,!0)&&(!T||ee(J)!=ge)&&S--;for(q=new i(J,0),J>H&&!ge?ge=!0:T=!1,J=A;J>F&&!((!T||ee(J)==ge||J==A)&&ae(J,-1,!0));J--);return K=new i(J,0),{start:K,end:q}}function eC(x,c,S,k){function T(K,q){if(q.pos+q.dir<0||q.pos+q.dir>=q.line.length){if(q.ln+=q.dir,!B(K,q.ln)){q.line=null,q.ln=null,q.pos=null;return}q.line=K.getLine(q.ln),q.pos=q.dir>0?0:q.line.length-1}else q.pos+=q.dir}function A(K,q,J,ee){var me=K.getLine(q),ae=me==="",oe={line:me,ln:q,pos:J,dir:ee},se={ln:oe.ln,pos:oe.pos},ge=oe.line==="";for(T(K,oe);oe.line!==null;){if(se.ln=oe.ln,se.pos=oe.pos,oe.line===""&&!ge)return{ln:oe.ln,pos:oe.pos};if(ae&&oe.line!==""&&!Q(oe.line[oe.pos]))return{ln:oe.ln,pos:oe.pos};V(oe.line[oe.pos])&&!ae&&(oe.pos===oe.line.length-1||Q(oe.line[oe.pos+1]))&&(ae=!0),T(K,oe)}var me=K.getLine(se.ln);se.pos=0;for(var ve=me.length-1;ve>=0;--ve)if(!Q(me[ve])){se.pos=ve;break}return se}function F(K,q,J,ee){var ge=K.getLine(q),ae={line:ge,ln:q,pos:J,dir:ee},oe={ln:ae.ln,pos:null},se=ae.line==="";for(T(K,ae);ae.line!==null;){if(ae.line===""&&!se)return oe.pos!==null?oe:{ln:ae.ln,pos:ae.pos};if(V(ae.line[ae.pos])&&oe.pos!==null&&!(ae.ln===oe.ln&&ae.pos+1===oe.pos))return oe;ae.line!==""&&!Q(ae.line[ae.pos])&&(se=!1,oe={ln:ae.ln,pos:ae.pos}),T(K,ae)}var ge=K.getLine(oe.ln);oe.pos=0;for(var me=0;me<ge.length;++me)if(!Q(ge[me])){oe.pos=me;break}return oe}for(var H={ln:c.line,pos:c.ch};S>0;)k<0?H=F(x,H.ln,H.pos,k):H=A(x,H.ln,H.pos,k),S--;return new i(H.ln,H.pos)}function tC(x,c,S,k){var T=c,A,F,H={"(":/[()]/,")":/[()]/,"[":/[[\]]/,"]":/[[\]]/,"{":/[{}]/,"}":/[{}]/,"<":/[<>]/,">":/[<>]/}[S],K={"(":"(",")":"(","[":"[","]":"[","{":"{","}":"{","<":"<",">":"<"}[S],q=x.getLine(T.line).charAt(T.ch),J=q===K?1:0;if(A=x.scanForBracket(new i(T.line,T.ch+J),-1,void 0,{bracketRegex:H}),F=x.scanForBracket(new i(T.line,T.ch+J),1,void 0,{bracketRegex:H}),!A||!F)return{start:T,end:T};if(A=A.pos,F=F.pos,A.line==F.line&&A.ch>F.ch||A.line>F.line){var ee=A;A=F,F=ee}return k?F.ch+=1:A.ch+=1,{start:A,end:F}}function rC(x,c,S,k){var T=Ge(c),A=x.getLine(T.line),F=A.split(""),H,K,q,J,ee=F.indexOf(S);if(T.ch<ee?T.ch=ee:ee<T.ch&&F[T.ch]==S&&(K=T.ch,--T.ch),F[T.ch]==S&&!K)H=T.ch+1;else for(q=T.ch;q>-1&&!H;q--)F[q]==S&&(H=q+1);if(H&&!K)for(q=H,J=F.length;q<J&&!K;q++)F[q]==S&&(K=q);return!H||!K?{start:T,end:T}:(k&&(--H,++K),{start:new i(T.line,H),end:new i(T.line,K)})}O("pcre",!0,"boolean");function bp(){}bp.prototype={getQuery:function(){return D.query},setQuery:function(c){D.query=c},getOverlay:function(){return this.searchOverlay},setOverlay:function(c){this.searchOverlay=c},isReversed:function(){return D.isReversed},setReversed:function(c){D.isReversed=c},getScrollbarAnnotate:function(){return this.annotate},setScrollbarAnnotate:function(c){this.annotate=c}};function un(x){var c=x.state.vim;return c.searchState_||(c.searchState_=new bp)}function nC(x){return xp(x,"/")}function iC(x){return Ep(x,"/")}function xp(x,c){var S=Ep(x,c)||[];if(!S.length)return[];var k=[];if(S[0]===0){for(var T=0;T<S.length;T++)typeof S[T]=="number"&&k.push(x.substring(S[T]+1,S[T+1]));return k}}function Ep(x,c){c||(c="/");for(var S=!1,k=[],T=0;T<x.length;T++){var A=x.charAt(T);!S&&A==c&&k.push(T),S=!S&&A=="\\"}return k}function sC(x){for(var c="|(){",S="}",k=!1,T=[],A=-1;A<x.length;A++){var F=x.charAt(A)||"",H=x.charAt(A+1)||"",K=H&&c.indexOf(H)!=-1;k?((F!=="\\"||!K)&&T.push(F),k=!1):F==="\\"?(k=!0,H&&S.indexOf(H)!=-1&&(K=!0),(!K||H==="\\")&&T.push(F)):(T.push(F),K&&H!=="\\"&&T.push("\\"))}return T.join("")}var Rp={"\\n":`
`,"\\r":"\r","\\t":"	"};function oC(x){for(var c=!1,S=[],k=-1;k<x.length;k++){var T=x.charAt(k)||"",A=x.charAt(k+1)||"";Rp[T+A]?(S.push(Rp[T+A]),k++):c?(S.push(T),c=!1):T==="\\"?(c=!0,N(A)||A==="$"?S.push("$"):A!=="/"&&A!=="\\"&&S.push("\\")):(T==="$"&&S.push("$"),S.push(T),A==="/"&&S.push("\\"))}return S.join("")}var Tp={"\\/":"/","\\\\":"\\","\\n":`
`,"\\r":"\r","\\t":"	","\\&":"&"};function aC(x){for(var c=new t.default.StringStream(x),S=[];!c.eol();){for(;c.peek()&&c.peek()!="\\";)S.push(c.next());var k=!1;for(var T in Tp)if(c.match(T,!0)){k=!0,S.push(Tp[T]);break}k||S.push(c.next())}return S.join("")}function lC(x,c,S){var k=D.registerController.getRegister("/");if(k.setText(x),x instanceof RegExp)return x;var T=iC(x),A,F;if(!T.length)A=x;else{A=x.substring(0,T[0]);var H=x.substring(T[0]);F=H.indexOf("i")!=-1}if(!A)return null;Z("pcre")||(A=sC(A)),S&&(c=/^[^A-Z]*$/.test(A));var K=new RegExp(A,c||F?"im":"m");return K}function ki(x){typeof x=="string"&&(x=document.createElement(x));for(var c,S=1;S<arguments.length;S++)if(c=arguments[S])if(n(c)!=="object"&&(c=document.createTextNode(c)),c.nodeType)x.appendChild(c);else for(var k in c)Object.prototype.hasOwnProperty.call(c,k)&&(k[0]==="$"?x.style[k.slice(1)]=c[k]:x.setAttribute(k,c[k]));return x}function Qe(x,c){var S=ki("pre",{$color:"red",class:"cm-vim-message"},c);x.openNotification?x.openNotification(S,{bottom:!0,duration:5e3}):alert(S.innerText)}function uC(x,c){return ki(document.createDocumentFragment(),ki("span",{$fontFamily:"monospace",$whiteSpace:"pre"},x,ki("input",{type:"text",autocorrect:"off",autocapitalize:"off",spellcheck:"false"})),c&&ki("span",{$color:"#888"},c))}function _a(x,c){var S=uC(c.prefix,c.desc);if(x.openDialog)x.openDialog(S,c.onClose,{onKeyDown:c.onKeyDown,onKeyUp:c.onKeyUp,bottom:!0,selectValueOnOpen:!1,value:c.value});else{var k="";typeof c.prefix!="string"&&c.prefix&&(k+=c.prefix.textContent),c.desc&&(k+=" "+c.desc),c.onClose(prompt(k,""))}}function cC(x,c){if(x instanceof RegExp&&c instanceof RegExp){for(var S=["global","multiline","ignoreCase","source"],k=0;k<S.length;k++){var T=S[k];if(x[T]!==c[T])return!1}return!0}return!1}function Qs(x,c,S,k){if(c){var T=un(x),A=lC(c,!!S,!!k);if(A)return Lp(x,A),cC(A,T.getQuery())||T.setQuery(A),A}}function hC(x){if(x.source.charAt(0)=="^")var c=!0;return{token:function(k){if(c&&!k.sol()){k.skipToEnd();return}var T=k.match(x,!1);if(T)return T[0].length==0?(k.next(),"searching"):!k.sol()&&(k.backUp(1),!x.exec(k.next()+T[0]))?(k.next(),null):(k.match(x),"searching");for(;!k.eol()&&(k.next(),!k.match(x,!1)););},query:x}}var Sa=0;function Lp(x,c){clearTimeout(Sa),Sa=setTimeout(function(){if(x.state.vim){var S=un(x),k=S.getOverlay();(!k||c!=k.query)&&(k&&x.removeOverlay(k),k=hC(c),x.addOverlay(k),x.showMatchesOnScrollbar&&(S.getScrollbarAnnotate()&&S.getScrollbarAnnotate().clear(),S.setScrollbarAnnotate(x.showMatchesOnScrollbar(c))),S.setOverlay(k))}},50)}function Ap(x,c,S,k){return k===void 0&&(k=1),x.operation(function(){for(var T=x.getCursor(),A=x.getSearchCursor(S,T),F=0;F<k;F++){var H=A.find(c);if(F==0&&H&&Fr(A.from(),T)){var K=c?A.from():A.to();H=A.find(c),H&&!H[0]&&Fr(A.from(),K)&&x.getLine(K.line).length==K.ch&&(H=A.find(c))}if(!H&&(A=x.getSearchCursor(S,c?new i(x.lastLine()):new i(x.firstLine(),0)),!A.find(c)))return}return A.from()})}function fC(x,c,S,k,T){return k===void 0&&(k=1),x.operation(function(){var A=x.getCursor(),F=x.getSearchCursor(S,A),H=F.find(!c);!T.visualMode&&H&&Fr(F.from(),A)&&F.find(!c);for(var K=0;K<k;K++)if(H=F.find(c),!H&&(F=x.getSearchCursor(S,c?new i(x.lastLine()):new i(x.firstLine(),0)),!F.find(c)))return;return[F.from(),F.to()]})}function dc(x){var c=un(x);x.removeOverlay(un(x).getOverlay()),c.setOverlay(null),c.getScrollbarAnnotate()&&(c.getScrollbarAnnotate().clear(),c.setScrollbarAnnotate(null))}function dC(x,c,S){return typeof x!="number"&&(x=x.line),c instanceof Array?M(x,c):typeof S=="number"?x>=c&&x<=S:x==c}function pc(x){var c=x.getScrollInfo(),S=6,k=10,T=x.coordsChar({left:0,top:S+c.top},"local"),A=c.clientHeight-k+c.top,F=x.coordsChar({left:0,top:A},"local");return{top:T.line,bottom:F.line}}function Mp(x,c,S){if(S=="'"||S=="`")return D.jumpList.find(x,-1)||new i(0,0);if(S==".")return Pp(x);var k=c.marks[S];return k&&k.find()}function Pp(x){for(var c=x.doc.history.done,S=c.length;S--;)if(c[S].changes)return Ge(c[S].changes[0].to)}var Op=function(){this.buildCommandMap_()};Op.prototype={processCommand:function(c,S,k){var T=this;c.operation(function(){c.curOp.isVimOp=!0,T._processCommand(c,S,k)})},_processCommand:function(c,S,k){var T=c.state.vim,A=D.registerController.getRegister(":"),F=A.toString();T.visualMode&&an(c);var H=new t.default.StringStream(S);A.setText(S);var K=k||{};K.input=S;try{this.parseInput_(c,H,K)}catch(ae){throw Qe(c,ae.toString()),ae}var q,J;if(!K.commandName)K.line!==void 0&&(J="move");else if(q=this.matchCommand_(K.commandName),q){if(J=q.name,q.excludeFromCommandHistory&&A.setText(F),this.parseCommandArgs_(H,K,q),q.type=="exToKey"){for(var ee=0;ee<q.toKeys.length;ee++)ce.handleKey(c,q.toKeys[ee],"mapping");return}else if(q.type=="exToEx"){this.processCommand(c,q.toInput);return}}if(!J){Qe(c,'Not an editor command ":'+S+'"');return}try{Ip[J](c,K),(!q||!q.possiblyAsync)&&K.callback&&K.callback()}catch(ae){throw Qe(c,ae.toString()),ae}},parseInput_:function(c,S,k){S.eatWhile(":"),S.eat("%")?(k.line=c.firstLine(),k.lineEnd=c.lastLine()):(k.line=this.parseLineSpec_(c,S),k.line!==void 0&&S.eat(",")&&(k.lineEnd=this.parseLineSpec_(c,S)));var T=S.match(/^(\w+|!!|@@|[!#&*<=>@~])/);return T?k.commandName=T[1]:k.commandName=S.match(/.*/)[0],k},parseLineSpec_:function(c,S){var k=S.match(/^(\d+)/);if(k)return parseInt(k[1],10)-1;switch(S.next()){case".":return this.parseLineSpecOffset_(S,c.getCursor().line);case"$":return this.parseLineSpecOffset_(S,c.lastLine());case"'":var T=S.next(),A=Mp(c,c.state.vim,T);if(!A)throw new Error("Mark not set");return this.parseLineSpecOffset_(S,A.line);case"-":case"+":return S.backUp(1),this.parseLineSpecOffset_(S,c.getCursor().line);default:S.backUp(1);return}},parseLineSpecOffset_:function(c,S){var k=c.match(/^([+-])?(\d+)/);if(k){var T=parseInt(k[2],10);k[1]=="-"?S-=T:S+=T}return S},parseCommandArgs_:function(c,S,k){if(!c.eol()){S.argString=c.match(/.*/)[0];var T=k.argDelimiter||/\s+/,A=cc(S.argString).split(T);A.length&&A[0]&&(S.args=A)}},matchCommand_:function(c){for(var S=c.length;S>0;S--){var k=c.substring(0,S);if(this.commandMap_[k]){var T=this.commandMap_[k];if(T.name.indexOf(c)===0)return T}}return null},buildCommandMap_:function(){this.commandMap_={};for(var c=0;c<l.length;c++){var S=l[c],k=S.shortName||S.name;this.commandMap_[k]=S}},map:function(c,S,k){if(c!=":"&&c.charAt(0)==":"){if(k)throw Error("Mode not supported for ex mappings");var T=c.substring(1);S!=":"&&S.charAt(0)==":"?this.commandMap_[T]={name:T,type:"exToEx",toInput:S.substring(1),user:!0}:this.commandMap_[T]={name:T,type:"exToKey",toKeys:S,user:!0}}else if(S!=":"&&S.charAt(0)==":"){var A={keys:c,type:"keyToEx",exArgs:{input:S.substring(1)}};k&&(A.context=k),a.unshift(A)}else{var A={keys:c,type:"keyToKey",toKeys:S};k&&(A.context=k),a.unshift(A)}},unmap:function(c,S){if(c!=":"&&c.charAt(0)==":"){if(S)throw Error("Mode not supported for ex mappings");var k=c.substring(1);if(this.commandMap_[k]&&this.commandMap_[k].user)return delete this.commandMap_[k],!0}else for(var T=c,A=0;A<a.length;A++)if(T==a[A].keys&&a[A].context===S)return a.splice(A,1),!0}};var Ip={colorscheme:function(c,S){if(!S.args||S.args.length<1){Qe(c,c.getOption("theme"));return}c.setOption("theme",S.args[0])},map:function(c,S,k){var T=S.args;if(!T||T.length<2){c&&Qe(c,"Invalid mapping: "+S.input);return}cn.map(T[0],T[1],k)},imap:function(c,S){this.map(c,S,"insert")},nmap:function(c,S){this.map(c,S,"normal")},vmap:function(c,S){this.map(c,S,"visual")},unmap:function(c,S,k){var T=S.args;(!T||T.length<1||!cn.unmap(T[0],k))&&c&&Qe(c,"No such mapping: "+S.input)},move:function(c,S){Oe.processCommand(c,c.state.vim,{type:"motion",motion:"moveToLineOrEdgeOfDocument",motionArgs:{forward:!1,explicitRepeat:!0,linewise:!0},repeatOverride:S.line+1})},set:function(c,S){var k=S.args,T=S.setCfg||{};if(!k||k.length<1){c&&Qe(c,"Invalid mapping: "+S.input);return}var A=k[0].split("="),F=A[0],H=A[1],K=!1;if(F.charAt(F.length-1)=="?"){if(H)throw Error("Trailing characters: "+S.argString);F=F.substring(0,F.length-1),K=!0}H===void 0&&F.substring(0,2)=="no"&&(F=F.substring(2),H=!1);var q=P[F]&&P[F].type=="boolean";if(q&&H==null&&(H=!0),!q&&H===void 0||K){var J=Z(F,c,T);J instanceof Error?Qe(c,J.message):J===!0||J===!1?Qe(c," "+(J?"":"no")+F):Qe(c,"  "+F+"="+J)}else{var ee=j(F,H,c,T);ee instanceof Error&&Qe(c,ee.message)}},setlocal:function(c,S){S.setCfg={scope:"local"},this.set(c,S)},setglobal:function(c,S){S.setCfg={scope:"global"},this.set(c,S)},registers:function(c,S){var k=S.args,T=D.registerController.registers,A=`----------Registers----------

`;if(k){var F;k=k.join("");for(var K=0;K<k.length;K++)if(F=k.charAt(K),!!D.registerController.isValidRegister(F)){var q=T[F]||new _e;A+='"'+F+"    "+q.toString()+`
`}}else for(var F in T){var H=T[F].toString();H.length&&(A+='"'+F+"    "+H+`
`)}Qe(c,A)},sort:function(c,S){var k,T,A,F,H;function K(){if(S.argString){var We=new t.default.StringStream(S.argString);if(We.eat("!")&&(k=!0),We.eol())return;if(!We.eatSpace())return"Invalid arguments";var Be=We.match(/([dinuox]+)?\s*(\/.+\/)?\s*/);if(!Be&&!We.eol())return"Invalid arguments";if(Be[1]){T=Be[1].indexOf("i")!=-1,A=Be[1].indexOf("u")!=-1;var Lt=Be[1].indexOf("d")!=-1||Be[1].indexOf("n")!=-1&&1,or=Be[1].indexOf("x")!=-1&&1,Qt=Be[1].indexOf("o")!=-1&&1;if(Lt+or+Qt>1)return"Invalid arguments";F=Lt&&"decimal"||or&&"hex"||Qt&&"octal"}Be[2]&&(H=new RegExp(Be[2].substr(1,Be[2].length-2),T?"i":""))}}var q=K();if(q){Qe(c,q+": "+S.argString);return}var J=S.line||c.firstLine(),ee=S.lineEnd||S.line||c.lastLine();if(J==ee)return;var ae=new i(J,0),oe=new i(ee,Ct(c,ee)),se=c.getRange(ae,oe).split(`
`),ge=H||(F=="decimal"?/(-?)([\d]+)/:F=="hex"?/(-?)(?:0x)?([0-9a-f]+)/i:F=="octal"?/([0-7]+)/:null),me=F=="decimal"?10:F=="hex"?16:F=="octal"?8:null,ve=[],Te=[];if(F||H)for(var Ee=0;Ee<se.length;Ee++){var Re=H?se[Ee].match(H):null;Re&&Re[0]!=""?ve.push(Re):!H&&ge.exec(se[Ee])?ve.push(se[Ee]):Te.push(se[Ee])}else Te=se;function Xe(We,Be){if(k){var Lt;Lt=We,We=Be,Be=Lt}T&&(We=We.toLowerCase(),Be=Be.toLowerCase());var or=F&&ge.exec(We),Qt=F&&ge.exec(Be);return or?(or=parseInt((or[1]+or[2]).toLowerCase(),me),Qt=parseInt((Qt[1]+Qt[2]).toLowerCase(),me),or-Qt):We<Be?-1:1}function sr(We,Be){if(k){var Lt;Lt=We,We=Be,Be=Lt}return T&&(We[0]=We[0].toLowerCase(),Be[0]=Be[0].toLowerCase()),We[0]<Be[0]?-1:1}if(ve.sort(H?sr:Xe),H)for(var Ee=0;Ee<ve.length;Ee++)ve[Ee]=ve[Ee].input;else F||Te.sort(Xe);if(se=k?ve.concat(Te):Te.concat(ve),A){var ft=se,qt;se=[];for(var Ee=0;Ee<ft.length;Ee++)ft[Ee]!=qt&&se.push(ft[Ee]),qt=ft[Ee]}c.replaceRange(se.join(`
`),ae,oe)},vglobal:function(c,S){this.global(c,S)},global:function(c,S){var k=S.argString;if(!k){Qe(c,"Regular Expression missing from global");return}var T=S.commandName[0]==="v",A=S.line!==void 0?S.line:c.firstLine(),F=S.lineEnd||S.line||c.lastLine(),H=nC(k),K=k,q;if(H.length&&(K=H[0],q=H.slice(1,H.length).join("/")),K)try{Qs(c,K,!0,!0)}catch{Qe(c,"Invalid regex: "+K);return}for(var J=un(c).getQuery(),ee=[],ae=A;ae<=F;ae++){var oe=c.getLineHandle(ae),se=J.test(oe.text);se!==T&&ee.push(q?oe:oe.text)}if(!q){Qe(c,ee.join(`
`));return}var ge=0,me=function(){if(ge<ee.length){var Te=ee[ge++],Ee=c.getLineNumber(Te);if(Ee==null){me();return}var Re=Ee+1+q;cn.processCommand(c,Re,{callback:me})}};me()},substitute:function(c,S){if(!c.getSearchCursor)throw new Error("Search feature not available. Requires searchcursor.js or any other getSearchCursor implementation.");var k=S.argString,T=k?xp(k,k[0]):[],A,F="",H,K,q,J=!1,ee=!1;if(T.length)A=T[0],Z("pcre")&&A!==""&&(A=new RegExp(A).source),F=T[1],F!==void 0&&(Z("pcre")?F=aC(F.replace(/([^\\])&/g,"$1$$&")):F=oC(F),D.lastSubstituteReplacePart=F),H=T[2]?T[2].split(" "):[];else if(k&&k.length){Qe(c,"Substitutions should be of the form :s/pattern/replace/");return}if(H&&(K=H[0],q=parseInt(H[1]),K&&(K.indexOf("c")!=-1&&(J=!0),K.indexOf("g")!=-1&&(ee=!0),Z("pcre")?A=A+"/"+K:A=A.replace(/\//g,"\\/")+"/"+K)),A)try{Qs(c,A,!0,!0)}catch{Qe(c,"Invalid regex: "+A);return}if(F=F||D.lastSubstituteReplacePart,F===void 0){Qe(c,"No previous substitute regular expression");return}var ae=un(c),oe=ae.getQuery(),se=S.line!==void 0?S.line:c.getCursor().line,ge=S.lineEnd||se;se==c.firstLine()&&ge==c.lastLine()&&(ge=1/0),q&&(se=ge,ge=se+q-1);var me=ht(c,new i(se,0)),ve=c.getSearchCursor(oe,me);c.pushUndoStop(),pC(c,J,ee,se,ge,ve,oe,F,S.callback)},redo:t.default.commands.redo,undo:t.default.commands.undo,write:function(c){t.default.commands.save?t.default.commands.save(c):c.save&&c.save()},nohlsearch:function(c){dc(c)},yank:function(c){var S=Ge(c.getCursor()),k=S.line,T=c.getLine(k);D.registerController.pushText("0","yank",T,!0,!0)},delmarks:function(c,S){if(!S.argString||!cc(S.argString)){Qe(c,"Argument required");return}for(var k=c.state.vim,T=new t.default.StringStream(cc(S.argString));!T.eol();){T.eatSpace();var A=T.pos;if(!T.match(/[a-zA-Z]/,!1)){Qe(c,"Invalid argument: "+S.argString.substring(A));return}var F=T.next();if(T.match("-",!0)){if(!T.match(/[a-zA-Z]/,!1)){Qe(c,"Invalid argument: "+S.argString.substring(A));return}var H=F,K=T.next();if($(H)&&$(K)||z(H)&&z(K)){var q=H.charCodeAt(0),J=K.charCodeAt(0);if(q>=J){Qe(c,"Invalid argument: "+S.argString.substring(A));return}for(var ee=0;ee<=J-q;ee++){var ae=String.fromCharCode(q+ee);delete k.marks[ae]}}else{Qe(c,"Invalid argument: "+H+"-");return}}else delete k.marks[F]}}},cn=new Op;function pC(x,c,S,k,T,A,F,H,K){x.state.vim.exMode=!0;var q=!1,J,ee,ae;function oe(){x.operation(function(){for(;!q;)se(),me();ve()})}function se(){var Ee=x.getRange(A.from(),A.to()),Re=Ee.replace(F,H),Xe=A.to().line;A.replace(Re),ee=A.to().line,T+=ee-Xe,ae=ee<Xe}function ge(){var Ee=J&&Ge(A.to()),Re=A.findNext();return Re&&!Re[0]&&Ee&&Fr(A.from(),Ee)&&(Re=A.findNext()),Re}function me(){for(;ge()&&dC(A.from(),k,T);)if(!(!S&&A.from().line==ee&&!ae)){x.scrollIntoView(A.from(),30),x.setSelection(A.from(),A.to()),J=A.from(),q=!1;return}q=!0}function ve(Ee){if(Ee&&Ee(),x.focus(),J){x.setCursor(J);var Re=x.state.vim;Re.exMode=!1,Re.lastHPos=Re.lastHSPos=J.ch}K&&K()}function Te(Ee,Re,Xe){t.default.e_stop(Ee);var sr=t.default.keyName(Ee);switch(sr){case"Y":se(),me();break;case"N":me();break;case"A":var ft=K;K=void 0,x.operation(oe),K=ft;break;case"L":se();case"Q":case"Esc":case"Ctrl-C":case"Ctrl-[":ve(Xe);break}return q&&ve(Xe),!0}if(me(),q){Qe(x,"No matches for "+F.source);return}if(!c){oe(),K&&K();return}_a(x,{prefix:ki("span","replace with ",ki("strong",H)," (y/n/a/q/l)"),onKeyDown:Te})}t.default.keyMap.vim={attach:C,detach:w,call:y};function Xs(x){var c=x.state.vim,S=D.macroModeState,k=D.registerController.getRegister("."),T=S.isPlaying,A=S.lastInsertModeChanges;T||(x.off("change",Bp),t.default.off(x.getInputField(),"keydown",Np)),!T&&c.insertModeRepeat>1&&($p(x,c,c.insertModeRepeat-1,!0),c.lastEditInputState.repeatOverride=c.insertModeRepeat),delete c.insertModeRepeat,c.insertMode=!1,x.setCursor(x.getCursor().line,x.getCursor().ch-1),x.setOption("keyMap","vim"),x.setOption("disableInput",!0),x.toggleOverwrite(!1),k.setText(A.changes.join("")),t.default.signal(x,"vim-mode-change",{mode:"normal"}),S.isRecording&&yC(S),x.enterVimMode()}function Dp(x){a.unshift(x)}function vC(x,c,S,k,T){var A={keys:x,type:c};A[c]=S,A[c+"Args"]=k;for(var F in T)A[F]=T[F];Dp(A)}O("insertModeEscKeysTimeout",200,"number"),t.default.keyMap["vim-insert"]={fallthrough:["default"],attach:C,detach:w,call:y},t.default.keyMap["vim-replace"]={Backspace:"goCharLeft",fallthrough:["vim-insert"],attach:C,detach:w,call:y};function gC(x,c,S,k){var T=D.registerController.getRegister(k);if(k==":"){T.keyBuffer[0]&&cn.processCommand(x,T.keyBuffer[0]),S.isPlaying=!1;return}var A=T.keyBuffer,F=0;S.isPlaying=!0,S.replaySearchQueries=T.searchQueries.slice(0);for(var H=0;H<A.length;H++)for(var K=A[H],q,J;K;)if(q=/<\w+-.+?>|<\w+>|./.exec(K),J=q[0],K=K.substring(q.index+J.length),ce.handleKey(x,J,"macro"),c.insertMode){var ee=T.insertModeChanges[F++].changes;D.macroModeState.lastInsertModeChanges.changes=ee,Hp(x,ee,1),Xs(x)}S.isPlaying=!1}function mC(x,c){if(!x.isPlaying){var S=x.latestRegister,k=D.registerController.getRegister(S);k&&k.pushText(c)}}function yC(x){if(!x.isPlaying){var c=x.latestRegister,S=D.registerController.getRegister(c);S&&S.pushInsertModeChanges&&S.pushInsertModeChanges(x.lastInsertModeChanges)}}function _C(x,c){if(!x.isPlaying){var S=x.latestRegister,k=D.registerController.getRegister(S);k&&k.pushSearchQuery&&k.pushSearchQuery(c)}}function Bp(x,c){var S=D.macroModeState,k=S.lastInsertModeChanges;if(!S.isPlaying)for(;c;){if(k.expectCursorActivityForChange=!0,k.ignoreCount>1)k.ignoreCount--;else if(c.origin=="+input"||c.origin=="paste"||c.origin===void 0){var T=x.listSelections().length;T>1&&(k.ignoreCount=T);var A=c.text.join(`
`);k.maybeReset&&(k.changes=[],k.maybeReset=!1),A&&(x.state.overwrite&&!/\n/.test(A)?k.changes.push([A]):k.changes.push(A))}c=c.next}}function Fp(x){var c=x.state.vim;if(c.insertMode){var S=D.macroModeState;if(S.isPlaying)return;var k=S.lastInsertModeChanges;k.expectCursorActivityForChange?k.expectCursorActivityForChange=!1:k.maybeReset=!0}else x.curOp.isVimOp||SC(x,c)}function SC(x,c){var S=x.getCursor("anchor"),k=x.getCursor("head");if(c.visualMode&&!x.somethingSelected()?an(x,!1):!c.visualMode&&!c.insertMode&&x.somethingSelected()&&(c.visualMode=!0,c.visualLine=!1,t.default.signal(x,"vim-mode-change",{mode:"visual"})),c.visualMode){var T=yt(k,S)?0:-1,A=yt(k,S)?-1:0;k=tt(k,0,T),S=tt(S,0,A),c.sel={anchor:S,head:k},Rn(x,c,"<",Nr(k,S)),Rn(x,c,">",wi(k,S))}else c.insertMode||(c.lastHPos=x.getCursor().ch)}function vc(x){this.keyName=x}function Np(x){var c=D.macroModeState,S=c.lastInsertModeChanges,k=t.default.keyName(x);if(!k)return;function T(){return S.maybeReset&&(S.changes=[],S.maybeReset=!1),S.changes.push(new vc(k)),!0}(k.indexOf("Delete")!=-1||k.indexOf("Backspace")!=-1)&&t.default.lookupKey(k,"vim-insert",T)}function $p(x,c,S,k){var T=D.macroModeState;T.isPlaying=!0;var A=!!c.lastEditActionCommand,F=c.inputState;function H(){A?Oe.processAction(x,c,c.lastEditActionCommand):Oe.evalInput(x,c)}function K(J){if(T.lastInsertModeChanges.changes.length>0){J=c.lastEditActionCommand?J:1;var ee=T.lastInsertModeChanges;Hp(x,ee.changes,J)}}if(c.inputState=c.lastEditInputState,A&&c.lastEditActionCommand.interlaceInsertRepeat)for(var q=0;q<S;q++)H(),K(1);else k||H(),K(S);c.inputState=F,c.insertMode&&!k&&Xs(x),T.isPlaying=!1}function Hp(x,c,S){function k(ee){return typeof ee=="string"?t.default.commands[ee](x):ee(x),!0}var T=x.getCursor("head"),A=D.macroModeState.lastInsertModeChanges.visualBlock;A&&(mp(x,T,A+1),S=x.listSelections().length,x.setCursor(T));for(var F=0;F<S;F++){A&&x.setCursor(tt(T,F,0));for(var H=0;H<c.length;H++){var K=c[H];if(K instanceof vc)t.default.lookupKey(K.keyName,"vim-insert",k);else if(typeof K=="string")window.cm=x,x.replaceSelections(K);else{var q=x.getCursor(),J=tt(q,0,K[0].length);x.replaceRange(K[0],q,J),x.setCursor(J)}}}A&&x.setCursor(tt(T,0,1))}return te(),ce};t.default.Vim=h(),e.default=t.default})(_1);var C1={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;function t(o){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},t(o)}function r(o,l){if(!(o instanceof l))throw new TypeError("Cannot call a class as a function")}function n(o,l){for(var h=0;h<l.length;h++){var g=l[h];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(o,s(g.key),g)}}function i(o,l,h){return l&&n(o.prototype,l),Object.defineProperty(o,"prototype",{writable:!1}),o}function s(o){var l=a(o,"string");return t(l)=="symbol"?l:l+""}function a(o,l){if(t(o)!="object"||!o)return o;var h=o[Symbol.toPrimitive];if(h!==void 0){var g=h.call(o,l);if(t(g)!="object")return g;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(o)}e.default=function(){function o(l,h){var g=this,p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;r(this,o),this.closeInput=function(){g.removeInputListeners(),g.input=null,g.setSec(""),g.editor&&g.editor.focus()},this.clear=function(){g.setInnerHtml_(g.node,"")},this.inputKeyUp=function(m){var w=g.input.options;w&&w.onKeyUp&&w.onKeyUp(m,m.target.value,g.closeInput)},this.inputKeyInput=function(m){var w=g.input.options;w&&w.onKeyInput&&w.onKeyUp(m,m.target.value,g.closeInput)},this.inputBlur=function(){var m=g.input.options;m.closeOnBlur&&g.closeInput()},this.inputKeyDown=function(m){var w=g.input,C=w.options,y=w.callback;C&&C.onKeyDown&&C.onKeyDown(m,m.target.value,g.closeInput)||((m.keyCode===27||C&&C.closeOnEnter!==!1&&m.keyCode==13)&&(g.input.node.blur(),m.stopPropagation(),g.closeInput()),m.keyCode===13&&y&&(m.stopPropagation(),m.preventDefault(),y(m.target.value)))},this.node=l,this.modeInfoNode=document.createElement("span"),this.secInfoNode=document.createElement("span"),this.notifNode=document.createElement("span"),this.notifNode.className="vim-notification",this.keyInfoNode=document.createElement("span"),this.keyInfoNode.setAttribute("style","float: right"),this.node.appendChild(this.modeInfoNode),this.node.appendChild(this.secInfoNode),this.node.appendChild(this.notifNode),this.node.appendChild(this.keyInfoNode),this.toggleVisibility(!1),this.editor=h,this.sanitizer=p}return i(o,[{key:"setMode",value:function(h){if(h.mode==="visual"){h.subMode==="linewise"?this.setText("--VISUAL LINE--"):h.subMode==="blockwise"?this.setText("--VISUAL BLOCK--"):this.setText("--VISUAL--");return}this.setText("--".concat(h.mode.toUpperCase(),"--"))}},{key:"setKeyBuffer",value:function(h){this.keyInfoNode.textContent=h}},{key:"setSec",value:function(h,g,p){if(this.notifNode.textContent="",h===void 0)return this.closeInput;this.setInnerHtml_(this.secInfoNode,h);var m=this.secInfoNode.querySelector("input");return m&&(m.focus(),this.input={callback:g,options:p,node:m},p&&(p.selectValueOnOpen&&m.select(),p.value&&(m.value=p.value)),this.addInputListeners()),this.closeInput}},{key:"setText",value:function(h){this.modeInfoNode.textContent=h}},{key:"toggleVisibility",value:function(h){h?this.node.style.display="block":this.node.style.display="none",this.input&&this.removeInputListeners(),clearInterval(this.notifTimeout)}},{key:"addInputListeners",value:function(){var h=this.input.node;h.addEventListener("keyup",this.inputKeyUp),h.addEventListener("keydown",this.inputKeyDown),h.addEventListener("input",this.inputKeyInput),h.addEventListener("blur",this.inputBlur)}},{key:"removeInputListeners",value:function(){if(!(!this.input||!this.input.node)){var h=this.input.node;h.removeEventListener("keyup",this.inputKeyUp),h.removeEventListener("keydown",this.inputKeyDown),h.removeEventListener("input",this.inputKeyInput),h.removeEventListener("blur",this.inputBlur)}}},{key:"showNotification",value:function(h){var g=this,p=document.createElement("span");this.setInnerHtml_(p,h),this.notifNode.textContent=p.textContent,this.notifTimeout=setTimeout(function(){g.notifNode.textContent=""},5e3)}},{key:"setInnerHtml_",value:function(h,g){for(;h.childNodes.length;)h.removeChild(h.childNodes[0]);g&&(this.sanitizer?h.appendChild(this.sanitizer(g)):h.appendChild(g))}}])}()})(C1);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"StatusBar",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(e,"VimMode",{enumerable:!0,get:function(){return t.default}}),e.initVimMode=i;var t=n(_1),r=n(C1);function n(s){return s&&s.__esModule?s:{default:s}}function i(s){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:r.default,l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,h=new t.default(s);if(!a)return h.attach(),h;var g=new o(a,s,l),p="";return h.on("vim-mode-change",function(m){g.setMode(m)}),h.on("vim-keypress",function(m){m===":"?p="":p+=m,g.setKeyBuffer(p)}),h.on("vim-command-done",function(){p="",g.setKeyBuffer(p)}),h.on("dispose",function(){g.toggleVisibility(!1),g.closeInput(),g.clear()}),g.toggleVisibility(!0),h.setStatusBar(g),h.attach(),h}})(y1);function DA(e,t,r){if(t.MonacoVim&&t.MonacoVim.VimMode&&t.MonacoVim.VimMode.Vim){const n=t.MonacoVim.VimMode.Vim;n.defineEx("w","",()=>{if(e.current){const i=e.current.getValue();localStorage.setItem(Et.editContent,JSON.stringify(i))}}),n.defineEx("q","",()=>{typeof t.setActivity=="function"&&t.setActivity(Ce.NORMAL),localStorage.removeItem(Et.editContent)}),n.defineEx("q!","",()=>{typeof t.setActivity=="function"&&t.setActivity(Ce.NORMAL),localStorage.removeItem(Et.editContent)}),n.defineEx("wq","",()=>{if(e.current){const i=e.current.getValue();localStorage.setItem(Et.editContent,JSON.stringify(i))}typeof t.setActivity=="function"&&t.setActivity(Ce.NORMAL),localStorage.removeItem(Et.editContent)}),n.defineEx("vid","",()=>{r&&r()})}else console.error("MonacoVim not initialized properly.")}function bm({value:e,language:t="text",toggleVideo:r}){const n=G.useRef(null),i=G.useRef(null),s=G.useRef(null),[a,o]=G.useState({flexGrow:1,height:"1000px"});G.useEffect(()=>{if(!i.current||!s.current)return;let h=null,g=null;try{console.log("Before editor creation"),h=kC.create(i.current,{value:e,language:t,minimap:{enabled:!1},automaticLayout:!0,scrollBeyondLastLine:!1,readOnly:!1,theme:"vs-dark",scrollbar:{horizontal:"hidden",vertical:"hidden"},lineNumbersMinChars:2}),window.monacoEditor=h,console.log("After editor creation"),o({flexGrow:1,height:"auto"}),console.log("Before initVimMode"),g=y1.initVimMode(h,s.current),console.log("After initVimMode"),h.focus(),n.current=h,setTimeout(()=>{console.log("Inside setTimeout, before defineVimCommands"),DA(n,window,r),console.log("Inside setTimeout, after defineVimCommands")},5e3);const p=new ResizeObserver(()=>{h?.layout()});return p.observe(i.current),()=>{setTimeout(()=>{p.disconnect(),g?.dispose(),h?.dispose(),n.current=null},0)}}catch(p){console.error("Monaco editor initialization failed:",p)}},[t,e,r]);function l(h){return h!==null&&typeof h.getValue=="function"}return G.useEffect(()=>{const h=n.current;if(!h)return;const g=h.getModel();l(g)&&g.getValue()!==e&&h.setValue(e)},[e]),pt("div",{"data-testid":"monaco-editor-container",className:"monaco-editor-container",style:{display:"flex",flexDirection:"column",height:"100%"},children:[de("div",{ref:i,style:a}),de("div",{ref:s,className:"vim-status-bar",style:{height:"20px"}})]})}function BA(e){return new DOMParser().parseFromString(e,"text/html").body.firstChild}class vu{internalValue;internalChords=[];internalChordsHTML=[];constructor(t){if(!t||!Array.isArray(t)||t.length==0)throw new Error("Phrase value must be an array with at least one element");this.internalValue=t,t[0]&&Array.isArray(t)&&this.setChords(t)}get value(){return this.internalValue}get chordsHTML(){return this.internalChordsHTML}get chords(){return this.internalChords}setChords(t){t.forEach(r=>{const n=vu.findChordHTML(r);n&&this.internalChordsHTML.push(n);const i=Fl.find(s=>s.key==r);i&&this.internalChords.push(i)})}static createChordHTML(t){return t?BA(`<div class="col-sm-2 row generated" id="chord2">
                <span id="char${t.index}">${t.key}</span>
                <img loading="lazy" alt="2" src="/images/svgs/${t.chordCode}.svg" width="100" class="hand">
            </div>`):null}static findChordHTML(t){let r=null;const n=Array.from(Fl).filter(i=>i.key.replace("&#x2581;"," ").replace("(underscore)","_")==t);if(n.length>0){const i=n[0],s=this.createChordHTML(i);s&&i&&(s.setAttribute("name",i.key.replace("(","").replace(")","").replace(" ","-")),r=s)}return r}}const w1=G.forwardRef((e,t)=>{const[r,n]=G.useState(0),{mismatchedChar:i}=e,s=()=>{n(a=>a+1)};return G.useImperativeHandle(t,()=>({showError:s})),pt("div",{style:{display:e.isVisible?"block":"none"},children:[pt("div",{children:["Error Count: ",r]}),i&&de(fa,{displayChar:i})]})});w1.displayName="ErrorDisplay";const FA=(e,t)=>{const[r,n]=G.useState(0),[i,s]=G.useState(!1),[a,o]=G.useState("start");G.useEffect(()=>{let w=null;return i?(o("pause"),w=window.setInterval(()=>{n(C=>C+1)},10)):!i&&r!==0&&(o("start"),w&&clearInterval(w)),()=>{w&&clearInterval(w)}},[i,r]);const l=()=>{s(!0)},h=()=>{s(!1)},g=()=>{s(!1);const w=r;return n(0),w},p=()=>{n(0),s(!1)};G.useImperativeHandle(t,()=>({start:l,stop:h,reset:g,success:p}));const m=()=>{switch(a){case"start":return de("use",{href:"#start",transform:"scale(2,2)"});case"stop":return de("use",{href:"#stop",transform:"scale(2,2)"});case"pause":return de("use",{href:"#pause",transform:"scale(2,2)"});default:return de("use",{href:"#stop",transform:"scale(2,2)"})}};return pt(qm.Fragment,{children:[de("span",{id:"timer",children:(r/100).toFixed(1)}),de("svg",{width:"15",height:"20",style:{float:"left"},children:m()})]})},NA=G.forwardRef(FA),k1=G.forwardRef(({isInPhraseMode:e,onPhraseSuccess:t,onError:r},n)=>{const[i,s]=G.useState(null),[a,o]=G.useState(!1),[l,h]=G.useState(""),[g,p]=G.useState(new vu([""])),[m,w]=G.useState(null),C=G.useRef(null),y=G.useRef(null),v=G.useRef(null),f=z2(v),u=G.useRef(null),d=xn(()=>ma.value),_=G.useMemo(()=>jt(),[]),R=G.useCallback(N=>{if(ns(g.value))return 0;const z=g.value,Q=z.join("");if(N===Q)return Q.length;if(ns(N))return 0;let V=0;for(let M=0;M<N.length;M++){if(typeof z=="string"&&N[M]!==z[M])return M;V++}return V},[g.value]),E=G.useCallback(N=>{const z=R(N);return g.value.join("").substring(z)},[g.value,R]),L=G.useCallback((N,z)=>{s(N),o(!0),r(z)},[r]),b=G.useCallback(()=>{s(null),o(!1),r(void 0)},[r]),I=G.useCallback(()=>{s(""),o(!1),h(""),m!=null&&m.key!==null&&m.key!==void 0&&l1(m.key),t(m)},[m,t]),U=G.useCallback(()=>{f("stop")},[f]),W=G.useCallback(()=>{f("start")},[f]),Y=G.useCallback(()=>{f("reset")},[f]),B=G.useCallback(()=>{f("reset"),C.current!==null&&C.current!==void 0&&(C.current.innerText=g.value.join(""))},[g.value,f]),$=G.useCallback(N=>{W();const z=R(N);if(z<0||z>g.value.length)return null;const Q=g.chordsHTML[z];if(Q?.classList.remove("error"),N.length===0){B();return}if(N===g.value.join("").trim().substring(0,N.length))b();else{const M=R(N),P=g.value[M];o(!0),s(P??null),L(P??"",M)}if(N.trim()===g.value.join("").trim()){U(),I();return}const V=E(N);h(V)},[W,R,g.value,g.chordsHTML,B,b,L,U,I,E]);return G.useImperativeHandle(n,()=>({resetTimer:Y,cancelTimer:B}),[Y,B]),G.useEffect(()=>{const{activityKey:N,contentKey:z}=_;if(N==null||ns(z))return;const Q=GamePhrases.default.getGamePhraseByKey(z);Q!=null&&(w(V=>V?.key===Q.key?V:Q),p(new vu(Q.value.split(""))),h(Q.value))},[_,_.contentKey]),Kf(()=>{const N=d.value;$(N)}),_!=null&&!ns(_.contentKey)&&pt("div",{id:rs.NextChars,hidden:!e,children:[i!==null&&i!==""&&a&&de(w1,{isVisible:a,mismatchedChar:i??""}),de(NA,{ref:v}),de("div",{id:rs.NextCharsRate,ref:y}),de("span",{id:rs.WPM,ref:u}),de("pre",{id:rs.NextChars,ref:C,children:l})]})});k1.displayName="NextCharsDisplay";const $A=({domain:e,username:t,timestamp:r,githubUsername:n})=>{const i=xn(()=>nA.value);return pt("pre",{id:rs.promptHeader,children:[de("span",{className:"timestamp",children:r}),de("span",{className:"user",children:t}),pt("span",{className:"domain",children:["@",e]}),n&&pt("span",{className:"github",children:[de("i",{className:"fa fa-github","aria-hidden":"true"}),n]}),de("span",{children:i.value})]})},b1=G.memo(({tutorial:e})=>e==null?de("div",{id:"tutorial-component",className:"tutorial-component","data-testid":"tutorial-component"}):pt("div",{id:"tutorial-component",className:"tutorial-component","data-testid":"tutorial-component",children:[de("pre",{className:"tutorial-prompt",children:e.value}),de("div",{className:"chord-display-container",children:e.key.split("").map((t,r)=>de(fa,{displayChar:t},`char-${r}-${t}`))})]}));b1.displayName="TutorialManager";const Ei=Vt({prefix:"HandTermWrapper",level:mi.DEBUG}),HA=e=>e.toTimeString().split(" ")[0]??"",x1=G.forwardRef((e,t)=>{const{xtermRef:r,writeToTerminal:n,resetPrompt:i}=MA(),s=10,a=up(),o=G.useRef(null),l=G.useRef(null),h=f1(),[g]=G.useState("handterm.com"),p=localStorage.getItem("canvasHeight")?.trim()??"100",[m]=G.useState(()=>parseInt(p,10)),[w]=G.useState(null),[,C]=G.useState(void 0),[y]=G.useState(null),[v]=G.useState(null),f=xn(()=>n1.value),[u,d]=G.useState([]),[_,R]=G.useState(Ce.NORMAL);G.useEffect(()=>{const U=()=>{_!==Ne.value&&(R(Ne.value),_===Ce.TUTORIAL&&Ne.value===Ce.GAME&&Ei.debug("Transitioning from TUTORIAL to GAME",{tutorialSignal:Sn.value,activitySignal:Ne.value}))};U();const W=Ne.subscribe(U);return()=>{W()}},[Ne.value]),G.useEffect(()=>{const U=W=>{const B=W.detail?.activity;B&&(Ne.value=B)};return window.addEventListener("locationchange",U),()=>window.removeEventListener("locationchange",U)},[]),G.useEffect(()=>{Sn.value===null&&_===Ce.TUTORIAL&&(Ne.value=Ce.GAME)},[_]);const E=G.useCallback(()=>{localStorage.setItem("currentCommand",""),pu(null);const U=l.current?.cancelTimer;typeof U=="function"&&U();const W=o.current;Y(W)&&W.completeGame();function Y(B){return B!==null}i()},[l,o,i]),L=G.useCallback(U=>{if(U===null)return;const W=U.key?.trim()??"",Y=U.value?.trim()??"";if(W===""||Y==="")return;Ei.debug("handlePhraseSuccess called with phrase:",W,"Activity:",Ne.value),a.getWPMs().wpmAverage>s&&h.checkGameProgress(U);const N=o.current;z(N)&&(N.completeGame(),N.levelUp());function z(Q){return Q!==null}E()},[a,h,E,o,s]);G.useEffect(()=>{if(_===Ce.TREE){Ei.info("Loading tree items in TREE mode");const U=localStorage.getItem("github_tree_items")?.trim()??"";if(U===""){Ei.error("No tree items found in localStorage");return}try{const W=JSON.parse(U);Array.isArray(W)&&W.length>0?d(W):Ei.error("Tree items array is empty or invalid")}catch(W){Ei.error("Error parsing tree items:",W)}}},[_]),G.useEffect(()=>{if(_===Ce.NORMAL){const U=r.current;U!==null&&typeof U.focus=="function"&&U.focus(),i()}},[_,r,i]);const b=G.useCallback(U=>{C(U)},[]);G.useImperativeHandle(t,()=>({writeOutput:n,prompt:()=>{},saveCommandResponseHistory:()=>"",focusTerminal:()=>{const U=r.current;U!=null&&typeof U.focus=="function"&&U.focus()},handleCharacter:()=>{},refreshComponent:()=>{},setHeroSummersaultAction:()=>{},setEditMode:()=>{},handleEditSave:()=>{},activityMediator:h}),[n,r,h]),G.useEffect(()=>{window.setActivity=U=>{Ne.value=U},window.setNextTutorial=U=>{Sn.value=U},window.ActivityType=Ce},[]);const I=G.useCallback(()=>{const U=localStorage.getItem(Et.editContent);if(U==null)return"";try{return JSON.parse(U)??""}catch(W){return Ei.error("Failed to parse edit content:",W),""}},[]);return pt("div",{id:"handterm-wrapper",children:[_===Ce.GAME&&de(SA,{ref:o,canvasHeight:m,canvasWidth:e.terminalWidth}),_===Ce.GAME&&de(k1,{ref:l,isInPhraseMode:!0,onPhraseSuccess:L,onError:b}),w!==null&&de(fa,{displayChar:w}),_===Ce.TUTORIAL&&Sn.value!=null&&de(b1,{tutorial:Sn.value}),_!==Ce.EDIT&&_!==Ce.TREE&&pt("div",{id:"prompt-and-terminal",children:[de($A,{username:v??"guest",domain:g??"handterm.com",githubUsername:y,timestamp:HA(f.value)}),de("div",{ref:r,id:"xtermRef"})]}),_===Ce.EDIT&&de(bm,{value:I(),language:"markdown",toggleVideo:()=>(Yn.value=!Yn.value,Yn.value)},_),_===Ce.TREE&&u.length>0&&de(bm,{value:"",language:"plaintext"},_),Yn.value!==null&&de(PA,{setOn:Yn.value})]})});x1.displayName="HandTermWrapper";const UA=({time:e=new Date})=>{const t=typeof e=="string"?new Date(e):e,r=t.getHours().toString().padStart(2,"0"),n=t.getMinutes().toString().padStart(2,"0"),i=t.getSeconds().toString().padStart(2,"0");return pt(qw,{children:[de("span",{className:"log-hour",children:r}),de("span",{className:"log-minute",children:n}),de("span",{className:"log-second",children:i})]})},jA=({wpms:e,name:t="slowest-characters"})=>{const r=G.useMemo(()=>{const n=e.reduce((s,a)=>{const o=a.character.replace("\r","\\r").replace(" ","\\s");return s[o]?((s[o]??={character:o,wpm:0,count:0}).wpm+=a.wpm,(s[o]??={character:o,wpm:0,count:0}).count+=1):s[o]={character:o,wpm:a.wpm,count:1},s},{}),i=Object.values(n).map(s=>({character:s.character,wpm:s.wpm/s.count}));return i.sort((s,a)=>s.wpm-a.wpm),i.slice(0,5)},[e]);return pt("table",{className:"wpm-table",children:[pt("thead",{children:[de("tr",{children:de("th",{colSpan:2,children:t})}),pt("tr",{children:[de("th",{children:"Character"}),de("th",{children:"Avg WPM"})]})]}),de("tbody",{children:r.map((n,i)=>pt("tr",{className:"wpm-table-row",children:[de("td",{children:n.character}),de("td",{className:"number",children:n.wpm.toFixed(0)})]},i))})]})},WA=({command:e,response:t,status:r,wpms:n,commandTime:i})=>{const s=o=>typeof o=="string"&&/<[a-z][\s\S]*>/i.test(o),a=()=>typeof t=="string"&&s(t)?de("div",{className:"response",dangerouslySetInnerHTML:{__html:t}}):de("div",{className:"response",children:t});return pt("div",{"data-status":r,children:[pt("div",{className:"log-line",children:[de("span",{className:"log-time",children:de(UA,{time:i})}),de("span",{className:"wpm-label",children:"WPM:"}),de("span",{className:"wpm",children:(n.wpmAverage??0).toFixed(0)}),de("span",{className:"content",children:gd(e)})]}),a(),n&&n.charWpms&&n.charWpms.length>0&&de(jA,{wpms:n.charWpms,name:"slow-char"})]})},zA=()=>{const[e,t]=G.useState([]);return Kf(()=>{t(A2.value)}),de("div",{id:"output-container",children:e.map((r,n)=>de(WA,{command:r.command,response:r.response,status:r.status,wpms:{wpmAverage:r?.wpmAverage??0,charWpms:r?.characterAverages??[]},commandTime:r.commandTime},n))})},E1=G.createContext(null),KA=()=>{const e=G.useContext(E1);if(!e)throw new Error("useActivityMediatorContext must be used within an ActivityMediatorProvider");return e},VA=({children:e})=>{const[t,r]=G.useState(Ce.NORMAL),n={currentActivity:t,setCurrentActivity:r};return de(E1.Provider,{value:n,children:e})},GA=G.createContext(null),qA=({children:e})=>{const[t,r]=G.useState(!1),[n,i]=G.useState(null),[s]=G.useState([]),{currentActivity:a}=KA(),o={currentActivity:a,isLoggedIn:t,setIsLoggedIn:r,userName:n,setUserName:i,outputElements:s};return de(GA.Provider,{value:o,children:e})},QA=({children:e,handTermRef:t,auth:r})=>{const{commandHistory:n,addToCommandHistory:i,output:s,appendToOutput:a,executeCommand:o}=m1(),h={commandHistory:n,addToCommandHistory:i,output:s,appendToOutput:a,handTermRef:t,auth:r,updateLocation:Ut,executeCommand:async g=>{const p=cl(g);await o(p)}};return de(g1.Provider,{value:h,children:e})};var qs=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},qi=typeof window>"u"||"Deno"in globalThis;function $r(){}function XA(e,t){return typeof e=="function"?e(t):e}function Ef(e){return typeof e=="number"&&e>=0&&e!==1/0}function R1(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Rs(e,t){return typeof e=="function"?e(t):e}function en(e,t){return typeof e=="function"?e(t):e}function xm(e,t){const{type:r="all",exact:n,fetchStatus:i,predicate:s,queryKey:a,stale:o}=e;if(a){if(n){if(t.queryHash!==cp(a,t.options))return!1}else if(!sa(t.queryKey,a))return!1}if(r!=="all"){const l=t.isActive();if(r==="active"&&!l||r==="inactive"&&l)return!1}return!(typeof o=="boolean"&&t.isStale()!==o||i&&i!==t.state.fetchStatus||s&&!s(t))}function Em(e,t){const{exact:r,status:n,predicate:i,mutationKey:s}=e;if(s){if(!t.options.mutationKey)return!1;if(r){if(Qi(t.options.mutationKey)!==Qi(s))return!1}else if(!sa(t.options.mutationKey,s))return!1}return!(n&&t.state.status!==n||i&&!i(t))}function cp(e,t){return(t?.queryKeyHashFn||Qi)(e)}function Qi(e){return JSON.stringify(e,(t,r)=>Rf(r)?Object.keys(r).sort().reduce((n,i)=>(n[i]=r[i],n),{}):r)}function sa(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(r=>!sa(e[r],t[r])):!1}function T1(e,t){if(e===t)return e;const r=Rm(e)&&Rm(t);if(r||Rf(e)&&Rf(t)){const n=r?e:Object.keys(e),i=n.length,s=r?t:Object.keys(t),a=s.length,o=r?[]:{};let l=0;for(let h=0;h<a;h++){const g=r?h:s[h];(!r&&n.includes(g)||r)&&e[g]===void 0&&t[g]===void 0?(o[g]=void 0,l++):(o[g]=T1(e[g],t[g]),o[g]===e[g]&&e[g]!==void 0&&l++)}return i===a&&l===i?e:o}return t}function gu(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function Rm(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Rf(e){if(!Tm(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!Tm(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Tm(e){return Object.prototype.toString.call(e)==="[object Object]"}function JA(e){return new Promise(t=>{setTimeout(t,e)})}function Tf(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?T1(e,t):t}function YA(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function ZA(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var hp=Symbol();function L1(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===hp?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var eM=class extends qs{#t;#e;#r;constructor(){super(),this.#r=e=>{if(!qi&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#e||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(e){this.#r=e,this.#e?.(),this.#e=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#t!==e&&(this.#t=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#t=="boolean"?this.#t:globalThis.document?.visibilityState!=="hidden"}},fp=new eM,tM=class extends qs{#t=!0;#e;#r;constructor(){super(),this.#r=e=>{if(!qi&&window.addEventListener){const t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#e||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(e){this.#r=e,this.#e?.(),this.#e=e(this.setOnline.bind(this))}setOnline(e){this.#t!==e&&(this.#t=e,this.listeners.forEach(r=>{r(e)}))}isOnline(){return this.#t}},mu=new tM;function Lf(){let e,t;const r=new Promise((i,s)=>{e=i,t=s});r.status="pending",r.catch(()=>{});function n(i){Object.assign(r,i),delete r.resolve,delete r.reject}return r.resolve=i=>{n({status:"fulfilled",value:i}),e(i)},r.reject=i=>{n({status:"rejected",reason:i}),t(i)},r}function rM(e){return Math.min(1e3*2**e,3e4)}function A1(e){return(e??"online")==="online"?mu.isOnline():!0}var M1=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function sh(e){return e instanceof M1}function P1(e){let t=!1,r=0,n=!1,i;const s=Lf(),a=y=>{n||(m(new M1(y)),e.abort?.())},o=()=>{t=!0},l=()=>{t=!1},h=()=>fp.isFocused()&&(e.networkMode==="always"||mu.isOnline())&&e.canRun(),g=()=>A1(e.networkMode)&&e.canRun(),p=y=>{n||(n=!0,e.onSuccess?.(y),i?.(),s.resolve(y))},m=y=>{n||(n=!0,e.onError?.(y),i?.(),s.reject(y))},w=()=>new Promise(y=>{i=v=>{(n||h())&&y(v)},e.onPause?.()}).then(()=>{i=void 0,n||e.onContinue?.()}),C=()=>{if(n)return;let y;const v=r===0?e.initialPromise:void 0;try{y=v??e.fn()}catch(f){y=Promise.reject(f)}Promise.resolve(y).then(p).catch(f=>{if(n)return;const u=e.retry??(qi?0:3),d=e.retryDelay??rM,_=typeof d=="function"?d(r,f):d,R=u===!0||typeof u=="number"&&r<u||typeof u=="function"&&u(r,f);if(t||!R){m(f);return}r++,e.onFail?.(r,f),JA(_).then(()=>h()?void 0:w()).then(()=>{t?m(f):C()})})};return{promise:s,cancel:a,continue:()=>(i?.(),s),cancelRetry:o,continueRetry:l,canStart:g,start:()=>(g()?C():w().then(C),s)}}function nM(){let e=[],t=0,r=o=>{o()},n=o=>{o()},i=o=>setTimeout(o,0);const s=o=>{t?e.push(o):i(()=>{r(o)})},a=()=>{const o=e;e=[],o.length&&i(()=>{n(()=>{o.forEach(l=>{r(l)})})})};return{batch:o=>{let l;t++;try{l=o()}finally{t--,t||a()}return l},batchCalls:o=>(...l)=>{s(()=>{o(...l)})},schedule:s,setNotifyFunction:o=>{r=o},setBatchNotifyFunction:o=>{n=o},setScheduler:o=>{i=o}}}var kt=nM(),O1=class{#t;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Ef(this.gcTime)&&(this.#t=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(qi?1/0:5*60*1e3))}clearGcTimeout(){this.#t&&(clearTimeout(this.#t),this.#t=void 0)}},iM=class extends O1{#t;#e;#r;#n;#i;#o;#a;constructor(e){super(),this.#a=!1,this.#o=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#n=e.client,this.#r=this.#n.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#t=sM(this.options),this.state=e.state??this.#t,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#i?.promise}setOptions(e){this.options={...this.#o,...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#r.remove(this)}setData(e,t){const r=Tf(this.state.data,e,this.options);return this.#s({data:r,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),r}setState(e,t){this.#s({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#i?.promise;return this.#i?.cancel(e),t?t.then($r).catch($r):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#t)}isActive(){return this.observers.some(e=>en(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===hp||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!R1(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#i?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#i?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#i&&(this.#a?this.#i.cancel({revert:!0}):this.#i.cancelRetry()),this.scheduleGc()),this.#r.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#s({type:"invalidate"})}fetch(e,t){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#i)return this.#i.continueRetry(),this.#i.promise}if(e&&this.setOptions(e),!this.options.queryFn){const o=this.observers.find(l=>l.options.queryFn);o&&this.setOptions(o.options)}const r=new AbortController,n=o=>{Object.defineProperty(o,"signal",{enumerable:!0,get:()=>(this.#a=!0,r.signal)})},i=()=>{const o=L1(this.options,t),l={client:this.#n,queryKey:this.queryKey,meta:this.meta};return n(l),this.#a=!1,this.options.persister?this.options.persister(o,l,this):o(l)},s={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#n,state:this.state,fetchFn:i};n(s),this.options.behavior?.onFetch(s,this),this.#e=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==s.fetchOptions?.meta)&&this.#s({type:"fetch",meta:s.fetchOptions?.meta});const a=o=>{sh(o)&&o.silent||this.#s({type:"error",error:o}),sh(o)||(this.#r.config.onError?.(o,this),this.#r.config.onSettled?.(this.state.data,o,this)),this.scheduleGc()};return this.#i=P1({initialPromise:t?.initialPromise,fn:s.fetchFn,abort:r.abort.bind(r),onSuccess:o=>{if(o===void 0){a(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(o)}catch(l){a(l);return}this.#r.config.onSuccess?.(o,this),this.#r.config.onSettled?.(o,this.state.error,this),this.scheduleGc()},onError:a,onFail:(o,l)=>{this.#s({type:"failed",failureCount:o,error:l})},onPause:()=>{this.#s({type:"pause"})},onContinue:()=>{this.#s({type:"continue"})},retry:s.options.retry,retryDelay:s.options.retryDelay,networkMode:s.options.networkMode,canRun:()=>!0}),this.#i.start()}#s(e){const t=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...I1(r.data,this.options),fetchMeta:e.meta??null};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const n=e.error;return sh(n)&&n.revert&&this.#e?{...this.#e,fetchStatus:"idle"}:{...r,error:n,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:n,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=t(this.state),kt.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#r.notify({query:this,type:"updated",action:e})})}};function I1(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:A1(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function sM(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var oM=class extends qs{constructor(e={}){super(),this.config=e,this.#t=new Map}#t;build(e,t,r){const n=t.queryKey,i=t.queryHash??cp(n,t);let s=this.get(i);return s||(s=new iM({client:e,queryKey:n,queryHash:i,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(n)}),this.add(s)),s}add(e){this.#t.has(e.queryHash)||(this.#t.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#t.get(e.queryHash);t&&(e.destroy(),t===e&&this.#t.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){kt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#t.get(e)}getAll(){return[...this.#t.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(r=>xm(t,r))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(r=>xm(e,r)):t}notify(e){kt.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){kt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){kt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},aM=class extends O1{#t;#e;#r;constructor(e){super(),this.mutationId=e.mutationId,this.#e=e.mutationCache,this.#t=[],this.state=e.state||D1(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#e.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(t=>t!==e),this.scheduleGc(),this.#e.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#e.remove(this))}continue(){return this.#r?.continue()??this.execute(this.state.variables)}async execute(e){this.#r=P1({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(n,i)=>{this.#n({type:"failed",failureCount:n,error:i})},onPause:()=>{this.#n({type:"pause"})},onContinue:()=>{this.#n({type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#e.canRun(this)});const t=this.state.status==="pending",r=!this.#r.canStart();try{if(!t){this.#n({type:"pending",variables:e,isPaused:r}),await this.#e.config.onMutate?.(e,this);const i=await this.options.onMutate?.(e);i!==this.state.context&&this.#n({type:"pending",context:i,variables:e,isPaused:r})}const n=await this.#r.start();return await this.#e.config.onSuccess?.(n,e,this.state.context,this),await this.options.onSuccess?.(n,e,this.state.context),await this.#e.config.onSettled?.(n,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(n,null,e,this.state.context),this.#n({type:"success",data:n}),n}catch(n){try{throw await this.#e.config.onError?.(n,e,this.state.context,this),await this.options.onError?.(n,e,this.state.context),await this.#e.config.onSettled?.(void 0,n,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,n,e,this.state.context),n}finally{this.#n({type:"error",error:n})}}finally{this.#e.runNext(this)}}#n(e){const t=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),kt.batch(()=>{this.#t.forEach(r=>{r.onMutationUpdate(e)}),this.#e.notify({mutation:this,type:"updated",action:e})})}};function D1(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var lM=class extends qs{constructor(e={}){super(),this.config=e,this.#t=new Set,this.#e=new Map,this.#r=0}#t;#e;#r;build(e,t,r){const n=new aM({mutationCache:this,mutationId:++this.#r,options:e.defaultMutationOptions(t),state:r});return this.add(n),n}add(e){this.#t.add(e);const t=Wa(e);if(typeof t=="string"){const r=this.#e.get(t);r?r.push(e):this.#e.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#t.delete(e)){const t=Wa(e);if(typeof t=="string"){const r=this.#e.get(t);if(r)if(r.length>1){const n=r.indexOf(e);n!==-1&&r.splice(n,1)}else r[0]===e&&this.#e.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=Wa(e);if(typeof t=="string"){const n=this.#e.get(t)?.find(i=>i.state.status==="pending");return!n||n===e}else return!0}runNext(e){const t=Wa(e);return typeof t=="string"?this.#e.get(t)?.find(n=>n!==e&&n.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){kt.batch(()=>{this.#t.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#t.clear(),this.#e.clear()})}getAll(){return Array.from(this.#t)}find(e){const t={exact:!0,...e};return this.getAll().find(r=>Em(t,r))}findAll(e={}){return this.getAll().filter(t=>Em(e,t))}notify(e){kt.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return kt.batch(()=>Promise.all(e.map(t=>t.continue().catch($r))))}};function Wa(e){return e.options.scope?.id}function Lm(e){return{onFetch:(t,r)=>{const n=t.options,i=t.fetchOptions?.meta?.fetchMore?.direction,s=t.state.data?.pages||[],a=t.state.data?.pageParams||[];let o={pages:[],pageParams:[]},l=0;const h=async()=>{let g=!1;const p=C=>{Object.defineProperty(C,"signal",{enumerable:!0,get:()=>(t.signal.aborted?g=!0:t.signal.addEventListener("abort",()=>{g=!0}),t.signal)})},m=L1(t.options,t.fetchOptions),w=async(C,y,v)=>{if(g)return Promise.reject();if(y==null&&C.pages.length)return Promise.resolve(C);const f={client:t.client,queryKey:t.queryKey,pageParam:y,direction:v?"backward":"forward",meta:t.options.meta};p(f);const u=await m(f),{maxPages:d}=t.options,_=v?ZA:YA;return{pages:_(C.pages,u,d),pageParams:_(C.pageParams,y,d)}};if(i&&s.length){const C=i==="backward",y=C?uM:Am,v={pages:s,pageParams:a},f=y(n,v);o=await w(v,f,C)}else{const C=e??s.length;do{const y=l===0?a[0]??n.initialPageParam:Am(n,o);if(l>0&&y==null)break;o=await w(o,y),l++}while(l<C)}return o};t.options.persister?t.fetchFn=()=>t.options.persister?.(h,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r):t.fetchFn=h}}}function Am(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function uM(e,{pages:t,pageParams:r}){return t.length>0?e.getPreviousPageParam?.(t[0],t,r[0],r):void 0}var cM=class{#t;#e;#r;#n;#i;#o;#a;#s;constructor(e={}){this.#t=e.queryCache||new oM,this.#e=e.mutationCache||new lM,this.#r=e.defaultOptions||{},this.#n=new Map,this.#i=new Map,this.#o=0}mount(){this.#o++,this.#o===1&&(this.#a=fp.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#t.onFocus())}),this.#s=mu.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#t.onOnline())}))}unmount(){this.#o--,this.#o===0&&(this.#a?.(),this.#a=void 0,this.#s?.(),this.#s=void 0)}isFetching(e){return this.#t.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#e.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#t.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=this.#t.build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(Rs(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return this.#t.findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),s=this.#t.get(n.queryHash)?.state.data,a=XA(t,s);if(a!==void 0)return this.#t.build(this,n).setData(a,{...r,manual:!0})}setQueriesData(e,t,r){return kt.batch(()=>this.#t.findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#t.get(t.queryHash)?.state}removeQueries(e){const t=this.#t;kt.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=this.#t,n={type:"active",...e};return kt.batch(()=>(r.findAll(e).forEach(i=>{i.reset()}),this.refetchQueries(n,t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=kt.batch(()=>this.#t.findAll(e).map(i=>i.cancel(r)));return Promise.all(n).then($r).catch($r)}invalidateQueries(e,t={}){return kt.batch(()=>{if(this.#t.findAll(e).forEach(n=>{n.invalidate()}),e?.refetchType==="none")return Promise.resolve();const r={...e,type:e?.refetchType??e?.type??"active"};return this.refetchQueries(r,t)})}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=kt.batch(()=>this.#t.findAll(e).filter(i=>!i.isDisabled()).map(i=>{let s=i.fetch(void 0,r);return r.throwOnError||(s=s.catch($r)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(n).then($r)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=this.#t.build(this,t);return r.isStaleByTime(Rs(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then($r).catch($r)}fetchInfiniteQuery(e){return e.behavior=Lm(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then($r).catch($r)}ensureInfiniteQueryData(e){return e.behavior=Lm(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return mu.isOnline()?this.#e.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#t}getMutationCache(){return this.#e}getDefaultOptions(){return this.#r}setDefaultOptions(e){this.#r=e}setQueryDefaults(e,t){this.#n.set(Qi(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#n.values()],r={};return t.forEach(n=>{sa(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){this.#i.set(Qi(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#i.values()];let r={};return t.forEach(n=>{sa(e,n.mutationKey)&&(r={...r,...n.defaultOptions})}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#r.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=cp(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===hp&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#r.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#t.clear(),this.#e.clear()}},hM=class extends qs{constructor(e,t){super(),this.options=t,this.#t=e,this.#s=null,this.#a=Lf(),this.options.experimental_prefetchInRender||this.#a.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(t)}#t;#e=void 0;#r=void 0;#n=void 0;#i;#o;#a;#s;#v;#f;#d;#u;#c;#l;#p=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#e.addObserver(this),Mm(this.#e,this.options)?this.#h():this.updateResult(),this.#_())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Af(this.#e,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Af(this.#e,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#S(),this.#C(),this.#e.removeObserver(this)}setOptions(e,t){const r=this.options,n=this.#e;if(this.options=this.#t.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof en(this.options.enabled,this.#e)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#w(),this.#e.setOptions(this.options),r._defaulted&&!gu(this.options,r)&&this.#t.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#e,observer:this});const i=this.hasListeners();i&&Pm(this.#e,n,this.options,r)&&this.#h(),this.updateResult(t),i&&(this.#e!==n||en(this.options.enabled,this.#e)!==en(r.enabled,this.#e)||Rs(this.options.staleTime,this.#e)!==Rs(r.staleTime,this.#e))&&this.#g();const s=this.#m();i&&(this.#e!==n||en(this.options.enabled,this.#e)!==en(r.enabled,this.#e)||s!==this.#l)&&this.#y(s)}getOptimisticResult(e){const t=this.#t.getQueryCache().build(this.#t,e),r=this.createResult(t,e);return dM(this,r)&&(this.#n=r,this.#o=this.options,this.#i=this.#e.state),r}getCurrentResult(){return this.#n}trackResult(e,t){const r={};return Object.keys(e).forEach(n=>{Object.defineProperty(r,n,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(n),t?.(n),e[n])})}),r}trackProp(e){this.#p.add(e)}getCurrentQuery(){return this.#e}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=this.#t.defaultQueryOptions(e),r=this.#t.getQueryCache().build(this.#t,t);return r.fetch().then(()=>this.createResult(r,t))}fetch(e){return this.#h({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#n))}#h(e){this.#w();let t=this.#e.fetch(this.options,e);return e?.throwOnError||(t=t.catch($r)),t}#g(){this.#S();const e=Rs(this.options.staleTime,this.#e);if(qi||this.#n.isStale||!Ef(e))return;const r=R1(this.#n.dataUpdatedAt,e)+1;this.#u=setTimeout(()=>{this.#n.isStale||this.updateResult()},r)}#m(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#e):this.options.refetchInterval)??!1}#y(e){this.#C(),this.#l=e,!(qi||en(this.options.enabled,this.#e)===!1||!Ef(this.#l)||this.#l===0)&&(this.#c=setInterval(()=>{(this.options.refetchIntervalInBackground||fp.isFocused())&&this.#h()},this.#l))}#_(){this.#g(),this.#y(this.#m())}#S(){this.#u&&(clearTimeout(this.#u),this.#u=void 0)}#C(){this.#c&&(clearInterval(this.#c),this.#c=void 0)}createResult(e,t){const r=this.#e,n=this.options,i=this.#n,s=this.#i,a=this.#o,l=e!==r?e.state:this.#r,{state:h}=e;let g={...h},p=!1,m;if(t._optimisticResults){const L=this.hasListeners(),b=!L&&Mm(e,t),I=L&&Pm(e,r,t,n);(b||I)&&(g={...g,...I1(h.data,e.options)}),t._optimisticResults==="isRestoring"&&(g.fetchStatus="idle")}let{error:w,errorUpdatedAt:C,status:y}=g;if(t.select&&g.data!==void 0)if(i&&g.data===s?.data&&t.select===this.#v)m=this.#f;else try{this.#v=t.select,m=t.select(g.data),m=Tf(i?.data,m,t),this.#f=m,this.#s=null}catch(L){this.#s=L}else m=g.data;if(t.placeholderData!==void 0&&m===void 0&&y==="pending"){let L;if(i?.isPlaceholderData&&t.placeholderData===a?.placeholderData)L=i.data;else if(L=typeof t.placeholderData=="function"?t.placeholderData(this.#d?.state.data,this.#d):t.placeholderData,t.select&&L!==void 0)try{L=t.select(L),this.#s=null}catch(b){this.#s=b}L!==void 0&&(y="success",m=Tf(i?.data,L,t),p=!0)}this.#s&&(w=this.#s,m=this.#f,C=Date.now(),y="error");const v=g.fetchStatus==="fetching",f=y==="pending",u=y==="error",d=f&&v,_=m!==void 0,E={status:y,fetchStatus:g.fetchStatus,isPending:f,isSuccess:y==="success",isError:u,isInitialLoading:d,isLoading:d,data:m,dataUpdatedAt:g.dataUpdatedAt,error:w,errorUpdatedAt:C,failureCount:g.fetchFailureCount,failureReason:g.fetchFailureReason,errorUpdateCount:g.errorUpdateCount,isFetched:g.dataUpdateCount>0||g.errorUpdateCount>0,isFetchedAfterMount:g.dataUpdateCount>l.dataUpdateCount||g.errorUpdateCount>l.errorUpdateCount,isFetching:v,isRefetching:v&&!f,isLoadingError:u&&!_,isPaused:g.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:u&&_,isStale:dp(e,t),refetch:this.refetch,promise:this.#a};if(this.options.experimental_prefetchInRender){const L=U=>{E.status==="error"?U.reject(E.error):E.data!==void 0&&U.resolve(E.data)},b=()=>{const U=this.#a=E.promise=Lf();L(U)},I=this.#a;switch(I.status){case"pending":e.queryHash===r.queryHash&&L(I);break;case"fulfilled":(E.status==="error"||E.data!==I.value)&&b();break;case"rejected":(E.status!=="error"||E.error!==I.reason)&&b();break}}return E}updateResult(e){const t=this.#n,r=this.createResult(this.#e,this.options);if(this.#i=this.#e.state,this.#o=this.options,this.#i.data!==void 0&&(this.#d=this.#e),gu(r,t))return;this.#n=r;const n={},i=()=>{if(!t)return!0;const{notifyOnChangeProps:s}=this.options,a=typeof s=="function"?s():s;if(a==="all"||!a&&!this.#p.size)return!0;const o=new Set(a??this.#p);return this.options.throwOnError&&o.add("error"),Object.keys(this.#n).some(l=>{const h=l;return this.#n[h]!==t[h]&&o.has(h)})};e?.listeners!==!1&&i()&&(n.listeners=!0),this.#k({...n,...e})}#w(){const e=this.#t.getQueryCache().build(this.#t,this.options);if(e===this.#e)return;const t=this.#e;this.#e=e,this.#r=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#_()}#k(e){kt.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(this.#n)}),this.#t.getQueryCache().notify({query:this.#e,type:"observerResultsUpdated"})})}};function fM(e,t){return en(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Mm(e,t){return fM(e,t)||e.state.data!==void 0&&Af(e,t,t.refetchOnMount)}function Af(e,t,r){if(en(t.enabled,e)!==!1){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&dp(e,t)}return!1}function Pm(e,t,r,n){return(e!==t||en(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&dp(e,r)}function dp(e,t){return en(t.enabled,e)!==!1&&e.isStaleByTime(Rs(t.staleTime,e))}function dM(e,t){return!gu(e.getCurrentResult(),t)}var pM=class extends qs{#t;#e=void 0;#r;#n;constructor(t,r){super(),this.#t=t,this.setOptions(r),this.bindMethods(),this.#i()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){const r=this.options;this.options=this.#t.defaultMutationOptions(t),gu(this.options,r)||this.#t.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#r,observer:this}),r?.mutationKey&&this.options.mutationKey&&Qi(r.mutationKey)!==Qi(this.options.mutationKey)?this.reset():this.#r?.state.status==="pending"&&this.#r.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#r?.removeObserver(this)}onMutationUpdate(t){this.#i(),this.#o(t)}getCurrentResult(){return this.#e}reset(){this.#r?.removeObserver(this),this.#r=void 0,this.#i(),this.#o()}mutate(t,r){return this.#n=r,this.#r?.removeObserver(this),this.#r=this.#t.getMutationCache().build(this.#t,this.options),this.#r.addObserver(this),this.#r.execute(t)}#i(){const t=this.#r?.state??D1();this.#e={...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset}}#o(t){kt.batch(()=>{if(this.#n&&this.hasListeners()){const r=this.#e.variables,n=this.#e.context;t?.type==="success"?(this.#n.onSuccess?.(t.data,r,n),this.#n.onSettled?.(t.data,null,r,n)):t?.type==="error"&&(this.#n.onError?.(t.error,r,n),this.#n.onSettled?.(void 0,t.error,r,n))}this.listeners.forEach(r=>{r(this.#e)})})}},B1=G.createContext(void 0),pp=e=>{const t=G.useContext(B1);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},vM=({client:e,children:t})=>(G.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),Ts.jsx(B1.Provider,{value:e,children:t})),F1=G.createContext(!1),gM=()=>G.useContext(F1);F1.Provider;function mM(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var yM=G.createContext(mM()),_M=()=>G.useContext(yM);function N1(e,t){return typeof e=="function"?e(...t):!!e}function Mf(){}var SM=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},CM=e=>{G.useEffect(()=>{e.clearReset()},[e])},wM=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:i})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(i&&e.data===void 0||N1(r,[e.error,n])),kM=e=>{const t=e.staleTime;e.suspense&&(e.staleTime=typeof t=="function"?(...r)=>Math.max(t(...r),1e3):Math.max(t??1e3,1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},bM=(e,t)=>e.isLoading&&e.isFetching&&!t,xM=(e,t)=>e?.suspense&&t.isPending,Om=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function EM(e,t,r){const n=pp(),i=gM(),s=_M(),a=n.defaultQueryOptions(e);n.getDefaultOptions().queries?._experimental_beforeQuery?.(a),a._optimisticResults=i?"isRestoring":"optimistic",kM(a),SM(a,s),CM(s);const o=!n.getQueryCache().get(a.queryHash),[l]=G.useState(()=>new t(n,a)),h=l.getOptimisticResult(a),g=!i&&e.subscribed!==!1;if(G.useSyncExternalStore(G.useCallback(p=>{const m=g?l.subscribe(kt.batchCalls(p)):Mf;return l.updateResult(),m},[l,g]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),G.useEffect(()=>{l.setOptions(a,{listeners:!1})},[a,l]),xM(a,h))throw Om(a,l,s);if(wM({result:h,errorResetBoundary:s,throwOnError:a.throwOnError,query:n.getQueryCache().get(a.queryHash),suspense:a.suspense}))throw h.error;return n.getDefaultOptions().queries?._experimental_afterQuery?.(a,h),a.experimental_prefetchInRender&&!qi&&bM(h,i)&&(o?Om(a,l,s):n.getQueryCache().get(a.queryHash)?.promise)?.catch(Mf).finally(()=>{l.updateResult()}),a.notifyOnChangeProps?h:l.trackResult(h)}function RM(e,t){return EM(e,hM)}function za(e,t){const r=pp(),[n]=G.useState(()=>new pM(r,e));G.useEffect(()=>{n.setOptions(e)},[n,e]);const i=G.useSyncExternalStore(G.useCallback(a=>n.subscribe(kt.batchCalls(a)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),s=G.useCallback((a,o)=>{n.mutate(a,o).catch(Mf)},[n]);if(i.error&&N1(n.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:s,mutateAsync:i.mutate}}const co=Vt({prefix:"Auth",level:mi.ERROR}),ho=cr.api.BaseUrl;function TM(){const e=pp(),t=()=>{localStorage.removeItem(xe.AccessToken),localStorage.removeItem(xe.RefreshToken),localStorage.removeItem(xe.ExpiresAt),localStorage.removeItem(xe.ExpiresIn),localStorage.removeItem(xe.IdToken),localStorage.removeItem(xe.GithubUsername),Sr(!1),An.value=!1},r=za({mutationFn:async()=>{const C=localStorage.getItem(xe.RefreshToken);if(C==null||C==="")throw t(),new Error("No refresh token");try{const y=await je.post(`${ho}${cr.api.RefreshToken}`,{refreshToken:C});if(y.status===500)throw co.error("Server error during token refresh"),new Error("Server error during token refresh");if(y.data!=null&&typeof y.data=="object"&&"AccessToken"in y.data)return{status:200,data:y.data,message:"Token refreshed",error:[]};throw new Error("Invalid refresh token response")}catch(y){throw je.isAxiosError(y)&&y.response?.status===500?new Error("Server error during token refresh"):y}},onSuccess:C=>{C.data!=null&&typeof C.data=="object"&&"AccessToken"in C.data&&(l(C.data.ExpiresIn),Sr(!0),An.value=!0,localStorage.setItem(xe.AccessToken,C.data.AccessToken),e.invalidateQueries({queryKey:["auth","session"]}))},retry:(C,y)=>je.isAxiosError(y)&&y.response?.status===500?(C>50&&t(),!1):C<3,retryDelay:C=>Math.min(1e3*2**C,3e4)}),n=G.useCallback(async()=>{try{const C=localStorage.getItem(xe.AccessToken),y=localStorage.getItem(xe.RefreshToken),v=localStorage.getItem(xe.ExpiresAt),f=localStorage.getItem(xe.ExpiresIn),u=localStorage.getItem(xe.IdToken),d=localStorage.getItem(xe.GithubUsername);if(!y&&!r.isPending)try{const _=await r.mutateAsync();if(_.data?.AccessToken!=null)return Sr(!0),{status:200,data:_.data,message:"Token refreshed",error:[]}}catch{return localStorage.getItem(xe.RefreshToken)==null&&t(),{status:401,message:"Token refresh failed",error:[]}}else if(y==null)return t(),{status:401,message:"No refresh token available",error:[]};if(C==null||v==null||f==null)try{const _=await r.mutateAsync();if(_.data?.AccessToken!=null)return Sr(!0),{status:200,data:_.data,message:"Token refreshed",error:[]}}catch{return localStorage.getItem(xe.RefreshToken)||t(),{status:401,message:"Token refresh failed",error:[]}}if(C!=null&&y!=null&&v!=null&&f!=null){const _=parseInt(v),R=Date.now(),E=5*60*1e3;if(R+E>_){const L=await r.mutateAsync();if(L.data?.AccessToken!=null)return Sr(!0),{status:200,data:L.data,message:"Token refreshed",error:[]}}if(R<_)return Sr(!0),{status:200,data:{AccessToken:C,ExpiresAt:v,ExpiresIn:parseInt(f,10),IdToken:u??"",RefreshToken:y,githubUsername:d??""},message:"Token valid",error:[]}}return Sr(!1),An.value=!1,{status:401,message:"Token refresh failed.",error:[]}}catch(C){return C instanceof Error?co.error("Token validation failed:",C.message):co.error("An unexpected error occurred during token validation"),Sr(!1),An.value=!1,{status:401,message:"Token validation failed",error:[]}}},[r]),i=G.useRef(!1),{data:s,isPending:a}=RM({queryKey:["auth","session"],queryFn:async()=>{try{const C=localStorage.getItem(xe.AccessToken),y=localStorage.getItem(xe.RefreshToken);if(!C||!y)throw new Error("Missing required tokens");if((await n()).status!=200)throw new Error("Token validation failed");if(i.current)return i.current=!1,{status:200,data:{AccessToken:localStorage.getItem(xe.AccessToken)??"",RefreshToken:localStorage.getItem(xe.RefreshToken)??"",IdToken:localStorage.getItem(xe.IdToken)??"",ExpiresAt:localStorage.getItem(xe.ExpiresAt)||"",ExpiresIn:parseInt(localStorage.getItem(xe.ExpiresIn)||"0",10),githubUsername:localStorage.getItem(xe.GithubUsername)||void 0},message:"Login successful",error:[]};const f=localStorage.getItem(xe.AccessToken);if(typeof f!="string"||f==="")throw new Error("No AccessToken");const u={headers:{Authorization:`Bearer ${f}`,"Content-Type":"application/json"}},d=await je.get(`${ho}${cr.api.GetUser}`,u);if(d.data!=null&&typeof d.data=="object"&&"userId"in d.data)return{status:200,data:{AccessToken:localStorage.getItem(xe.AccessToken)??"",RefreshToken:localStorage.getItem(xe.RefreshToken)??"",IdToken:localStorage.getItem(xe.IdToken)??"",ExpiresAt:localStorage.getItem(xe.ExpiresAt)||"",ExpiresIn:parseInt(localStorage.getItem(xe.ExpiresIn)||"0",10),githubUsername:localStorage.getItem(xe.GithubUsername)||void 0},message:"Session valid",error:[]};throw new Error("Invalid session response")}catch(C){return C instanceof Error?co.error("Session validation failed:",C.message):co.error("An unexpected error occurred during session validation"),typeof localStorage.getItem(xe.AccessToken)=="string"&&localStorage.removeItem(xe.AccessToken),typeof localStorage.getItem(xe.RefreshToken)=="string"&&localStorage.removeItem(xe.RefreshToken),typeof localStorage.getItem(xe.ExpiresAt)=="string"&&localStorage.removeItem(xe.ExpiresAt),typeof localStorage.getItem(xe.ExpiresIn)=="string"&&localStorage.removeItem(xe.ExpiresIn),typeof localStorage.getItem(xe.IdToken)=="string"&&localStorage.removeItem(xe.IdToken),typeof localStorage.getItem(xe.GithubUsername)=="string"&&localStorage.removeItem(xe.GithubUsername),Sr(!1),An.value=!1,I2(null),{status:401,data:void 0,message:"Session invalid",error:["Session expired or invalid"]}}},enabled:typeof localStorage.getItem(xe.AccessToken)=="string",retry:!1,staleTime:5*60*1e3}),o=za({mutationFn:async C=>{const y=await je.post(`${ho}${cr.api.SignIn}`,C);if(y.data!=null&&typeof y.data=="object"&&"AccessToken"in y.data)return{status:200,data:y.data,message:"Login successful",error:[]};throw new Error("Invalid login response")},onSuccess:C=>{C.data?.ExpiresIn!=null&&typeof C.data.ExpiresIn=="number"&&(l(C.data.ExpiresIn),Sr(!0),An.value=!0,localStorage.setItem(xe.AccessToken,C.data.AccessToken),localStorage.setItem(xe.RefreshToken,C.data.RefreshToken),localStorage.setItem(xe.IdToken,C.data.IdToken),typeof C.data.githubUsername=="string"&&localStorage.setItem(xe.GithubUsername,C.data.githubUsername),Jr(!1),i.current=!0,e.invalidateQueries({queryKey:["auth","session"]}))},onError:()=>{Sr(!1),Jr(!1)},onSettled:()=>Jr(!1)}),l=C=>{const y=Date.now()+C*1e3;ns(C)||localStorage.setItem(xe.ExpiresIn,C.toString()),y!=null&&!Number.isNaN(y)&&localStorage.setItem(xe.ExpiresAt,y.toString())},h=za({mutationFn:async C=>{const y=await je.post(`${ho}${cr.api.SignUp}`,C);if(y.data!=null&&typeof y.data=="object")return{status:200,data:y.data,message:"Signup successful",error:[]};throw new Error("Invalid signup response")},onSuccess:()=>{Jr(!1)},onError:()=>{Jr(!1)}}),g=za({mutationFn:async({username:C,code:y})=>{const v=await je.post(`${ho}${cr.api.ConfirmSignUp}`,{username:C,code:y});if(v.data!=null&&typeof v.data=="object")return v.data;throw new Error("Invalid verify response")},onSuccess:()=>void Jr(!1),onError:()=>void Jr(!1)});G.useEffect(()=>{const C=async()=>{(await n()).status===200?(An.value=!0,Sr(!0)):(An.value=!1,Sr(!1))},y=()=>{C()};return window.addEventListener("storage",y),()=>{window.removeEventListener("storage",y)}},[]);const p=o.isPending??h.isPending??g.isPending,m=o.isError??h.isError??g.isError,w=o.error??h.error??g.error;return s?.data!=null&&typeof s.data=="object"&&"AccessToken"in s.data?{isLoggedIn:!0,isPending:a,login:async(C,y)=>await o.mutateAsync({username:C,password:y}),signup:async C=>await h.mutateAsync(C),verify:async(C,y)=>await g.mutateAsync({username:C,code:y}),refreshToken:async()=>await r.mutateAsync(),validateAndRefreshToken:n,isLoading:p,isError:m,error:w}:{isLoggedIn:!1,isPending:a,login:async(C,y)=>await o.mutateAsync({username:C,password:y}),signup:async C=>await h.mutateAsync(C),verify:async(C,y)=>await g.mutateAsync({username:C,code:y}),refreshToken:async()=>await r.mutateAsync(),validateAndRefreshToken:n,isLoading:p,isError:m,error:w}}function LM(e){return e.current!==null&&typeof e.current.focusTerminal=="function"}function AM(){const e=G.useRef(null),[t,r]=G.useState(0),n=TM(),i=G.useRef(null),s=G.useCallback(()=>e.current?.clientWidth??0,[e]);return G.useEffect(()=>{const a=()=>{const o=s();r(o)};return window.addEventListener("resize",a),()=>window.removeEventListener("resize",a)},[s]),G.useEffect(()=>{const a=s();r(a);const o=l=>{const h=i.current;h!==null&&l.target instanceof HTMLElement&&l.target.id!==rs.terminal&&(l.stopPropagation(),h.focusTerminal(),(l instanceof MouseEvent||l instanceof TouchEvent&&l.touches.length===1)&&setTimeout(()=>{LM(i)&&i.current.focusTerminal()},1e3))};return document.body.addEventListener("click",o),document.body.addEventListener("touchstart",o),()=>{document.body.removeEventListener("click",o),document.body.removeEventListener("touchstart",o)}},[s]),de(VA,{children:de("div",{className:"app",ref:e,children:de(qA,{children:pt(QA,{auth:n,handTermRef:i,children:[jt().activityKey!==Ce.EDIT&&de(zA,{}),de(x1,{ref:i,auth:n,terminalWidth:t,onOutputUpdate:()=>{}})]})})})})}function MM(){window.commandLineSignal=ma}const PM={defaultOptions:{queries:{staleTime:5*60*1e3,retry:1}}},OM=new cM(PM);function IM({children:e}){return de(vM,{client:OM,children:e})}typeof window.Buffer>"u"&&(window.Buffer=Dm);typeof Bm>"u"&&(window.global=window);const Im=Vt({prefix:"main",level:mi.ERROR});{MM();try{(async()=>{const e=await bC(()=>import("./client-BGuYRAOe.js").then(r=>r.c),[]).catch(r=>{throw Im.error("Failed to load react-dom/client:",r),r}),t=de(tA,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:de(YL,{children:de(r1,{path:"/*",element:de(AM,{})})})});Jw(),e.createRoot(document.getElementById("root")).render(de(G.StrictMode,{children:de(IM,{children:t})}))})()}catch(e){Im.error("Error during initialization:",e)}}export{eP as r};
//# sourceMappingURL=index-CHTxGmnR.js.map
